// ==UserScript==
// @name               Booth Order Analysis
// @name:zh-CN         Booth 订单分析
// @namespace          yueby.booth
// @version            0.1.14
// @author             Yueby
// @description        A userscript for analyzing Booth orders and sales data
// @description:zh-CN  Booth 订单和销售数据分析工具，提供数据可视化和管理功能
// @icon               ./src/assets/icon.svg
// @match              https://manage.booth.pm/orders*
// @require            https://cdn.jsdelivr.net/npm/vue@3.5.18/dist/vue.global.prod.js
// @connect            raw.githubusercontent.com
// @connect            api.exchangerate-api.com
// @connect            manage.booth.pm
// @grant              GM_addStyle
// @grant              GM_getValue
// @grant              GM_notification
// @grant              GM_registerMenuCommand
// @grant              GM_setClipboard
// @grant              GM_setValue
// @grant              GM_xmlhttpRequest
// ==/UserScript==

(e=>{if(typeof GM_addStyle=="function"){GM_addStyle(e);return}const t=document.createElement("style");t.textContent=e,document.head.append(t)})(' .table-content[data-v-a9fcc20e]{max-height:600px;overflow-y:auto;overflow-x:auto;min-width:fit-content}.table-row[data-v-a9fcc20e]{display:flex;border-bottom:1px solid #f3f4f6;transition:background .2s;min-height:36px;min-width:fit-content}.table-row[data-v-a9fcc20e]:hover{background:var(--table-row-hover, #f9fafb)}.table-cell[data-v-a9fcc20e]{padding:8px 12px;font-size:14px;color:var(--table-text-secondary, #6b7280);border-right:1px solid #f3f4f6;display:flex;align-items:center;justify-content:flex-start;min-height:36px;flex-shrink:0}.table-cell[data-v-a9fcc20e]:last-child{border-right:none}.table-cell[data-v-a9fcc20e]>*{width:auto}@media (max-width: 768px){.table-content[data-v-a9fcc20e]{max-height:500px}.table-cell[data-v-a9fcc20e]{padding:8px;font-size:13px}}.empty-state[data-v-09fe5d20]{padding:60px 20px;text-align:center;color:var(--table-text-muted, #9ca3af)}.empty-icon[data-v-09fe5d20]{font-size:48px;margin-bottom:16px}.empty-text[data-v-09fe5d20]{font-size:16px;font-weight:500;margin-bottom:8px;color:var(--table-text-secondary, #6b7280)}.empty-hint[data-v-09fe5d20]{font-size:14px;color:var(--table-text-muted, #9ca3af)}.table-header[data-v-2985fc97]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid var(--table-border-color, #e5e7eb)}.table-header h3[data-v-2985fc97]{margin:0;color:var(--table-text-primary, #1f2937);font-size:16px;font-weight:700;letter-spacing:-.025em}.table-info[data-v-2985fc97]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.item-count[data-v-2985fc97]{font-size:13px;color:var(--table-text-secondary, #6b7280);background:#f3f4f6;padding:4px 10px;border-radius:6px;font-weight:500}@media (max-width: 768px){.table-header[data-v-2985fc97]{flex-direction:column;align-items:flex-start;gap:8px}}.table-header-row[data-v-d01cfb85]{display:flex;background:var(--table-header-bg, #f8fafc);border-bottom:1px solid var(--table-border-color, #e5e7eb);min-width:fit-content}.table-header-cell[data-v-d01cfb85]{padding:12px;font-weight:600;color:var(--table-text-primary, #374151);font-size:14px;border-right:1px solid var(--table-border-color, #e5e7eb);flex-shrink:0}.table-header-cell[data-v-d01cfb85]:last-child{border-right:none}@media (max-width: 768px){.table-header-cell[data-v-d01cfb85]{padding:8px;font-size:13px}}.pagination[data-v-8cac1dac]{position:relative;margin-top:16px;padding-top:16px;border-top:1px solid var(--table-border-color, #e5e7eb)}.pagination-controls[data-v-8cac1dac]{display:flex;justify-content:center;align-items:center;gap:8px}.pagination-info[data-v-8cac1dac]{display:flex;justify-content:center;margin-top:8px}.page-info[data-v-8cac1dac]{font-size:12px;color:var(--table-text-secondary, #6b7280);font-weight:500;padding:4px 8px;background:#f8fafc;border-radius:4px;border:1px solid #e5e7eb}.page-current[data-v-8cac1dac],.page-total[data-v-8cac1dac]{color:var(--table-text-primary, #374151);font-weight:600}.page-numbers[data-v-8cac1dac]{display:flex;gap:2px}@media (max-width: 768px){.pagination[data-v-8cac1dac]{flex-wrap:wrap}}.data-table[data-v-d200fb90]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 1px 3px #0000001a}.table-container[data-v-d200fb90]{border:1px solid var(--table-border-color, #e5e7eb);border-radius:6px;overflow:hidden}.table-container.table-scrollable[data-v-d200fb90]{min-width:1200px}.table-container[data-v-d200fb90]:not(.table-scrollable){overflow-x:auto}.data-table[data-v-d200fb90]{--table-border-color: #e5e7eb;--table-header-bg: #f8fafc;--table-row-hover: #f9fafb;--table-text-primary: #374151;--table-text-secondary: #6b7280;--table-text-muted: #9ca3af}@media (max-width: 768px){.data-table[data-v-d200fb90]{padding:16px}}.item-icon-container[data-v-d70e735f]{display:inline-flex;align-items:center;justify-content:center;width:var(--4fe4d4ec);height:var(--4fe4d4ec);border-radius:4px;overflow:hidden;background:#f3f4f6;flex-shrink:0;flex-grow:0;min-width:var(--4fe4d4ec);min-height:var(--4fe4d4ec);max-width:var(--4fe4d4ec);max-height:var(--4fe4d4ec)}.item-icon[data-v-d70e735f]{width:100%;height:100%;object-fit:cover;border-radius:4px}.privacy-icon[data-v-d70e735f]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#f3f4f6;color:#9ca3af}.modal-overlay[data-v-45c66fea]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal-content[data-v-45c66fea]{background:#fff;border-radius:8px;box-shadow:0 10px 25px #0003;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-small[data-v-45c66fea]{width:400px;max-width:90vw}.modal-medium[data-v-45c66fea]{width:600px;max-width:90vw}.modal-large[data-v-45c66fea]{width:800px;max-width:95vw}.modal-full[data-v-45c66fea]{width:95vw;height:95vh}.modal-header[data-v-45c66fea]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e5e7eb;background:#f8fafc}.modal-title[data-v-45c66fea]{margin:0;color:#374151;font-size:18px;font-weight:600}.modal-body[data-v-45c66fea]{padding:20px;overflow-y:auto;flex:1}.modal-footer[data-v-45c66fea]{padding:16px 20px;border-top:1px solid #e5e7eb;background:#f8fafc;display:flex;justify-content:flex-end;gap:12px}.modal-overlay[data-v-45c66fea]{animation:fadeIn-45c66fea .2s ease-out}.modal-content[data-v-45c66fea]{animation:slideIn-45c66fea .2s ease-out}@keyframes fadeIn-45c66fea{0%{opacity:0}to{opacity:1}}@keyframes slideIn-45c66fea{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.modal-content[data-v-45c66fea]{margin:20px;width:calc(100vw - 40px);max-height:calc(100vh - 40px)}.modal-header[data-v-45c66fea],.modal-body[data-v-45c66fea]{padding:16px}.modal-footer[data-v-45c66fea]{padding:12px 16px}}.selector-container[data-v-595fdcdb]{display:inline-flex}.selector-controls[data-v-595fdcdb]{display:flex;align-items:center;gap:2px;padding:1px;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0;box-shadow:0 1px 2px #0000000d;flex-wrap:wrap;min-height:28px}@media (max-width: 768px){.selector-controls[data-v-595fdcdb]{gap:1px;padding:1px}}.item-link[data-v-e9d2de24]{color:#3b82f6;text-decoration:none;font-weight:500;transition:color .2s}.item-link[data-v-e9d2de24]:hover{color:#2563eb;text-decoration:underline}.item-link-masked[data-v-e9d2de24],.no-link[data-v-e9d2de24]{color:#9ca3af;font-style:italic}.price-cell[data-v-e9d2de24]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding-top:8px}.price-main[data-v-e9d2de24]{font-weight:500;color:#374151}.price-converted[data-v-e9d2de24]{font-size:12px;color:#6b7280;margin-top:2px}.sales-details[data-v-e9d2de24]{display:flex;flex-direction:column;gap:20px}.item-info[data-v-e9d2de24]{display:flex;align-items:flex-start;gap:16px;padding:16px;background:#f8fafc;border-radius:8px;border:1px solid #e5e7eb}.item-details[data-v-e9d2de24]{flex:1;display:flex;flex-direction:column;gap:8px}.item-header[data-v-e9d2de24]{display:flex;align-items:baseline;gap:12px;flex-wrap:wrap}.item-details h4[data-v-e9d2de24]{margin:0;color:#374151;font-size:16px;font-weight:600}.item-id[data-v-e9d2de24]{color:#6b7280;font-size:12px;font-weight:500;background:#f3f4f6;padding:2px 6px;border-radius:4px}.item-meta[data-v-e9d2de24]{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.meta-left[data-v-e9d2de24],.meta-right[data-v-e9d2de24]{display:flex;align-items:center;gap:8px}.item-state[data-v-e9d2de24]{display:flex;align-items:center;gap:4px;font-size:12px;color:#6b7280;font-weight:500}.state-dot[data-v-e9d2de24]{width:6px;height:6px;border-radius:50%;background:#10b981;flex-shrink:0}.item-link[data-v-e9d2de24]{color:#3b82f6;text-decoration:none;font-size:12px;font-weight:500;padding:2px 6px;border-radius:4px;background:#eff6ff;border:1px solid #dbeafe;transition:all .2s}.item-link[data-v-e9d2de24]:hover{background:#dbeafe;color:#2563eb;text-decoration:none}.favorites-item[data-v-e9d2de24]{display:flex;align-items:center;gap:4px}.heart-icon[data-v-e9d2de24]{width:12px;height:12px;color:#ef4444;flex-shrink:0}.favorites-cell[data-v-e9d2de24]{display:flex;align-items:center;gap:4px;justify-content:center}.no-favorites[data-v-e9d2de24]{color:#9ca3af;font-style:italic}.sales-summary[data-v-e9d2de24]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;padding:16px;background:#f8fafc;border-radius:8px;border:1px solid #e5e7eb}.summary-item[data-v-e9d2de24]{display:flex;flex-direction:column;gap:4px;padding:8px;background:#fff;border-radius:6px;border:1px solid #e5e7eb}.summary-label[data-v-e9d2de24]{font-size:11px;color:#6b7280;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.summary-value[data-v-e9d2de24]{font-size:16px;color:#374151;font-weight:600}.variant-sales h5[data-v-e9d2de24]{margin:0 0 12px;color:#374151;font-size:14px;font-weight:600;padding-bottom:6px;border-bottom:1px solid #e5e7eb}.variant-list[data-v-e9d2de24]{display:flex;flex-direction:column;gap:8px}.variant-item[data-v-e9d2de24]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#f9fafb;border-radius:6px;border:1px solid #e5e7eb}.variant-info[data-v-e9d2de24]{display:flex;align-items:center;flex:1}.variant-details[data-v-e9d2de24]{display:flex;flex-direction:column;gap:2px}.variant-name[data-v-e9d2de24]{font-size:14px;color:#374151;font-weight:500}.variant-source[data-v-e9d2de24]{font-size:11px;color:#059669;font-weight:500}.variant-stats[data-v-e9d2de24]{display:flex;flex-direction:column;gap:4px;text-align:right;min-width:100px}.variant-quantity[data-v-e9d2de24],.variant-revenue[data-v-e9d2de24]{font-size:12px;color:#6b7280;font-weight:500}.variant-summary[data-v-e9d2de24]{background:#f0f9ff;border:1px solid #bae6fd;border-radius:6px;padding:12px;margin-bottom:16px}.summary-stats[data-v-e9d2de24]{display:flex;gap:16px;flex-wrap:wrap}.summary-stat[data-v-e9d2de24]{font-size:12px;color:#0369a1;font-weight:500}.summary-stat strong[data-v-e9d2de24]{color:#0c4a6e;font-weight:600}.no-variants[data-v-e9d2de24]{text-align:center;padding:20px;color:#9ca3af;font-style:italic}@media (max-width: 768px){.modal-content[data-v-e9d2de24]{width:95%;margin:20px}.variant-item[data-v-e9d2de24]{flex-direction:column;align-items:flex-start;gap:8px}.variant-stats[data-v-e9d2de24]{text-align:left;width:100%}}.item-entry[data-v-bc9a52c5]{display:flex;align-items:center;justify-content:flex-start;gap:6px;padding:2px 0;position:relative}.item-name[data-v-bc9a52c5]{font-size:13px;color:#374151;word-wrap:break-word;word-break:break-word;line-height:1.4;flex:1;min-width:0}.tooltip[data-v-bc9a52c5]{position:fixed;z-index:9999;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 10px 25px #00000026;padding:12px;min-width:280px;max-width:350px;font-size:13px;animation:tooltipFadeIn-bc9a52c5 .2s ease-out}.tooltip-header[data-v-bc9a52c5]{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #f3f4f6}.tooltip-icon[data-v-bc9a52c5]{width:32px;height:32px;border-radius:4px;object-fit:cover;flex-shrink:0}.tooltip-icon-placeholder[data-v-bc9a52c5]{width:32px;height:32px;border-radius:4px;flex-shrink:0;display:flex;align-items:center;justify-content:center;background:#f3f4f6}.tooltip-title[data-v-bc9a52c5]{font-weight:600;color:#1f2937;line-height:1.3;word-wrap:break-word}.tooltip-content[data-v-bc9a52c5]{display:flex;flex-direction:column;gap:6px}.tooltip-row[data-v-bc9a52c5]{display:flex;align-items:center;gap:8px}.tooltip-label[data-v-bc9a52c5]{color:#6b7280;font-size:12px;min-width:50px;flex-shrink:0}.tooltip-value[data-v-bc9a52c5]{color:#374151;font-weight:500;word-break:break-all}.sales-highlight[data-v-bc9a52c5]{color:#059669;font-weight:600;background:#ecfdf5;padding:2px 6px;border-radius:4px;font-size:12px}.tooltip-link[data-v-bc9a52c5]{color:#3b82f6;text-decoration:none;font-weight:500;transition:color .2s}.tooltip-link[data-v-bc9a52c5]:hover{color:#2563eb;text-decoration:underline}.favorites-display[data-v-bc9a52c5]{display:flex;align-items:center;gap:4px}.heart-icon[data-v-bc9a52c5]{width:12px;height:12px;color:#ef4444}@keyframes tooltipFadeIn-bc9a52c5{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.tooltip[data-v-bc9a52c5]{min-width:250px;max-width:300px;font-size:12px}.tooltip-icon[data-v-bc9a52c5]{width:28px;height:28px}}.order-number[data-v-19177af7]{font-weight:500;color:#374151}.date-cell[data-v-19177af7]{display:flex;flex-direction:column;align-items:flex-start;gap:3px;width:100%}.date-main[data-v-19177af7]{font-weight:600;color:#374151;font-size:14px;line-height:1.2}.date-converted[data-v-19177af7]{font-size:12px;color:#6b7280;font-style:italic;font-weight:400;line-height:1.2}.items[data-v-19177af7]{display:flex;flex-direction:column;gap:4px;max-height:120px;overflow-y:auto}.item-list[data-v-19177af7]{display:flex;flex-direction:column;gap:4px}.no-items[data-v-19177af7]{color:#9ca3af;font-style:italic;font-size:12px}.payment-method[data-v-19177af7]{font-weight:500;color:#374151}.price-cell[data-v-19177af7]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding-top:8px;gap:3px;width:100%}.price-main[data-v-19177af7]{font-weight:600;color:#374151;font-size:14px;line-height:1.2}.price-converted[data-v-19177af7]{font-size:12px;color:#6b7280;font-weight:400;line-height:1.2}.booth-fee-cell[data-v-19177af7],.net-amount-cell[data-v-19177af7]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding-top:8px;gap:3px;width:100%}@media (max-width: 768px){.date-cell[data-v-19177af7]{align-items:center}.items[data-v-19177af7]{max-height:80px}.price-cell[data-v-19177af7],.booth-fee-cell[data-v-19177af7],.net-amount-cell[data-v-19177af7]{padding-top:4px}}.settings-content[data-v-7495013f]{padding:24px}.setting-section[data-v-7495013f]{margin-bottom:24px}.setting-section h3[data-v-7495013f]{margin:0 0 8px;color:#374151;font-size:16px;font-weight:600}.setting-description[data-v-7495013f]{margin:0 0 16px;color:#6b7280;font-size:14px;line-height:1.5}.setting-item[data-v-7495013f]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.setting-item label[data-v-7495013f]{font-size:14px;color:#374151;font-weight:500;flex-shrink:0}.timezone-select[data-v-7495013f],.currency-select[data-v-7495013f],.time-filter-select[data-v-7495013f]{flex:1;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;background:#fff;color:#374151;min-width:0;width:100%}.current-time[data-v-7495013f],.exchange-rate-info[data-v-7495013f]{font-size:12px;color:#6b7280;background:#f3f4f6;padding:8px 12px;border-radius:4px}.fee-info[data-v-7495013f]{background:#f0f9ff;border:1px solid #bfdbfe;border-radius:6px;padding:12px;margin-top:8px}.fee-info p[data-v-7495013f]{margin:0;font-size:13px;color:#1e40af;line-height:1.6}.fee-info p[data-v-7495013f]:not(:last-child){margin-bottom:8px}.setting-actions[data-v-7495013f]{display:flex;gap:12px}.date-filter[data-v-b0951009]{border-top:1px solid #e5e7eb;padding-top:16px}.filter-header[data-v-b0951009]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.filter-header h4[data-v-b0951009]{margin:0;color:#374151;font-size:13px;font-weight:600}.current-period[data-v-b0951009]{font-size:11px;color:#6b7280;background:#f3f4f6;padding:3px 6px;border-radius:3px}.filter-controls[data-v-b0951009]{display:flex;flex-direction:column;gap:12px}.period-selector[data-v-b0951009]{font-size:11px}.date-picker-content[data-v-b0951009]{padding:0}.date-input-group[data-v-b0951009]{margin-bottom:16px}.date-input-group label[data-v-b0951009]{display:block;font-size:14px;color:#374151;font-weight:500;margin-bottom:6px}.date-input[data-v-b0951009]{width:100%;padding:10px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;background:#fff;color:#374151}.date-input[data-v-b0951009]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}@media (max-width: 768px){.period-selector[data-v-b0951009]{font-size:10px}}.item-ranking[data-v-86224ee7]{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 4px #0000000d;border:1px solid #f1f5f9;height:300px;display:flex;flex-direction:column;min-height:300px;max-height:300px}.ranking-header[data-v-86224ee7]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-shrink:0}.ranking-header h4[data-v-86224ee7]{margin:0;color:#1f2937;font-size:14px;font-weight:600}.ranking-controls[data-v-86224ee7]{display:flex;align-items:center}.sort-selector[data-v-86224ee7]{font-size:10px}.ranking-list[data-v-86224ee7]{display:flex;flex-direction:column;gap:6px;flex:1;overflow-y:auto;overflow-x:hidden;padding-right:4px}.ranking-list[data-v-86224ee7]::-webkit-scrollbar{width:4px}.ranking-list[data-v-86224ee7]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:2px}.ranking-list[data-v-86224ee7]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}.ranking-list[data-v-86224ee7]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.ranking-item[data-v-86224ee7]{display:flex;align-items:center;gap:8px;padding:6px;background:#f8fafc;border-radius:6px;border:1px solid #e5e7eb;transition:all .2s ease;flex-shrink:0}.ranking-item[data-v-86224ee7]:hover{background:#f1f5f9;border-color:#d1d5db;transform:translateY(-1px)}.rank-badge[data-v-86224ee7]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:11px;color:#fff;flex-shrink:0}.rank-1[data-v-86224ee7]{background:linear-gradient(135deg,#fbbf24,#f59e0b)}.rank-2[data-v-86224ee7]{background:linear-gradient(135deg,#9ca3af,#6b7280)}.rank-3[data-v-86224ee7]{background:linear-gradient(135deg,#cd7f32,#b8860b)}.rank-4[data-v-86224ee7],.rank-5[data-v-86224ee7],.rank-6[data-v-86224ee7],.rank-7[data-v-86224ee7],.rank-8[data-v-86224ee7],.rank-9[data-v-86224ee7],.rank-10[data-v-86224ee7]{background:linear-gradient(135deg,#e5e7eb,#d1d5db);color:#6b7280}.product-info[data-v-86224ee7]{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.product-icon[data-v-86224ee7]{width:28px;height:28px;border-radius:4px;overflow:hidden;flex-shrink:0;background:#f3f4f6;display:flex;align-items:center;justify-content:center}.product-icon[data-v-86224ee7]{display:flex;align-items:center;justify-content:center}.product-details[data-v-86224ee7]{flex:1;min-width:0}.product-name[data-v-86224ee7]{margin-bottom:0}.product-link[data-v-86224ee7]{color:#1f2937;text-decoration:none;font-weight:500;font-size:11px;line-height:1.3;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.product-link[data-v-86224ee7]:hover{color:#3b82f6;text-decoration:underline}.sales-data[data-v-86224ee7]{display:flex;flex-direction:column;gap:2px;align-items:flex-end;flex-shrink:0}.quantity[data-v-86224ee7]{display:flex;flex-direction:column;align-items:flex-end;gap:1px}.quantity-label[data-v-86224ee7]{font-size:9px;color:#6b7280;font-weight:500}.quantity-value[data-v-86224ee7]{font-size:12px;font-weight:700;color:#1f2937}.empty-state[data-v-86224ee7]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;color:#6b7280;flex:1}.empty-icon[data-v-86224ee7]{font-size:24px;margin-bottom:8px}.empty-text[data-v-86224ee7]{font-size:12px;font-weight:500}@media (max-width: 768px){.item-ranking[data-v-86224ee7]{padding:12px}.ranking-header h4[data-v-86224ee7]{font-size:13px}.ranking-item[data-v-86224ee7]{padding:5px;gap:6px}.product-icon[data-v-86224ee7]{width:24px;height:24px}.product-link[data-v-86224ee7]{font-size:10px}.quantity-value[data-v-86224ee7]{font-size:11px}.quantity-label[data-v-86224ee7]{font-size:8px}.rank-badge[data-v-86224ee7]{width:20px;height:20px;font-size:10px}}.chart-container[data-v-93af1781]{background:#fff;border-radius:8px;padding:16px;box-shadow:0 1px 3px #0000001a;margin-bottom:0;height:100%;display:flex;flex-direction:column}.chart-header[data-v-93af1781]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.chart-header h4[data-v-93af1781]{margin:0;color:#374151;font-size:16px;font-weight:600}.chart-info[data-v-93af1781]{display:flex;align-items:center;gap:8px}.total-orders[data-v-93af1781]{font-size:12px;color:#6b7280;background:#f3f4f6;padding:2px 6px;border-radius:4px}.chart-content[data-v-93af1781]{display:flex;gap:16px;flex:1;align-items:flex-start}.chart-wrapper[data-v-93af1781]{position:relative;height:180px;width:65%;flex-shrink:0}canvas[data-v-93af1781]{width:100%!important;height:100%!important}.legend-container[data-v-93af1781]{display:flex;flex-direction:column;gap:4px;width:35%;flex-shrink:0;align-items:flex-end;justify-content:flex-start;padding:8px;box-sizing:border-box;overflow-y:auto;max-height:100%}.legend-item[data-v-93af1781]{display:flex;align-items:center;gap:4px;padding:3px 5px;border-radius:3px;background:#f9fafb;transition:background .2s;border:1px solid #e5e7eb;font-size:10px;white-space:nowrap}.legend-item[data-v-93af1781]:hover{background:#f3f4f6;border-color:#d1d5db}.legend-color[data-v-93af1781]{width:10px;height:10px;border-radius:50%;flex-shrink:0}.legend-text[data-v-93af1781]{display:flex;align-items:center}.legend-label[data-v-93af1781]{font-size:11px;font-weight:500;color:#374151}.chart-container[data-v-a06a6628]{background:#fff;border-radius:8px;padding:16px;box-shadow:0 1px 3px #0000001a;margin-bottom:0;height:100%;display:flex;flex-direction:column}.chart-header[data-v-a06a6628]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.chart-header h4[data-v-a06a6628]{margin:0;color:#374151;font-size:16px;font-weight:600}.chart-info[data-v-a06a6628]{display:flex;align-items:center;gap:8px}.data-points[data-v-a06a6628]{font-size:12px;color:#6b7280;background:#f3f4f6;padding:2px 6px;border-radius:4px}.chart-wrapper[data-v-a06a6628]{position:relative;height:250px;width:100%;flex:1}canvas[data-v-a06a6628]{width:100%!important;height:100%!important}.statistics-panel[data-v-b96e3217]{background:#fff;border-radius:16px;padding:24px;margin-bottom:20px;box-shadow:0 4px 6px #0000000d;border:1px solid #f1f5f9}.stats-section[data-v-b96e3217]{margin-bottom:24px}.stats-section h3[data-v-b96e3217]{margin:0 0 20px;color:#1f2937;font-size:18px;font-weight:700;letter-spacing:-.5px}.stats-grid[data-v-b96e3217]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px}.stat-card[data-v-b96e3217]{background:linear-gradient(135deg,#fff,#f8fafc);border:1px solid #e5e7eb;border-radius:12px;padding:20px 16px;text-align:center;transition:all .3s ease;position:relative;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between;min-height:120px}.stat-content[data-v-b96e3217]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}.stat-card[data-v-b96e3217]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#3b82f6,#10b981)}.orders-card[data-v-b96e3217]:before{background:linear-gradient(90deg,#3b82f6,#1d4ed8)}.revenue-card[data-v-b96e3217]:before{background:linear-gradient(90deg,#10b981,#059669)}.net-revenue-card[data-v-b96e3217]:before{background:linear-gradient(90deg,#f59e0b,#d97706)}.pending-card[data-v-b96e3217]:before{background:linear-gradient(90deg,#ef4444,#dc2626)}.stat-card[data-v-b96e3217]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.stat-value[data-v-b96e3217]{font-size:28px;font-weight:800;color:#1f2937;margin-bottom:4px;line-height:1.2;letter-spacing:-.5px}.stat-converted[data-v-b96e3217]{font-size:12px;font-weight:600;color:#6b7280;margin-bottom:8px;background:#6b72801a;padding:4px 10px;border-radius:16px;display:inline-block;border:1px solid rgba(107,114,128,.2);width:fit-content;min-width:min-content}.stat-label[data-v-b96e3217]{font-size:13px;color:#6b7280;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-top:auto}.charts-section[data-v-b96e3217]{margin-top:16px;border-top:1px solid #e5e7eb;padding-top:16px}.charts-grid[data-v-b96e3217]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;align-items:start}.charts-grid[data-v-b96e3217]>*{height:300px;min-height:300px;max-height:300px}.ranking-section[data-v-b96e3217]{margin-top:16px;border-top:1px solid #e5e7eb;padding-top:16px}.charts-grid[data-v-b96e3217]:has(.chart-container:only-child){grid-template-columns:1fr}@media (max-width: 768px){.stats-grid[data-v-b96e3217]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.stat-card[data-v-b96e3217]{padding:16px 12px}.stat-value[data-v-b96e3217]{font-size:24px}.stat-converted[data-v-b96e3217]{font-size:11px;padding:3px 8px}.period-selector[data-v-b96e3217]{font-size:10px}.charts-grid[data-v-b96e3217]{grid-template-columns:1fr;gap:16px}.item-ranking[data-v-b96e3217]{padding:12px}.item-ranking .ranking-header h4[data-v-b96e3217]{font-size:13px}.item-ranking .ranking-item[data-v-b96e3217]{flex-direction:column;align-items:flex-start;gap:6px}.item-ranking .product-info[data-v-b96e3217]{width:100%}.item-ranking .sales-data[data-v-b96e3217]{width:100%;flex-direction:row;justify-content:space-between;align-items:center}}.exchange-rate-status[data-v-edd46e6c]{display:flex;align-items:center;gap:8px;padding:3px 6px;background:#f8fafc;border-radius:4px;font-size:11px;min-width:160px;border:1px solid #e5e7eb}.status-indicator[data-v-edd46e6c]{width:6px;height:6px;border-radius:50%;flex-shrink:0}.status-info[data-v-edd46e6c]{display:flex;flex-direction:row;align-items:center;gap:4px;flex:1;min-width:0}.status-text[data-v-edd46e6c]{font-weight:600;color:#374151;font-size:12px}.age-text[data-v-edd46e6c]{color:#6b7280;font-size:11px;white-space:nowrap}.rate-info[data-v-edd46e6c]{color:#059669;font-size:12px;font-weight:600;white-space:nowrap}.update-time[data-v-edd46e6c]{color:#6b7280;font-size:10px;white-space:nowrap}.refresh-icon[data-v-edd46e6c]{width:12px;height:12px;color:#6b7280;transition:color .2s}.refresh-btn:hover:not(:disabled) .refresh-icon[data-v-edd46e6c]{color:#374151}.spinner[data-v-edd46e6c]{width:12px;height:12px;border:2px solid #d1d5db;border-top:2px solid #6b7280;border-radius:50%;animation:spin-edd46e6c 1s linear infinite}@keyframes spin-edd46e6c{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.analysis-content[data-v-44f36af5]{width:100%;height:100%;display:flex;flex-direction:column}.header[data-v-44f36af5]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:#f8fafccc;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(229,231,235,.6);flex-shrink:0}.header-left[data-v-44f36af5]{display:flex;align-items:center}.title[data-v-44f36af5]{margin:0;font-size:18px;font-weight:600;color:#374151}.header-right[data-v-44f36af5]{display:flex;gap:8px;align-items:center}.settings-icon[data-v-44f36af5]{width:18px;height:18px}.refresh-icon[data-v-44f36af5]{width:18px;height:18px;flex-shrink:0}.refresh-icon.loading[data-v-44f36af5]{animation:spin-44f36af5 1s linear infinite;transform-origin:center}@keyframes spin-44f36af5{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.content[data-v-44f36af5]{flex:1;padding:20px;overflow-y:auto;overflow-x:hidden}.tab-navigation[data-v-44f36af5]{display:flex;gap:4px;margin-bottom:20px;border-bottom:1px solid #e5e7eb}.tab-navigation .booth-btn[data-v-44f36af5]{border-radius:6px 6px 0 0;border-bottom:2px solid transparent;background:none;color:#6b7280}.tab-navigation .booth-btn[data-v-44f36af5]:hover{color:#374151;background:#f9fafb;border-bottom-color:#d1d5db}.tab-navigation .booth-btn.booth-btn-primary[data-v-44f36af5]{color:#3b82f6;border-bottom-color:#3b82f6;background:#eff6ff}.tab-content[data-v-44f36af5]{flex:1}@media (max-width: 768px){.header[data-v-44f36af5]{padding:12px 16px}.title[data-v-44f36af5]{font-size:16px}.header-right[data-v-44f36af5]{gap:6px}.settings-icon[data-v-44f36af5],.refresh-icon[data-v-44f36af5]{width:16px;height:16px;flex-shrink:0}}@media (max-width: 480px){.header[data-v-44f36af5]{padding:10px 12px}.title[data-v-44f36af5]{font-size:14px}.header-right[data-v-44f36af5]{gap:4px}.settings-icon[data-v-44f36af5],.refresh-icon[data-v-44f36af5]{width:14px;height:14px;flex-shrink:0}}.booth-btn{display:inline-flex;align-items:center;justify-content:center;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:all .15s ease;text-decoration:none;white-space:nowrap;-webkit-user-select:none;user-select:none;position:relative;overflow:hidden;background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.booth-btn:hover:not(:disabled){background:#e5e7eb;border-color:#9ca3af;transform:translateY(-1px)}.booth-btn:active:not(:disabled){background:#d1d5db;transform:translateY(1px)}.booth-btn-sm{padding:4px 8px;font-size:11px;min-height:24px}.booth-btn-md{padding:6px 12px;font-size:12px;min-height:32px}.booth-btn-lg{padding:8px 16px;font-size:14px;min-height:40px}.booth-btn-primary{background:#3b82f6;color:#fff;box-shadow:0 1px 3px #3b82f64d}.booth-btn-primary:hover:not(:disabled){background:#2563eb;box-shadow:0 2px 4px #3b82f666}.booth-btn-primary:active:not(:disabled){background:#1d4ed8;transform:translateY(1px)}.booth-btn-secondary{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.booth-btn-secondary:hover:not(:disabled){background:#e5e7eb;border-color:#9ca3af}.booth-btn-secondary:active:not(:disabled){background:#d1d5db;transform:translateY(1px)}.booth-btn-success{background:#10b981;color:#fff;box-shadow:0 1px 3px #10b9814d}.booth-btn-success:hover:not(:disabled){background:#059669;box-shadow:0 2px 4px #10b98166}.booth-btn-success:active:not(:disabled){background:#047857;transform:translateY(1px)}.booth-btn-danger{background:#ef4444;color:#fff;box-shadow:0 1px 3px #ef44444d}.booth-btn-danger:hover:not(:disabled){background:#dc2626;box-shadow:0 2px 4px #ef444466}.booth-btn-danger:active:not(:disabled){background:#b91c1c;transform:translateY(1px)}.booth-btn-ghost{background:transparent;color:#64748b;border:1px solid transparent}.booth-btn-ghost:hover:not(:disabled){background:#f1f5f9;color:#475569;border-color:#e2e8f0}.booth-btn-ghost:active:not(:disabled){background:#e2e8f0;transform:translateY(1px)}.booth-btn:disabled{background:#f3f4f6;color:#9ca3af;cursor:not-allowed;box-shadow:none;opacity:.6}.booth-btn:disabled:hover{background:#f3f4f6;color:#9ca3af;box-shadow:none;transform:none}.booth-btn-group{display:inline-flex;border-radius:6px;overflow:hidden;box-shadow:0 1px 2px #0000000d}.booth-btn-group .booth-btn{border-radius:0;border-right:1px solid rgba(255,255,255,.2)}.booth-btn-group .booth-btn:first-child{border-top-left-radius:6px;border-bottom-left-radius:6px}.booth-btn-group .booth-btn:last-child{border-top-right-radius:6px;border-bottom-right-radius:6px;border-right:none}.booth-btn-icon{padding:6px;min-width:32px;min-height:32px}.booth-btn-icon.booth-btn-sm{padding:4px;min-width:24px;min-height:24px}.booth-btn-icon.booth-btn-lg{padding:8px;min-width:40px;min-height:40px}@media (max-width: 768px){.booth-btn-md{padding:5px 10px;font-size:11px;min-height:28px}.booth-btn-lg{padding:7px 14px;font-size:13px;min-height:36px}}.booth-btn{transition:all .15s ease}.booth-btn:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.booth-btn:focus:not(:focus-visible){box-shadow:none}.booth-btn-loading{position:relative;color:transparent}.booth-btn-loading:after{content:"";position:absolute;top:50%;left:50%;width:16px;height:16px;margin:-8px 0 0 -8px;border:2px solid transparent;border-top-color:currentColor;border-radius:50%;animation:booth-btn-spin .6s linear infinite}@keyframes booth-btn-spin{to{transform:rotate(360deg)}}.booth-toggle{display:flex;align-items:center;gap:12px;cursor:pointer;position:relative}.booth-toggle input[type=checkbox]{position:absolute;opacity:0;width:0;height:0}.booth-toggle .toggle-slider{position:relative;width:44px;height:24px;background:#d1d5db;border-radius:12px;transition:all .15s ease}.booth-toggle .toggle-slider:before{content:"";position:absolute;top:2px;left:2px;width:20px;height:20px;background:#fff;border-radius:50%;transition:transform .3s;box-shadow:0 2px 4px #0003}.booth-toggle input[type=checkbox]:checked+.toggle-slider{background:#10b981}.booth-toggle input[type=checkbox]:checked+.toggle-slider:before{transform:translate(20px)}.booth-toggle .toggle-label{font-size:14px;color:#374151;font-weight:500}.booth-toggle:hover .toggle-slider{background:#9ca3af;transform:translateY(-1px)}.booth-toggle:hover .toggle-label{color:#1f2937}.booth-toggle input[type=checkbox]:active+.toggle-slider{transform:translateY(1px)}.booth-toggle input[type=checkbox]:active+.toggle-slider:before{transform:translate(2px)}.booth-toggle input[type=checkbox]:checked:active+.toggle-slider:before{transform:translate(20px)}.booth-toggle-sm .toggle-slider{width:36px;height:20px}.booth-toggle-sm .toggle-slider:before{width:16px;height:16px}.booth-toggle-sm input[type=checkbox]:checked+.toggle-slider:before{transform:translate(16px)}.booth-toggle-lg .toggle-slider{width:52px;height:28px}.booth-toggle-lg .toggle-slider:before{width:24px;height:24px}.booth-toggle-lg input[type=checkbox]:checked+.toggle-slider:before{transform:translate(24px)}#booth-analysis-button{position:relative;overflow:hidden}#booth-analysis-button .button-text{transition:opacity .3s ease}#booth-analysis-button.loading .button-text{opacity:1;margin-left:24px}#booth-analysis-button .loading-spinner{position:absolute;top:50%;left:12px;transform:translateY(-50%)}#booth-analysis-button .spinner{width:16px;height:16px;border:2px solid rgba(59,130,246,.3);border-top:2px solid #3b82f6;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}} ');

(function (vue) {
	'use strict';

	const N={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function I(t){return (e={})=>{const s=e.width?e.width+"":t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const O={date:I({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:I({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:I({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},R={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function P(t){return (e,s)=>{let i;if("formatting"==(s?.context?s.context+"":"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,n=s?.width?s.width+"":e;i=t.formattingValues[n]||t.formattingValues[e];}else {const e=t.defaultWidth,n=s?.width?s.width+"":t.defaultWidth;i=t.values[n]||t.values[e];}return i[t.argumentCallback?t.argumentCallback(e):e]}}function L(t){return (e,s={})=>{const i=s.width,n=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=e.match(n);if(!r)return null;const a=r[0],o=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?function(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}(o,t=>t.test(a)):function(t,e){for(const s in t)if({}.hasOwnProperty.call(t,s)&&e(t[s]))return s}(o,t=>t.test(a));let h;return h=t.valueCallback?t.valueCallback(c):c,h=s.valueCallback?s.valueCallback(h):h,{value:h,rest:e.slice(a.length)}}}var B;const F={code:"en-US",formatDistance:(t,e,s)=>{let i;const n=N[t];return i="string"==typeof n?n:1===e?n.one:n.other.replace("{{count}}",e.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i},formatLong:O,formatRelative:(t,e,s,i)=>R[t],localize:{ordinalNumber:(t,e)=>{const s=+t,i=s%100;if(i>20||10>i)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:P({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:P({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:P({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:P({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:P({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(B={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},(t,e={})=>{const s=t.match(B.matchPattern);if(!s)return null;const i=s[0],n=t.match(B.parsePattern);if(!n)return null;let r=B.valueCallback?B.valueCallback(n[0]):n[0];return r=e.valueCallback?e.valueCallback(r):r,{value:r,rest:t.slice(i.length)}}),era:L({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:L({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:L({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:L({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:L({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let j={};function U(){return j}const q=6048e5,H=36e5,z=Symbol.for("constructDateFrom");function $(t,e){return "function"==typeof t?t(e):t&&"object"==typeof t&&z in t?t[z](e):t instanceof Date?new t.constructor(e):new Date(e)}function W(t,e){return $(e||t,t)}function Y(t){const e=W(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function V(t,e){const s=W(t,e?.in);return s.setHours(0,0,0,0),s}function G(t,e){const s=U(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,n=W(t,e?.in),r=n.getDay(),a=(i>r?7:0)+r-i;return n.setDate(n.getDate()-a),n.setHours(0,0,0,0),n}function Q(t,e){return G(t,{...e,weekStartsOn:1})}function X(t,e){const s=W(t,e?.in),i=s.getFullYear(),n=$(s,0);n.setFullYear(i+1,0,4),n.setHours(0,0,0,0);const r=Q(n),a=$(s,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const o=Q(a);return s.getTime()<r.getTime()?s.getTime()<o.getTime()?i-1:i:i+1}function Z(t,e){const s=W(t,e?.in),i=s.getFullYear(),n=U(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=$(e?.in||t,0);a.setFullYear(i+1,0,r),a.setHours(0,0,0,0);const o=G(a,e),c=$(e?.in||t,0);c.setFullYear(i,0,r),c.setHours(0,0,0,0);const h=G(c,e);return +o>+s?+h>+s?i-1:i:i+1}function J(t,e){return (0>t?"-":"")+Math.abs(t).toString().padStart(e,"0")}const K={y(t,e){const s=t.getFullYear(),i=s>0?s:1-s;return J("yy"===e?i%100:i,e.length)},M(t,e){const s=t.getMonth();return "M"===e?s+1+"":J(s+1,2)},d:(t,e)=>J(t.getDate(),e.length),a(t,e){const s=1>t.getHours()/12?"am":"pm";switch(e){case "a":case "aa":return s.toUpperCase();case "aaa":return s;case "aaaaa":return s[0];default:return "am"===s?"a.m.":"p.m."}},h:(t,e)=>J(t.getHours()%12||12,e.length),H:(t,e)=>J(t.getHours(),e.length),m:(t,e)=>J(t.getMinutes(),e.length),s:(t,e)=>J(t.getSeconds(),e.length),S(t,e){const s=e.length,i=t.getMilliseconds();return J(Math.trunc(i*Math.pow(10,s-3)),e.length)}},tt={G:function(t,e,s){const i=t.getFullYear()>0?1:0;switch(e){case "G":case "GG":case "GGG":return s.era(i,{width:"abbreviated"});case "GGGGG":return s.era(i,{width:"narrow"});default:return s.era(i,{width:"wide"})}},y:function(t,e,s){if("yo"===e){const e=t.getFullYear(),i=e>0?e:1-e;return s.ordinalNumber(i,{unit:"year"})}return K.y(t,e)},Y:function(t,e,s,i){const n=Z(t,i),r=n>0?n:1-n;return "YY"===e?J(r%100,2):"Yo"===e?s.ordinalNumber(r,{unit:"year"}):J(r,e.length)},R:function(t,e){return J(X(t),e.length)},u:function(t,e){return J(t.getFullYear(),e.length)},Q:function(t,e,s){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case "Q":return i+"";case "QQ":return J(i,2);case "Qo":return s.ordinalNumber(i,{unit:"quarter"});case "QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case "QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,s){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case "q":return i+"";case "qq":return J(i,2);case "qo":return s.ordinalNumber(i,{unit:"quarter"});case "qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case "qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,s){const i=t.getMonth();switch(e){case "M":case "MM":return K.M(t,e);case "Mo":return s.ordinalNumber(i+1,{unit:"month"});case "MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case "MMMMM":return s.month(i,{width:"narrow",context:"formatting"});default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,s){const i=t.getMonth();switch(e){case "L":return i+1+"";case "LL":return J(i+1,2);case "Lo":return s.ordinalNumber(i+1,{unit:"month"});case "LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case "LLLLL":return s.month(i,{width:"narrow",context:"standalone"});default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,s,i){const n=function(t,e){const s=W(t,e?.in),i=+G(s,e)-+function(t,e){const s=U(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,n=Z(t,e),r=$(e?.in||t,0);return r.setFullYear(n,0,i),r.setHours(0,0,0,0),G(r,e)}(s,e);return Math.round(i/q)+1}(t,i);return "wo"===e?s.ordinalNumber(n,{unit:"week"}):J(n,e.length)},I:function(t,e,s){const i=function(t){const e=W(t,undefined),s=+Q(e)-+function(t){const e=X(t,void 0),s=$(t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),Q(s)}(e);return Math.round(s/q)+1}(t);return "Io"===e?s.ordinalNumber(i,{unit:"week"}):J(i,e.length)},d:function(t,e,s){return "do"===e?s.ordinalNumber(t.getDate(),{unit:"date"}):K.d(t,e)},D:function(t,e,s){const i=function(t,e){const s=W(t,e?.in),i=function(t,e){const[s,i]=function(t,...e){const s=$.bind(null,e.find(t=>"object"==typeof t));return e.map(s)}(0,t,e),n=V(s),r=V(i),a=+n-Y(n),o=+r-Y(r);return Math.round((a-o)/864e5)}(s,function(t){const e=W(t,void 0);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}(s));return i+1}(t);return "Do"===e?s.ordinalNumber(i,{unit:"dayOfYear"}):J(i,e.length)},E:function(t,e,s){const i=t.getDay();switch(e){case "E":case "EE":case "EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case "EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case "EEEEEE":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,s,i){const n=t.getDay(),r=(n-i.weekStartsOn+8)%7||7;switch(e){case "e":return r+"";case "ee":return J(r,2);case "eo":return s.ordinalNumber(r,{unit:"day"});case "eee":return s.day(n,{width:"abbreviated",context:"formatting"});case "eeeee":return s.day(n,{width:"narrow",context:"formatting"});case "eeeeee":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(t,e,s,i){const n=t.getDay(),r=(n-i.weekStartsOn+8)%7||7;switch(e){case "c":return r+"";case "cc":return J(r,e.length);case "co":return s.ordinalNumber(r,{unit:"day"});case "ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case "ccccc":return s.day(n,{width:"narrow",context:"standalone"});case "cccccc":return s.day(n,{width:"short",context:"standalone"});default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(t,e,s){const i=t.getDay(),n=0===i?7:i;switch(e){case "i":return n+"";case "ii":return J(n,e.length);case "io":return s.ordinalNumber(n,{unit:"day"});case "iii":return s.day(i,{width:"abbreviated",context:"formatting"});case "iiiii":return s.day(i,{width:"narrow",context:"formatting"});case "iiiiii":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,s){const i=1>t.getHours()/12?"am":"pm";switch(e){case "a":case "aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case "aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case "aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,s){const i=t.getHours();let n;switch(n=12===i?"noon":0===i?"midnight":1>i/12?"am":"pm",e){case "b":case "bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case "bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case "bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,s){const i=t.getHours();let n;switch(n=17>i?12>i?4>i?"night":"morning":"afternoon":"evening",e){case "B":case "BB":case "BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case "BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,s){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),s.ordinalNumber(e,{unit:"hour"})}return K.h(t,e)},H:function(t,e,s){return "Ho"===e?s.ordinalNumber(t.getHours(),{unit:"hour"}):K.H(t,e)},K:function(t,e,s){const i=t.getHours()%12;return "Ko"===e?s.ordinalNumber(i,{unit:"hour"}):J(i,e.length)},k:function(t,e,s){let i=t.getHours();return 0===i&&(i=24),"ko"===e?s.ordinalNumber(i,{unit:"hour"}):J(i,e.length)},m:function(t,e,s){return "mo"===e?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):K.m(t,e)},s:function(t,e,s){return "so"===e?s.ordinalNumber(t.getSeconds(),{unit:"second"}):K.s(t,e)},S:function(t,e){return K.S(t,e)},X:function(t,e,s){const i=t.getTimezoneOffset();if(0===i)return "Z";switch(e){case "X":return st(i);case "XXXX":case "XX":return it(i);default:return it(i,":")}},x:function(t,e,s){const i=t.getTimezoneOffset();switch(e){case "x":return st(i);case "xxxx":case "xx":return it(i);default:return it(i,":")}},O:function(t,e,s){const i=t.getTimezoneOffset();switch(e){case "O":case "OO":case "OOO":return "GMT"+et(i,":");default:return "GMT"+it(i,":")}},z:function(t,e,s){const i=t.getTimezoneOffset();switch(e){case "z":case "zz":case "zzz":return "GMT"+et(i,":");default:return "GMT"+it(i,":")}},t:function(t,e,s){return J(Math.trunc(+t/1e3),e.length)},T:function(t,e,s){return J(+t,e.length)}};function et(t,e=""){const s=t>0?"-":"+",i=Math.abs(t),n=Math.trunc(i/60),r=i%60;return 0===r?s+(n+""):s+(n+"")+e+J(r,2)}function st(t,e){return t%60==0?(t>0?"-":"+")+J(Math.abs(t)/60,2):it(t,e)}function it(t,e=""){const s=t>0?"-":"+",i=Math.abs(t);return s+J(Math.trunc(i/60),2)+e+J(i%60,2)}const nt=(t,e)=>{switch(t){case "P":return e.date({width:"short"});case "PP":return e.date({width:"medium"});case "PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},rt=(t,e)=>{switch(t){case "p":return e.time({width:"short"});case "pp":return e.time({width:"medium"});case "ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},at={p:rt,P:(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],i=s[1],n=s[2];if(!n)return nt(t,e);let r;switch(i){case "P":r=e.dateTime({width:"short"});break;case "PP":r=e.dateTime({width:"medium"});break;case "PPP":r=e.dateTime({width:"long"});break;default:r=e.dateTime({width:"full"});}return r.replace("{{date}}",nt(i,e)).replace("{{time}}",rt(n,e))}},ot=/^D+$/,ct=/^Y+$/,ht=["D","DD","YY","YYYY"];function lt(t){return !(!((e=t)instanceof Date||"object"==typeof e&&"[object Date]"==={}.toString.call(e))&&"number"!=typeof t||isNaN(+W(t)));var e;}const ut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ft=/^'([^]*?)'?$/,pt=/''/g,mt=/[a-zA-Z]/;function bt(t){const e=t.match(ft);return e?e[1].replace(pt,"'"):t}const gt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wt(t){return t?parseInt(t):1}function xt(t){return t&&parseFloat(t.replace(",","."))||0}const Mt=[31,null,31,30,31,30,31,31,30,31,30,31];function _t(t){return t%400==0||t%4==0&&t%100!=0}function Tt(t,e,s){const i=Object.assign({},U()),n=function(t,e,s){return new Intl.DateTimeFormat(s?[s.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}(t,s.timeZone,s.locale??i.locale);return "formatToParts"in n?function(t,e){const s=t.formatToParts(e);for(let i=s.length-1;i>=0;--i)if("timeZoneName"===s[i].type)return s[i].value}(n,e):function(t,e){const s=t.format(e).replace(/\u200E/g,""),i=/ [\w-+ ]+$/.exec(s);return i?i[0].substr(1):""}(n,e)}const At={year:0,month:1,day:2,hour:3,minute:4,second:5},St={},Et=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Dt="06/25/2014, 00:00:00"===Et||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===Et;function Ct(t,e,s,i,n,r,a){const o=new Date(0);return o.setUTCFullYear(t,e,s),o.setUTCHours(i,n,r,a),o}const Nt=36e5,It={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ot(t,e,s){if(!t)return 0;let i,n,r=It.timezoneZ.exec(t);if(r)return 0;if(r=It.timezoneHH.exec(t),r)return i=parseInt(r[1],10),Pt(i)?-i*Nt:NaN;if(r=It.timezoneHHMM.exec(t),r){i=parseInt(r[2],10);const t=parseInt(r[3],10);return Pt(i,t)?(n=Math.abs(i)*Nt+6e4*t,"+"===r[1]?-n:n):NaN}if(function(t){if(Lt[t])return  true;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Lt[t]=!0,!0}catch(e){return  false}}(t)){e=new Date(e||Date.now());const i=s?e:function(t){return Ct(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}(e),n=Rt(i,t),r=s?n:function(t,e,s){let i=t.getTime()-e;const n=Rt(new Date(i),s);if(e===n)return e;i-=n-e;const r=Rt(new Date(i),s);return n===r?n:Math.max(n,r)}(e,n,t);return -r}return NaN}function Rt(t,e){const s=function(t,e){const s=function(t){return St[t]||(St[t]=Dt?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:false,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),St[t]}(e);return "formatToParts"in s?function(t,e){try{const s=t.formatToParts(e),i=[];for(let t=0;t<s.length;t++){const e=At[s[t].type];void 0!==e&&(i[e]=parseInt(s[t].value,10));}return i}catch(s){if(s instanceof RangeError)return [NaN];throw s}}(s,t):function(t,e){const s=t.format(e),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return [parseInt(i[3],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10)]}(s,t)}(t,e),i=Ct(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime();let n=t.getTime();const r=n%1e3;return n-=0>r?1e3+r:r,i-n}function Pt(t,e){return !(-23>t||t>23||null!=e&&(0>e||e>59))}const Lt={},Bt={X:function(t,e,s){const i=Ft(s.timeZone,t);if(0===i)return "Z";switch(e){case "X":return qt(i);case "XXXX":case "XX":return Ut(i);default:return Ut(i,":")}},x:function(t,e,s){const i=Ft(s.timeZone,t);switch(e){case "x":return qt(i);case "xxxx":case "xx":return Ut(i);default:return Ut(i,":")}},O:function(t,e,s){const i=Ft(s.timeZone,t);switch(e){case "O":case "OO":case "OOO":return "GMT"+function(t,e=""){const s=t>0?"-":"+",i=Math.abs(t),n=Math.floor(i/60),r=i%60;return 0===r?s+(n+""):s+(n+"")+e+jt(r,2)}(i,":");default:return "GMT"+Ut(i,":")}},z:function(t,e,s){switch(e){case "z":case "zz":case "zzz":return Tt("short",t,s);default:return Tt("long",t,s)}}};function Ft(t,e){const s=t?Ot(t,e,true)/6e4:e?.getTimezoneOffset()??0;if(Number.isNaN(s))throw new RangeError("Invalid time zone specified: "+t);return s}function jt(t,e){const s=0>t?"-":"";let i=Math.abs(t).toString();for(;i.length<e;)i="0"+i;return s+i}function Ut(t,e=""){const s=t>0?"-":"+",i=Math.abs(t);return s+jt(Math.floor(i/60),2)+e+jt(Math.floor(i%60),2)}function qt(t,e){return t%60==0?(t>0?"-":"+")+jt(Math.abs(t)/60,2):Ut(t,e)}function Ht(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const zt=36e5,$t={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function Wt(t,e={}){if(1>arguments.length)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);const s=null==e.additionalDigits?2:+e.additionalDigits;if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||"object"==typeof t&&"[object Date]"==={}.toString.call(t))return new Date(t.getTime());if("number"==typeof t||"[object Number]"==={}.toString.call(t))return new Date(t);if("[object String]"!=={}.toString.call(t))return new Date(NaN);const i=function(t){const e={};let s,i=$t.dateTimePattern.exec(t);if(i?(e.date=i[1],s=i[3]):(i=$t.datePattern.exec(t),i?(e.date=i[1],s=i[2]):(e.date=null,s=t)),s){const t=$t.timeZone.exec(s);t?(e.time=s.replace(t[1],""),e.timeZone=t[1].trim()):e.time=s;}return e}(t),{year:n,restDateString:r}=function(t,e){if(t){const s=$t.YYY[e],i=$t.YYYYY[e];let n=$t.YYYY.exec(t)||i.exec(t);if(n){const e=n[1];return {year:parseInt(e,10),restDateString:t.slice(e.length)}}if(n=$t.YY.exec(t)||s.exec(t),n){const e=n[1];return {year:100*parseInt(e,10),restDateString:t.slice(e.length)}}}return {year:null}}(i.date,s),a=function(t,e){if(null===e)return null;let s,i,n;if(!t||!t.length)return s=new Date(0),s.setUTCFullYear(e),s;let r=$t.MM.exec(t);if(r)return s=new Date(0),i=parseInt(r[1],10)-1,Xt(e,i)?(s.setUTCFullYear(e,i),s):new Date(NaN);if(r=$t.DDD.exec(t),r){s=new Date(0);const t=parseInt(r[1],10);return function(t,e){if(1>e)return  false;const s=Qt(t);return !(s&&e>366||!s&&e>365)}(e,t)?(s.setUTCFullYear(e,0,t),s):new Date(NaN)}if(r=$t.MMDD.exec(t),r){s=new Date(0),i=parseInt(r[1],10)-1;const t=parseInt(r[2],10);return Xt(e,i,t)?(s.setUTCFullYear(e,i,t),s):new Date(NaN)}if(r=$t.Www.exec(t),r)return n=parseInt(r[1],10)-1,Zt(n)?Yt(e,n):new Date(NaN);if(r=$t.WwwD.exec(t),r){n=parseInt(r[1],10)-1;const t=parseInt(r[2],10)-1;return Zt(n,t)?Yt(e,n,t):new Date(NaN)}return null}(r,n);if(null===a||isNaN(a.getTime()))return new Date(NaN);if(a){const t=a.getTime();let s,n=0;if(i.time&&(n=function(t){let e,s,i=$t.HH.exec(t);if(i)return e=parseFloat(i[1].replace(",",".")),Jt(e)?e%24*zt:NaN;if(i=$t.HHMM.exec(t),i)return e=parseInt(i[1],10),s=parseFloat(i[2].replace(",",".")),Jt(e,s)?e%24*zt+6e4*s:NaN;if(i=$t.HHMMSS.exec(t),i){e=parseInt(i[1],10),s=parseInt(i[2],10);const t=parseFloat(i[3].replace(",","."));return Jt(e,s,t)?e%24*zt+6e4*s+1e3*t:NaN}return null}(i.time),null===n||isNaN(n)))return new Date(NaN);if(i.timeZone||e.timeZone){if(s=Ot(i.timeZone||e.timeZone,new Date(t+n)),isNaN(s))return new Date(NaN)}else s=Ht(new Date(t+n)),s=Ht(new Date(t+n+s));return new Date(t+n+s)}return new Date(NaN)}function Yt(t,e,s){e=e||0,s=s||0;const i=new Date(0);i.setUTCFullYear(t,0,4);const n=7*e+s+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+n),i}const Vt=[31,28,31,30,31,30,31,31,30,31,30,31],Gt=[31,29,31,30,31,30,31,31,30,31,30,31];function Qt(t){return t%400==0||t%4==0&&t%100!=0}function Xt(t,e,s){if(0>e||e>11)return  false;if(null!=s){if(1>s)return  false;const i=Qt(t);if(i&&s>Gt[e])return  false;if(!i&&s>Vt[e])return  false}return  true}function Zt(t,e){return !(0>t||t>52||null!=e&&(0>e||e>6))}function Jt(t,e,s){return t>=0&&25>t&&(null==e||e>=0&&60>e)&&(null==s||s>=0&&60>s)}const Kt=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function te(t,e,s,i){return function(t,e,s={}){const i=(e+="").match(Kt);if(i){const n=Wt(s.originalDate||t,s);e=i.reduce(function(t,e){if("'"===e[0])return t;const i=t.indexOf(e),r="'"===t[i-1],a=t.replace(e,"'"+Bt[e[0]](n,e,s)+"'");return r?a.substring(0,i-1)+a.substring(i+1):a},e);}return function(t,e,s){const i=U(),n=s?.locale??i.locale??F,r=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=W(t,s?.in);if(!lt(o))throw new RangeError("Invalid time value");let c=e.match(dt).map(t=>{const e=t[0];return "p"===e||"P"===e?(0, at[e])(t,n.formatLong):t}).join("").match(ut).map(t=>{if("''"===t)return {isToken:false,value:"'"};const e=t[0];if("'"===e)return {isToken:false,value:bt(t)};if(tt[e])return {isToken:true,value:t};if(e.match(mt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return {isToken:false,value:t}});n.localize.preprocessor&&(c=n.localize.preprocessor(o,c));const h={firstWeekContainsDate:r,weekStartsOn:a,locale:n};return c.map(i=>{if(!i.isToken)return i.value;const r=i.value;return (!s?.useAdditionalWeekYearTokens&&function(t){return ct.test(t)}(r)||!s?.useAdditionalDayOfYearTokens&&function(t){return ot.test(t)}(r))&&function(t,e,s){const i=function(t,e,s){const i="Y"===t[0]?"years":"days of the month";return `Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,s);if(ht.includes(t))throw new RangeError(i)}(r,e,t+""),(0, tt[r[0]])(o,r,n.localize,h)}).join("")}(t,e,s)}(function(t,e,s){const i=Ot(e,t=Wt(t,s),true),n=new Date(t.getTime()-i),r=new Date(0);return r.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),r.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),r}(t,e,{timeZone:(i={...i,timeZone:e,originalDate:t}).timeZone}),s,i)}const ee=new Date("2025-10-28T13:00:00+09:00");function se(t,e){const s=ee>new Date(e+"+09:00")?22:45;return Math.ceil(.056*t)+s}function ie(t,e){return t-se(t,e)}function ne(t){if(!t)return "5.6% + ¥22 (改定前) / ¥45 (2025年10月28日改定后)";const e=new Date(t+"+09:00")>=ee,s=e?45:22;return e?`5.6% + ¥${s} (2025年10月28日改定后)`:`5.6% + ¥${s} (改定前)`}var re,ae;(ae=re||(re={})).Root="root",ae.Text="text",ae.Directive="directive",ae.Comment="comment",ae.Script="script",ae.Style="style",ae.Tag="tag",ae.CDATA="cdata",ae.Doctype="doctype";const oe=re.Root,ce=re.Text,he=re.Directive,le=re.Comment,ue=re.Script,de=re.Style,fe=re.Tag,pe=re.CDATA,me=re.Doctype;class be{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null;}get parentNode(){return this.parent}set parentNode(t){this.parent=t;}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t;}get nextSibling(){return this.next}set nextSibling(t){this.next=t;}cloneNode(t=false){return Ie(this,t)}}class ge extends be{constructor(t){super(),this.data=t;}get nodeValue(){return this.data}set nodeValue(t){this.data=t;}}class ye extends ge{constructor(){super(...arguments),this.type=re.Text;}get nodeType(){return 3}}class ve extends ge{constructor(){super(...arguments),this.type=re.Comment;}get nodeType(){return 8}}class ke extends ge{constructor(t,e){super(e),this.name=t,this.type=re.Directive;}get nodeType(){return 1}}class we extends be{constructor(t){super(),this.children=t;}get firstChild(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t;}}class xe extends we{constructor(){super(...arguments),this.type=re.CDATA;}get nodeType(){return 4}}class Me extends we{constructor(){super(...arguments),this.type=re.Root;}get nodeType(){return 9}}let _e=class extends we{constructor(t,e,s=[],i=("script"===t?re.Script:"style"===t?re.Style:re.Tag)){super(s),this.name=t,this.attribs=e,this.type=i;}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t;}get attributes(){return Object.keys(this.attribs).map(t=>{var e,s;return {name:t,value:this.attribs[t],namespace:null===(e=this["x-attribsNamespace"])||void 0===e?void 0:e[t],prefix:null===(s=this["x-attribsPrefix"])||void 0===s?void 0:s[t]}})}};function Te(t){return (e=t).type===re.Tag||e.type===re.Script||e.type===re.Style;var e;}function Ae(t){return t.type===re.CDATA}function Se(t){return t.type===re.Text}function Ee(t){return t.type===re.Comment}function De(t){return t.type===re.Directive}function Ce(t){return t.type===re.Root}function Ne(t){return {}.hasOwnProperty.call(t,"children")}function Ie(t,e=false){let s;if(Se(t))s=new ye(t.data);else if(Ee(t))s=new ve(t.data);else if(Te(t)){const i=e?Oe(t.children):[],n=new _e(t.name,{...t.attribs},i);i.forEach(t=>t.parent=n),null!=t.namespace&&(n.namespace=t.namespace),t["x-attribsNamespace"]&&(n["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(n["x-attribsPrefix"]={...t["x-attribsPrefix"]}),s=n;}else if(Ae(t)){const i=e?Oe(t.children):[],n=new xe(i);i.forEach(t=>t.parent=n),s=n;}else if(Ce(t)){const i=e?Oe(t.children):[],n=new Me(i);i.forEach(t=>t.parent=n),t["x-mode"]&&(n["x-mode"]=t["x-mode"]),s=n;}else {if(!De(t))throw Error("Not implemented yet: "+t.type);{const e=new ke(t.name,t.data);null!=t["x-name"]&&(e["x-name"]=t["x-name"],e["x-publicId"]=t["x-publicId"],e["x-systemId"]=t["x-systemId"]),s=e;}}return s.startIndex=t.startIndex,s.endIndex=t.endIndex,null!=t.sourceCodeLocation&&(s.sourceCodeLocation=t.sourceCodeLocation),s}function Oe(t){const e=t.map(t=>Ie(t,true));for(let s=1;s<e.length;s++)e[s].prev=e[s-1],e[s-1].next=e[s];return e}const Re={withStartIndices:false,withEndIndices:false,xmlMode:false};class Pe{constructor(t,e,s){this.dom=[],this.root=new Me(this.dom),this.done=false,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(s=e,e=Re),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:Re,this.elementCB=null!=s?s:null;}onparserinit(t){this.parser=t;}onreset(){this.dom=[],this.root=new Me(this.dom),this.done=false,this.tagStack=[this.root],this.lastNode=null,this.parser=null;}onend(){this.done||(this.done=true,this.parser=null,this.handleCallback(null));}onerror(t){this.handleCallback(t);}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t);}onopentag(t,e){const s=this.options.xmlMode?re.Tag:void 0,i=new _e(t,e,void 0,s);this.addNode(i),this.tagStack.push(i);}ontext(t){const{lastNode:e}=this;if(e&&e.type===re.Text)e.data+=t,this.options.withEndIndices&&(e.endIndex=this.parser.endIndex);else {const e=new ye(t);this.addNode(e),this.lastNode=e;}}oncomment(t){if(this.lastNode&&this.lastNode.type===re.Comment)return void(this.lastNode.data+=t);const e=new ve(t);this.addNode(e),this.lastNode=e;}oncommentend(){this.lastNode=null;}oncdatastart(){const t=new ye(""),e=new xe([t]);this.addNode(e),t.parent=e,this.lastNode=t;}oncdataend(){this.lastNode=null;}onprocessinginstruction(t,e){const s=new ke(t,e);this.addNode(s);}handleCallback(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t}addNode(t){const e=this.tagStack[this.tagStack.length-1],s=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),s&&(t.prev=s,s.next=t),t.parent=e,this.lastNode=null;}}const Le=/["&'<>$\x80-\uFFFF]/g,Be=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Fe=null!="".codePointAt?(t,e)=>t.codePointAt(e):(t,e)=>55296==(64512&t.charCodeAt(e))?1024*(t.charCodeAt(e)-55296)+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function je(t){let e,s="",i=0;for(;null!==(e=Le.exec(t));){const n=e.index,r=t.charCodeAt(n),a=Be.get(r);void 0!==a?(s+=t.substring(i,n)+a,i=n+1):(s+=`${t.substring(i,n)}&#x${Fe(t,n).toString(16)};`,i=Le.lastIndex+=+(55296==(64512&r)));}return s+t.substr(i)}function Ue(t,e){return function(s){let i,n=0,r="";for(;i=t.exec(s);)n!==i.index&&(r+=s.substring(n,i.index)),r+=e.get(i[0].charCodeAt(0)),n=i.index+1;return r+s.substring(n)}}const qe=Ue(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),He=Ue(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),ze=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),$e=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),We=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Ye(t){return t.replace(/"/g,"&quot;")}const Ve=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Ge(t,e={}){const s="length"in t?t:[t];let i="";for(let n=0;n<s.length;n++)i+=Qe(s[n],e);return i}function Qe(t,e){switch(t.type){case oe:return Ge(t.children,e);case me:case he:return `<${t.data}>`;case le:return `\x3c!--${t.data}--\x3e`;case pe:return `<![CDATA[${t.children[0].data}]]>`;case ue:case de:case fe:return function(t,e){var s;"foreign"===e.xmlMode&&(t.name=null!==(s=ze.get(t.name))&&void 0!==s?s:t.name,t.parent&&Xe.has(t.parent.name)&&(e={...e,xmlMode:false})),!e.xmlMode&&Ze.has(t.name)&&(e={...e,xmlMode:"foreign"});let i="<"+t.name;const n=function(t,e){var s;if(!t)return;const i=false===(null!==(s=e.encodeEntities)&&void 0!==s?s:e.decodeEntities)?Ye:e.xmlMode||"utf8"!==e.encodeEntities?je:qe;return Object.keys(t).map(s=>{var n,r;const a=null!==(n=t[s])&&void 0!==n?n:"";return "foreign"===e.xmlMode&&(s=null!==(r=$e.get(s))&&void 0!==r?r:s),e.emptyAttrs||e.xmlMode||""!==a?`${s}="${i(a)}"`:s}).join(" ")}(t.attribs,e);return n&&(i+=" "+n),0===t.children.length&&(e.xmlMode?false!==e.selfClosingTags:e.selfClosingTags&&Ve.has(t.name))?(e.xmlMode||(i+=" "),i+="/>"):(i+=">",t.children.length>0&&(i+=Ge(t.children,e)),!e.xmlMode&&Ve.has(t.name)||(i+=`</${t.name}>`)),i}(t,e);case ce:return function(t,e){var s;let i=t.data||"";return  false===(null!==(s=e.encodeEntities)&&void 0!==s?s:e.decodeEntities)||!e.xmlMode&&t.parent&&We.has(t.parent.name)||(i=e.xmlMode||"utf8"!==e.encodeEntities?je(i):He(i)),i}(t,e)}}const Xe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Ze=new Set(["svg","math"]);function Je(t,e){return Ge(t,e)}function Ke(t){return Array.isArray(t)?t.map(Ke).join(""):Ne(t)&&!Ee(t)?Ke(t.children):Se(t)?t.data:""}function ts(t){return Array.isArray(t)?t.map(ts).join(""):Ne(t)&&(t.type===re.Tag||Ae(t))?ts(t.children):Se(t)?t.data:""}function es(t){return Ne(t)?t.children:[]}function ss(t){return t.parent||null}function is(t){const e=ss(t);if(null!=e)return es(e);const s=[t];let{prev:i,next:n}=t;for(;null!=i;)s.unshift(i),({prev:i}=i);for(;null!=n;)s.push(n),({next:n}=n);return s}function ns(t){let{next:e}=t;for(;null!==e&&!Te(e);)({next:e}=e);return e}function rs(t){let{prev:e}=t;for(;null!==e&&!Te(e);)({prev:e}=e);return e}function as(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,s=e.lastIndexOf(t);0>s||e.splice(s,1);}t.next=null,t.prev=null,t.parent=null;}function os(t,e,s=true,i=1/0){return cs(t,Array.isArray(e)?e:[e],s,i)}function cs(t,e,s,i){const n=[],r=[Array.isArray(e)?e:[e]],a=[0];for(;;){if(a[0]>=r[0].length){if(1===a.length)return n;r.shift(),a.shift();continue}const e=r[0][a[0]++];if(t(e)&&(n.push(e),0>=--i))return n;s&&Ne(e)&&e.children.length>0&&(a.unshift(0),r.unshift(e.children));}}function hs(t,e,s=true){const i=Array.isArray(e)?e:[e];for(let n=0;n<i.length;n++){const e=i[n];if(Te(e)&&t(e))return e;if(s&&Ne(e)&&e.children.length>0){const s=hs(t,e.children,true);if(s)return s}}return null}const ls={tag_name:t=>"function"==typeof t?e=>Te(e)&&t(e.name):"*"===t?Te:e=>Te(e)&&e.name===t,tag_type:t=>"function"==typeof t?e=>t(e.type):e=>e.type===t,tag_contains:t=>"function"==typeof t?e=>Se(e)&&t(e.data):e=>Se(e)&&e.data===t};function us(t,e){return "function"==typeof e?s=>Te(s)&&e(s.attribs[t]):s=>Te(s)&&s.attribs[t]===e}function ds(t,e){return s=>t(s)||e(s)}function fs(t){const e=Object.keys(t).map(e=>{const s=t[e];return {}.hasOwnProperty.call(ls,e)?ls[e](s):us(e,s)});return 0===e.length?null:e.reduce(ds)}function ps(t,e,s=true,i=1/0){return os(ls.tag_name(t),e,s,i)}var ms,bs;function gs(t,e){const s=[],i=[];if(t===e)return 0;let n=Ne(t)?t:t.parent;for(;n;)s.unshift(n),n=n.parent;for(n=Ne(e)?e:e.parent;n;)i.unshift(n),n=n.parent;const r=Math.min(s.length,i.length);let a=0;for(;r>a&&s[a]===i[a];)a++;if(0===a)return ms.DISCONNECTED;const o=s[a-1],c=o.children,h=s[a],l=i[a];return c.indexOf(h)>c.indexOf(l)?o===e?ms.FOLLOWING|ms.CONTAINED_BY:ms.FOLLOWING:o===t?ms.PRECEDING|ms.CONTAINS:ms.PRECEDING}function ys(t){return (t=t.filter((t,e,s)=>!s.includes(t,e+1))).sort((t,e)=>{const s=gs(t,e);return s&ms.PRECEDING?-1:s&ms.FOLLOWING?1:0}),t}(bs=ms||(ms={}))[bs.DISCONNECTED=1]="DISCONNECTED",bs[bs.PRECEDING=2]="PRECEDING",bs[bs.FOLLOWING=4]="FOLLOWING",bs[bs.CONTAINS=8]="CONTAINS",bs[bs.CONTAINED_BY=16]="CONTAINED_BY";const vs=["url","type","lang"],ks=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ws(t){return ps("media:content",t).map(t=>{const{attribs:e}=t,s={medium:e.medium,isDefault:!!e.isDefault};for(const i of vs)e[i]&&(s[i]=e[i]);for(const i of ks)e[i]&&(s[i]=parseInt(e[i],10));return e.expression&&(s.expression=e.expression),s})}function xs(t,e){return ps(t,e,true,1)[0]}function Ms(t,e,s=false){return Ke(ps(t,e,s,1)).trim()}function _s(t,e,s,i,n=false){const r=Ms(s,i,n);r&&(t[e]=r);}function Ts(t){return "rss"===t||"feed"===t||"rdf:RDF"===t}const As=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return ms},append:function(t,e){as(e);const{parent:s}=t,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=s,i){if(i.prev=e,s){const t=s.children;t.splice(t.lastIndexOf(i),0,e);}}else s&&s.children.push(e);},appendChild:function(t,e){if(as(e),e.next=null,e.parent=t,t.children.push(e)>1){const s=t.children[t.children.length-2];s.next=e,e.prev=s;}else e.prev=null;},compareDocumentPosition:gs,existsOne:function t(e,s){return (Array.isArray(s)?s:[s]).some(s=>Te(s)&&e(s)||Ne(s)&&t(e,s.children))},filter:os,find:cs,findAll:function(t,e){const s=[],i=[Array.isArray(e)?e:[e]],n=[0];for(;;){if(n[0]>=i[0].length){if(1===i.length)return s;i.shift(),n.shift();continue}const e=i[0][n[0]++];Te(e)&&t(e)&&s.push(e),Ne(e)&&e.children.length>0&&(n.unshift(0),i.unshift(e.children));}},findOne:hs,findOneChild:function(t,e){return e.find(t)},getAttributeValue:function(t,e){var s;return null===(s=t.attribs)||void 0===s?void 0:s[e]},getChildren:es,getElementById:function(t,e,s=true){return Array.isArray(e)||(e=[e]),hs(us("id",t),e,s)},getElements:function(t,e,s,i=1/0){const n=fs(t);return n?os(n,e,s,i):[]},getElementsByClassName:function(t,e,s=true,i=1/0){return os(us("class",t),e,s,i)},getElementsByTagName:ps,getElementsByTagType:function(t,e,s=true,i=1/0){return os(ls.tag_type(t),e,s,i)},getFeed:function(t){const e=xs(Ts,t);return e?"feed"===e.name?function(t){var e;const s=t.children,i={type:"atom",items:ps("entry",s).map(t=>{var e;const{children:s}=t,i={media:ws(s)};_s(i,"id","id",s),_s(i,"title","title",s);const n=null===(e=xs("link",s))||void 0===e?void 0:e.attribs.href;n&&(i.link=n);const r=Ms("summary",s)||Ms("content",s);r&&(i.description=r);const a=Ms("updated",s);return a&&(i.pubDate=new Date(a)),i})};_s(i,"id","id",s),_s(i,"title","title",s);const n=null===(e=xs("link",s))||void 0===e?void 0:e.attribs.href;n&&(i.link=n),_s(i,"description","subtitle",s);const r=Ms("updated",s);return r&&(i.updated=new Date(r)),_s(i,"author","email",s,true),i}(e):function(t){var e,s;const i=null!==(s=null===(e=xs("channel",t.children))||void 0===e?void 0:e.children)&&void 0!==s?s:[],n={type:t.name.substr(0,3),id:"",items:ps("item",t.children).map(t=>{const{children:e}=t,s={media:ws(e)};_s(s,"id","guid",e),_s(s,"title","title",e),_s(s,"link","link",e),_s(s,"description","description",e);const i=Ms("pubDate",e)||Ms("dc:date",e);return i&&(s.pubDate=new Date(i)),s})};_s(n,"title","title",i),_s(n,"link","link",i),_s(n,"description","description",i);const r=Ms("lastBuildDate",i);return r&&(n.updated=new Date(r)),_s(n,"author","managingEditor",i,true),n}(e):null},getInnerHTML:function(t,e){return Ne(t)?t.children.map(t=>Je(t,e)).join(""):""},getName:function(t){return t.name},getOuterHTML:Je,getParent:ss,getSiblings:is,getText:function t(e){return Array.isArray(e)?e.map(t).join(""):Te(e)?"br"===e.name?"\n":t(e.children):Ae(e)?t(e.children):Se(e)?e.data:""},hasAttrib:function(t,e){return null!=t.attribs&&{}.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]},hasChildren:Ne,innerText:ts,isCDATA:Ae,isComment:Ee,isDocument:Ce,isTag:Te,isText:Se,nextElementSibling:ns,prepend:function(t,e){as(e);const{parent:s}=t;if(s){const i=s.children;i.splice(i.indexOf(t),0,e);}t.prev&&(t.prev.next=e),e.parent=s,e.prev=t.prev,e.next=t,t.prev=e;},prependChild:function(t,e){if(as(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)){const s=t.children[1];s.prev=e,e.next=s;}else e.next=null;},prevElementSibling:rs,removeElement:as,removeSubsets:function(t){let e=t.length;for(;--e>=0;){const s=t[e];if(0>=e||0>t.lastIndexOf(s,e-1)){for(let i=s.parent;i;i=i.parent)if(t.includes(i)){t.splice(e,1);break}}else t.splice(e,1);}return t},replaceElement:function(t,e){const s=e.prev=t.prev;s&&(s.next=e);const i=e.next=t.next;i&&(i.prev=e);const n=e.parent=t.parent;if(n){const s=n.children;s[s.lastIndexOf(t)]=e,t.parent=null;}},testElement:function(t,e){const s=fs(t);return !s||s(e)},textContent:Ke,uniqueSort:ys},Symbol.toStringTag,{value:"Module"})),Ss={o:false};function Es(t,e){if(!t)return null!=e?e:Ss;const s={o:!!t.xmlMode,...e,...t};return t.xml?(s.o=true,s.xmlMode=true,true!==t.xml&&Object.assign(s,t.xml)):t.xmlMode&&(s.o=true),s}function Ds(t,e,s){return t?t(null!=e?e:t.v.children,null,void 0,s).toString():""}function Cs(t){const e=null!=t?t:this?this.root():[];let s="";for(let i=0;i<e.length;i++)s+=Ke(e[i]);return s}function Ns(t,e){if(e===t)return  false;let s=e;for(;s&&s!==s.parent;)if(s=s.parent,s===t)return  true;return  false}function Is(t){if(Array.isArray(t))return  true;if("object"!=typeof t||null===t||!("length"in t)||"number"!=typeof t.length||0>t.length)return  false;for(let e=0;e<t.length;e++)if(!(e in t))return  false;return  true}const Os=Object.freeze(Object.defineProperty({__proto__:null,contains:Ns,extract:function(t){return this.root().extract(t)},html:function(t,e){return Ds(this,function(t){return "object"==typeof t&&null!=t&&!("length"in t)&&!("type"in t)}(t)?void(e=t):t,{...null==this?void 0:this._,...Es(e)})},merge:function(t,e){if(!Is(t)||!Is(e))return;let s=t.length;const i=+e.length;for(let n=0;i>n;n++)t[s++]=e[n];return t.length=s,t},parseHTML:function(t,e,s="boolean"==typeof e&&e){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(s=e);const i=this.load(t,this._,false);return s||i("script").remove(),[...i.root()[0].children]},root:function(){return this(this.v)},text:Cs,xml:function(t){return Ds(this,t,{...this._,xmlMode:true})}},Symbol.toStringTag,{value:"Module"}));function Rs(t){return null!=t.cheerio}function Ps(t){return t.replace(/[._-](\w|$)/g,(t,e)=>e.toUpperCase())}function Ls(t,e){const s=t.length;for(let i=0;s>i;i++)e(t[i],i);return t}var Bs,Fs;function js(t){const e=t.indexOf("<");if(-1===e||e>t.length-3)return  false;const s=t.charCodeAt(e+1);return (s>=Bs.LowerA&&s<=Bs.LowerZ||s>=Bs.UpperA&&s<=Bs.UpperZ||s===Bs.Exclamation)&&t.includes(">",e+2)}(Fs=Bs||(Bs={}))[Fs.LowerA=97]="LowerA",Fs[Fs.LowerZ=122]="LowerZ",Fs[Fs.UpperA=65]="UpperA",Fs[Fs.UpperZ=90]="UpperZ",Fs[Fs.Exclamation=33]="Exclamation";const Us=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),qs=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Hs;const zs=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),$s=null!==(Hs=String.fromCodePoint)&&void 0!==Hs?Hs:function(t){let e="";return t>65535&&(e+=String.fromCharCode((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var Ws,Ys,Vs,Gs,Qs,Xs,Zs,Js,Ks,ti,ei,si,ii;function ni(t){return t>=Ws.ZERO&&t<=Ws.NINE}function ri(t){return t>=Ws.UPPER_A&&t<=Ws.UPPER_F||t>=Ws.LOWER_A&&t<=Ws.LOWER_F}function ai(t){return t===Ws.EQUALS||function(t){return t>=Ws.UPPER_A&&t<=Ws.UPPER_Z||t>=Ws.LOWER_A&&t<=Ws.LOWER_Z||ni(t)}(t)}(Ys=Ws||(Ws={}))[Ys.NUM=35]="NUM",Ys[Ys.SEMI=59]="SEMI",Ys[Ys.EQUALS=61]="EQUALS",Ys[Ys.ZERO=48]="ZERO",Ys[Ys.NINE=57]="NINE",Ys[Ys.LOWER_A=97]="LOWER_A",Ys[Ys.LOWER_F=102]="LOWER_F",Ys[Ys.LOWER_X=120]="LOWER_X",Ys[Ys.LOWER_Z=122]="LOWER_Z",Ys[Ys.UPPER_A=65]="UPPER_A",Ys[Ys.UPPER_F=70]="UPPER_F",Ys[Ys.UPPER_Z=90]="UPPER_Z",(Gs=Vs||(Vs={}))[Gs.VALUE_LENGTH=49152]="VALUE_LENGTH",Gs[Gs.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Gs[Gs.JUMP_TABLE=127]="JUMP_TABLE",(Xs=Qs||(Qs={}))[Xs.EntityStart=0]="EntityStart",Xs[Xs.NumericStart=1]="NumericStart",Xs[Xs.NumericDecimal=2]="NumericDecimal",Xs[Xs.NumericHex=3]="NumericHex",Xs[Xs.NamedEntity=4]="NamedEntity",(Js=Zs||(Zs={}))[Js.Legacy=0]="Legacy",Js[Js.Strict=1]="Strict",Js[Js.Attribute=2]="Attribute";class oi{constructor(t,e,s){this.decodeTree=t,this.emitCodePoint=e,this.errors=s,this.state=Qs.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Zs.Strict;}startEntity(t){this.decodeMode=t,this.state=Qs.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1;}write(t,e){switch(this.state){case Qs.EntityStart:return t.charCodeAt(e)===Ws.NUM?(this.state=Qs.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=Qs.NamedEntity,this.stateNamedEntity(t,e));case Qs.NumericStart:return this.stateNumericStart(t,e);case Qs.NumericDecimal:return this.stateNumericDecimal(t,e);case Qs.NumericHex:return this.stateNumericHex(t,e);case Qs.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e<t.length?(32|t.charCodeAt(e))===Ws.LOWER_X?(this.state=Qs.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=Qs.NumericDecimal,this.stateNumericDecimal(t,e)):-1}addToNumericResult(t,e,s,i){if(e!==s){const n=s-e;this.result=this.result*Math.pow(i,n)+Number.parseInt(t.substr(e,n),i),this.consumed+=n;}}stateNumericHex(t,e){const s=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!ni(i)&&!ri(i))return this.addToNumericResult(t,s,e,16),this.emitNumericEntity(i,3);e+=1;}return this.addToNumericResult(t,s,e,16),-1}stateNumericDecimal(t,e){const s=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!ni(i))return this.addToNumericResult(t,s,e,10),this.emitNumericEntity(i,2);e+=1;}return this.addToNumericResult(t,s,e,10),-1}emitNumericEntity(t,e){var s;if(this.consumed<=e)return null===(s=this.errors)||void 0===s||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ws.SEMI)this.consumed+=1;else if(this.decodeMode===Zs.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&57343>=t||t>1114111?65533:null!==(e=zs.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==Ws.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:s}=this;let i=s[this.treeIndex],n=(i&Vs.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const r=t.charCodeAt(e);if(this.treeIndex=ci(s,i,this.treeIndex+Math.max(1,n),r),0>this.treeIndex)return 0===this.result||this.decodeMode===Zs.Attribute&&(0===n||ai(r))?0:this.emitNotTerminatedNamedEntity();if(i=s[this.treeIndex],n=(i&Vs.VALUE_LENGTH)>>14,0!==n){if(r===Ws.SEMI)return this.emitNamedEntityData(this.treeIndex,n,this.consumed+this.excess);this.decodeMode!==Zs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0);}}return  -1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:s}=this,i=(s[e]&Vs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,i,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,s){const{decodeTree:i}=this;return this.emitCodePoint(1===e?i[t]&~Vs.VALUE_LENGTH:i[t+1],s),3===e&&this.emitCodePoint(i[t+2],s),s}end(){var t;switch(this.state){case Qs.NamedEntity:return 0===this.result||this.decodeMode===Zs.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Qs.NumericDecimal:return this.emitNumericEntity(0,2);case Qs.NumericHex:return this.emitNumericEntity(0,3);case Qs.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qs.EntityStart:return 0}}}function ci(t,e,s,i){const n=(e&Vs.BRANCH_LENGTH)>>7,r=e&Vs.JUMP_TABLE;if(0===n)return 0!==r&&i===r?s:-1;if(r){const e=i-r;return 0>e||e>=n?-1:t[s+e]-1}let a=s,o=a+n-1;for(;o>=a;){const e=a+o>>>1,s=t[e];if(i>s)a=e+1;else {if(i>=s)return t[e+n];o=e-1;}}return  -1}function hi(t){return t===Ks.Space||t===Ks.NewLine||t===Ks.Tab||t===Ks.FormFeed||t===Ks.CarriageReturn}function li(t){return t===Ks.Slash||t===Ks.Gt||hi(t)}!function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket";}(Ks||(Ks={})),(ei=ti||(ti={}))[ei.Text=1]="Text",ei[ei.BeforeTagName=2]="BeforeTagName",ei[ei.InTagName=3]="InTagName",ei[ei.InSelfClosingTag=4]="InSelfClosingTag",ei[ei.BeforeClosingTagName=5]="BeforeClosingTagName",ei[ei.InClosingTagName=6]="InClosingTagName",ei[ei.AfterClosingTagName=7]="AfterClosingTagName",ei[ei.BeforeAttributeName=8]="BeforeAttributeName",ei[ei.InAttributeName=9]="InAttributeName",ei[ei.AfterAttributeName=10]="AfterAttributeName",ei[ei.BeforeAttributeValue=11]="BeforeAttributeValue",ei[ei.InAttributeValueDq=12]="InAttributeValueDq",ei[ei.InAttributeValueSq=13]="InAttributeValueSq",ei[ei.InAttributeValueNq=14]="InAttributeValueNq",ei[ei.BeforeDeclaration=15]="BeforeDeclaration",ei[ei.InDeclaration=16]="InDeclaration",ei[ei.InProcessingInstruction=17]="InProcessingInstruction",ei[ei.BeforeComment=18]="BeforeComment",ei[ei.CDATASequence=19]="CDATASequence",ei[ei.InSpecialComment=20]="InSpecialComment",ei[ei.InCommentLike=21]="InCommentLike",ei[ei.BeforeSpecialS=22]="BeforeSpecialS",ei[ei.BeforeSpecialT=23]="BeforeSpecialT",ei[ei.SpecialStartSequence=24]="SpecialStartSequence",ei[ei.InSpecialTag=25]="InSpecialTag",ei[ei.InEntity=26]="InEntity",(ii=si||(si={}))[ii.NoValue=0]="NoValue",ii[ii.Unquoted=1]="Unquoted",ii[ii.Single=2]="Single",ii[ii.Double=3]="Double";const ui={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};let di=class{constructor({xmlMode:t=false,decodeEntities:e=true},s){this.cbs=s,this.state=ti.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=ti.Text,this.isSpecial=false,this.running=true,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=e,this.entityDecoder=new oi(t?qs:Us,(t,e)=>this.emitCodePoint(t,e));}reset(){this.state=ti.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ti.Text,this.currentSequence=void 0,this.running=true,this.offset=0;}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse();}end(){this.running&&this.finish();}pause(){this.running=false;}resume(){this.running=true,this.index<this.buffer.length+this.offset&&this.parse();}stateText(t){t===Ks.Lt||!this.decodeEntities&&this.fastForwardTo(Ks.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=ti.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Ks.Amp&&this.startEntity();}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(e?li(t):(32|t)===this.currentSequence[this.sequenceIndex]){if(!e)return void this.sequenceIndex++}else this.isSpecial=false;this.sequenceIndex=0,this.state=ti.InTagName,this.stateInTagName(t);}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Ks.Gt||hi(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const t=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=t;}return this.isSpecial=false,this.sectionStart=e+2,void this.stateInClosingTagName(t)}this.sequenceIndex=0;}(32|t)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===ui.TitleEnd?this.decodeEntities&&t===Ks.Amp&&this.startEntity():this.fastForwardTo(Ks.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Ks.Lt);}stateCDATASequence(t){t===ui.Cdata[this.sequenceIndex]?++this.sequenceIndex===ui.Cdata.length&&(this.state=ti.InCommentLike,this.currentSequence=ui.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=ti.InDeclaration,this.stateInDeclaration(t));}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return  true;return this.index=this.buffer.length+this.offset-1,false}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ui.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=ti.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0);}isTagStartChar(t){return this.xmlMode?!li(t):function(t){return t>=Ks.LowerA&&t<=Ks.LowerZ||t>=Ks.UpperA&&t<=Ks.UpperZ}(t)}startSpecial(t,e){this.isSpecial=true,this.currentSequence=t,this.sequenceIndex=e,this.state=ti.SpecialStartSequence;}stateBeforeTagName(t){if(t===Ks.ExclamationMark)this.state=ti.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Ks.Questionmark)this.state=ti.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const e=32|t;this.sectionStart=this.index,this.xmlMode?this.state=ti.InTagName:e===ui.ScriptEnd[2]?this.state=ti.BeforeSpecialS:e===ui.TitleEnd[2]||e===ui.XmpEnd[2]?this.state=ti.BeforeSpecialT:this.state=ti.InTagName;}else t===Ks.Slash?this.state=ti.BeforeClosingTagName:(this.state=ti.Text,this.stateText(t));}stateInTagName(t){li(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ti.BeforeAttributeName,this.stateBeforeAttributeName(t));}stateBeforeClosingTagName(t){hi(t)||(t===Ks.Gt?this.state=ti.Text:(this.state=this.isTagStartChar(t)?ti.InClosingTagName:ti.InSpecialComment,this.sectionStart=this.index));}stateInClosingTagName(t){(t===Ks.Gt||hi(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=ti.AfterClosingTagName,this.stateAfterClosingTagName(t));}stateAfterClosingTagName(t){(t===Ks.Gt||this.fastForwardTo(Ks.Gt))&&(this.state=ti.Text,this.sectionStart=this.index+1);}stateBeforeAttributeName(t){t===Ks.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=ti.InSpecialTag,this.sequenceIndex=0):this.state=ti.Text,this.sectionStart=this.index+1):t===Ks.Slash?this.state=ti.InSelfClosingTag:hi(t)||(this.state=ti.InAttributeName,this.sectionStart=this.index);}stateInSelfClosingTag(t){t===Ks.Gt?(this.cbs.onselfclosingtag(this.index),this.state=ti.Text,this.sectionStart=this.index+1,this.isSpecial=false):hi(t)||(this.state=ti.BeforeAttributeName,this.stateBeforeAttributeName(t));}stateInAttributeName(t){(t===Ks.Eq||li(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=ti.AfterAttributeName,this.stateAfterAttributeName(t));}stateAfterAttributeName(t){t===Ks.Eq?this.state=ti.BeforeAttributeValue:t===Ks.Slash||t===Ks.Gt?(this.cbs.onattribend(si.NoValue,this.sectionStart),this.sectionStart=-1,this.state=ti.BeforeAttributeName,this.stateBeforeAttributeName(t)):hi(t)||(this.cbs.onattribend(si.NoValue,this.sectionStart),this.state=ti.InAttributeName,this.sectionStart=this.index);}stateBeforeAttributeValue(t){t===Ks.DoubleQuote?(this.state=ti.InAttributeValueDq,this.sectionStart=this.index+1):t===Ks.SingleQuote?(this.state=ti.InAttributeValueSq,this.sectionStart=this.index+1):hi(t)||(this.sectionStart=this.index,this.state=ti.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t));}handleInAttributeValue(t,e){t===e||!this.decodeEntities&&this.fastForwardTo(e)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===Ks.DoubleQuote?si.Double:si.Single,this.index+1),this.state=ti.BeforeAttributeName):this.decodeEntities&&t===Ks.Amp&&this.startEntity();}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Ks.DoubleQuote);}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Ks.SingleQuote);}stateInAttributeValueNoQuotes(t){hi(t)||t===Ks.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(si.Unquoted,this.index),this.state=ti.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Ks.Amp&&this.startEntity();}stateBeforeDeclaration(t){t===Ks.OpeningSquareBracket?(this.state=ti.CDATASequence,this.sequenceIndex=0):this.state=t===Ks.Dash?ti.BeforeComment:ti.InDeclaration;}stateInDeclaration(t){(t===Ks.Gt||this.fastForwardTo(Ks.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=ti.Text,this.sectionStart=this.index+1);}stateInProcessingInstruction(t){(t===Ks.Gt||this.fastForwardTo(Ks.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=ti.Text,this.sectionStart=this.index+1);}stateBeforeComment(t){t===Ks.Dash?(this.state=ti.InCommentLike,this.currentSequence=ui.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=ti.InDeclaration;}stateInSpecialComment(t){(t===Ks.Gt||this.fastForwardTo(Ks.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=ti.Text,this.sectionStart=this.index+1);}stateBeforeSpecialS(t){const e=32|t;e===ui.ScriptEnd[3]?this.startSpecial(ui.ScriptEnd,4):e===ui.StyleEnd[3]?this.startSpecial(ui.StyleEnd,4):(this.state=ti.InTagName,this.stateInTagName(t));}stateBeforeSpecialT(t){switch(32|t){case ui.TitleEnd[3]:this.startSpecial(ui.TitleEnd,4);break;case ui.TextareaEnd[3]:this.startSpecial(ui.TextareaEnd,4);break;case ui.XmpEnd[3]:this.startSpecial(ui.XmpEnd,4);break;default:this.state=ti.InTagName,this.stateInTagName(t);}}startEntity(){this.baseState=this.state,this.state=ti.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Zs.Strict:this.baseState===ti.Text||this.baseState===ti.InSpecialTag?Zs.Legacy:Zs.Attribute);}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);0>t?this.index=this.offset+this.buffer.length-1:(this.state=this.baseState,0===t&&(this.index=this.entityStart));}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===ti.Text||this.state===ti.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==ti.InAttributeValueDq&&this.state!==ti.InAttributeValueSq&&this.state!==ti.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index));}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case ti.Text:this.stateText(t);break;case ti.SpecialStartSequence:this.stateSpecialStartSequence(t);break;case ti.InSpecialTag:this.stateInSpecialTag(t);break;case ti.CDATASequence:this.stateCDATASequence(t);break;case ti.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(t);break;case ti.InAttributeName:this.stateInAttributeName(t);break;case ti.InCommentLike:this.stateInCommentLike(t);break;case ti.InSpecialComment:this.stateInSpecialComment(t);break;case ti.BeforeAttributeName:this.stateBeforeAttributeName(t);break;case ti.InTagName:this.stateInTagName(t);break;case ti.InClosingTagName:this.stateInClosingTagName(t);break;case ti.BeforeTagName:this.stateBeforeTagName(t);break;case ti.AfterAttributeName:this.stateAfterAttributeName(t);break;case ti.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(t);break;case ti.BeforeAttributeValue:this.stateBeforeAttributeValue(t);break;case ti.BeforeClosingTagName:this.stateBeforeClosingTagName(t);break;case ti.AfterClosingTagName:this.stateAfterClosingTagName(t);break;case ti.BeforeSpecialS:this.stateBeforeSpecialS(t);break;case ti.BeforeSpecialT:this.stateBeforeSpecialT(t);break;case ti.InAttributeValueNq:this.stateInAttributeValueNoQuotes(t);break;case ti.InSelfClosingTag:this.stateInSelfClosingTag(t);break;case ti.InDeclaration:this.stateInDeclaration(t);break;case ti.BeforeDeclaration:this.stateBeforeDeclaration(t);break;case ti.BeforeComment:this.stateBeforeComment(t);break;case ti.InProcessingInstruction:this.stateInProcessingInstruction(t);break;case ti.InEntity:this.stateInEntity();}this.index++;}this.cleanup();}finish(){this.state===ti.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend();}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart<t&&(this.state===ti.InCommentLike?this.currentSequence===ui.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===ti.InTagName||this.state===ti.BeforeAttributeName||this.state===ti.BeforeAttributeValue||this.state===ti.AfterAttributeName||this.state===ti.InAttributeName||this.state===ti.InAttributeValueSq||this.state===ti.InAttributeValueDq||this.state===ti.InAttributeValueNq||this.state===ti.InClosingTagName||this.cbs.ontext(this.sectionStart,t));}emitCodePoint(t,e){this.baseState!==ti.Text&&this.baseState!==ti.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart));}};const fi=new Set(["input","option","optgroup","select","button","datalist","textarea"]),pi=new Set(["p"]),mi=new Set(["thead","tbody"]),bi=new Set(["dd","dt"]),gi=new Set(["rt","rp"]),yi=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",pi],["h1",pi],["h2",pi],["h3",pi],["h4",pi],["h5",pi],["h6",pi],["select",fi],["input",fi],["output",fi],["button",fi],["datalist",fi],["textarea",fi],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",bi],["dt",bi],["address",pi],["article",pi],["aside",pi],["blockquote",pi],["details",pi],["div",pi],["dl",pi],["fieldset",pi],["figcaption",pi],["figure",pi],["footer",pi],["form",pi],["header",pi],["hr",pi],["main",pi],["nav",pi],["ol",pi],["pre",pi],["section",pi],["table",pi],["ul",pi],["rt",gi],["rp",gi],["tbody",mi],["tfoot",mi]]),vi=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),ki=new Set(["math","svg"]),wi=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]);let xi=class{constructor(t,e={}){var s,i,n,r,a,o;this.options=e,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=false,this.cbs=null!=t?t:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=null!==(s=e.lowerCaseTags)&&void 0!==s?s:this.htmlMode,this.lowerCaseAttributeNames=null!==(i=e.lowerCaseAttributeNames)&&void 0!==i?i:this.htmlMode,this.recognizeSelfClosing=null!==(n=e.recognizeSelfClosing)&&void 0!==n?n:!this.htmlMode,this.tokenizer=new(null!==(r=e.Tokenizer)&&void 0!==r?r:di)(this.options,this),this.foreignContext=[!this.htmlMode],null===(o=(a=this.cbs).onparserinit)||void 0===o||o.call(a,this);}ontext(t,e){var s,i;const n=this.getSlice(t,e);this.endIndex=e-1,null===(i=(s=this.cbs).ontext)||void 0===i||i.call(s,n),this.startIndex=e;}ontextentity(t,e){var s,i;this.endIndex=e-1,null===(i=(s=this.cbs).ontext)||void 0===i||i.call(s,$s(t)),this.startIndex=e;}isVoidElement(t){return this.htmlMode&&vi.has(t)}onopentagname(t,e){this.endIndex=e;let s=this.getSlice(t,e);this.lowerCaseTagNames&&(s=s.toLowerCase()),this.emitOpenTag(s);}emitOpenTag(t){var e,s,i,n;this.openTagStart=this.startIndex,this.tagname=t;const r=this.htmlMode&&yi.get(t);if(r)for(;this.stack.length>0&&r.has(this.stack[0]);){const t=this.stack.shift();null===(s=(e=this.cbs).onclosetag)||void 0===s||s.call(e,t,true);}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(ki.has(t)?this.foreignContext.unshift(true):wi.has(t)&&this.foreignContext.unshift(false))),null===(n=(i=this.cbs).onopentagname)||void 0===n||n.call(i,t),this.cbs.onopentag&&(this.attribs={});}endOpenTag(t){var e,s;this.startIndex=this.openTagStart,this.attribs&&(null===(s=(e=this.cbs).onopentag)||void 0===s||s.call(e,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,true),this.tagname="";}onopentagend(t){this.endIndex=t,this.endOpenTag(false),this.startIndex=t+1;}onclosetag(t,e){var s,i,n,r,a,o,c,h;this.endIndex=e;let l=this.getSlice(t,e);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),this.htmlMode&&(ki.has(l)||wi.has(l))&&this.foreignContext.shift(),this.isVoidElement(l))this.htmlMode&&"br"===l&&(null===(r=(n=this.cbs).onopentagname)||void 0===r||r.call(n,"br"),null===(o=(a=this.cbs).onopentag)||void 0===o||o.call(a,"br",{},true),null===(h=(c=this.cbs).onclosetag)||void 0===h||h.call(c,"br",false));else {const t=this.stack.indexOf(l);if(-1!==t)for(let e=0;t>=e;e++){const n=this.stack.shift();null===(i=(s=this.cbs).onclosetag)||void 0===i||i.call(s,n,e!==t);}else this.htmlMode&&"p"===l&&(this.emitOpenTag("p"),this.closeCurrentTag(true));}this.startIndex=e+1;}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(false),this.startIndex=t+1):this.onopentagend(t);}closeCurrentTag(t){var e,s;const i=this.tagname;this.endOpenTag(t),this.stack[0]===i&&(null===(s=(e=this.cbs).onclosetag)||void 0===s||s.call(e,i,!t),this.stack.shift());}onattribname(t,e){this.startIndex=t;const s=this.getSlice(t,e);this.attribname=this.lowerCaseAttributeNames?s.toLowerCase():s;}onattribdata(t,e){this.attribvalue+=this.getSlice(t,e);}onattribentity(t){this.attribvalue+=$s(t);}onattribend(t,e){var s,i;this.endIndex=e,null===(i=(s=this.cbs).onattribute)||void 0===i||i.call(s,this.attribname,this.attribvalue,t===si.Double?'"':t===si.Single?"'":t===si.NoValue?void 0:null),this.attribs&&!{}.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue="";}getInstructionName(t){const e=t.search(/\s|\//);let s=0>e?t:t.substr(0,e);return this.lowerCaseTagNames&&(s=s.toLowerCase()),s}ondeclaration(t,e){this.endIndex=e;const s=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const t=this.getInstructionName(s);this.cbs.onprocessinginstruction("!"+t,"!"+s);}this.startIndex=e+1;}onprocessinginstruction(t,e){this.endIndex=e;const s=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const t=this.getInstructionName(s);this.cbs.onprocessinginstruction("?"+t,"?"+s);}this.startIndex=e+1;}oncomment(t,e,s){var i,n,r,a;this.endIndex=e,null===(n=(i=this.cbs).oncomment)||void 0===n||n.call(i,this.getSlice(t,e-s)),null===(a=(r=this.cbs).oncommentend)||void 0===a||a.call(r),this.startIndex=e+1;}oncdata(t,e,s){var i,n,r,a,o,c,h,l,u,d;this.endIndex=e;const f=this.getSlice(t,e-s);!this.htmlMode||this.options.recognizeCDATA?(null===(n=(i=this.cbs).oncdatastart)||void 0===n||n.call(i),null===(a=(r=this.cbs).ontext)||void 0===a||a.call(r,f),null===(c=(o=this.cbs).oncdataend)||void 0===c||c.call(o)):(null===(l=(h=this.cbs).oncomment)||void 0===l||l.call(h,`[CDATA[${f}]]`),null===(d=(u=this.cbs).oncommentend)||void 0===d||d.call(u)),this.startIndex=e+1;}onend(){var t,e;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let t=0;t<this.stack.length;t++)this.cbs.onclosetag(this.stack[t],true);}null===(e=(t=this.cbs).onend)||void 0===e||e.call(t);}reset(){var t,e,s,i;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(i=(s=this.cbs).onparserinit)||void 0===i||i.call(s,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=false;}parseComplete(t){this.reset(),this.end(t);}getSlice(t,e){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let s=this.buffers[0].slice(t-this.bufferOffset,e-this.bufferOffset);for(;e-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),s+=this.buffers[0].slice(0,e-this.bufferOffset);return s}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift();}write(t){var e,s;this.ended?null===(s=(e=this.cbs).onerror)||void 0===s||s.call(e,Error(".write() after done!")):(this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++));}end(t){var e,s;this.ended?null===(s=(e=this.cbs).onerror)||void 0===s||s.call(e,Error(".end() after done!")):(t&&this.write(t),this.ended=true,this.tokenizer.end());}pause(){this.tokenizer.pause();}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end();}parseChunk(t){this.write(t);}done(t){this.end(t);}};var Mi;const _i=null!==(Mi=Object.hasOwn)&&void 0!==Mi?Mi:(t,e)=>({}.hasOwnProperty.call(t,e)),Ti=/\s+/,Ai="data-",Si=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ei=/^{[^]*}$|^\[[^]*]$/;function Di(t,e,s){var i;if(t&&Te(t))return null!==(i=t.attribs)&&void 0!==i||(t.attribs={}),e?_i(t.attribs,e)?!s&&Si.test(e)?e:t.attribs[e]:"option"===t.name&&"value"===e?Cs(t.children):"input"!==t.name||"radio"!==t.attribs.type&&"checkbox"!==t.attribs.type||"value"!==e?void 0:"on":t.attribs}function Ci(t,e,s){null===s?Pi(t,e):t.attribs[e]=""+s;}function Ni(t,e,s){return e in t?t[e]:!s&&Si.test(e)?void 0!==Di(t,e,false):Di(t,e,s)}function Ii(t,e,s,i){e in t?t[e]=s:Ci(t,e,!i&&Si.test(e)?s?"":null:""+s);}function Oi(t,e,s){var i;null!==(i=t.data)&&void 0!==i||(t.data={}),"object"==typeof e?Object.assign(t.data,e):"string"==typeof e&&void 0!==s&&(t.data[e]=s);}function Ri(t){if("null"===t)return null;if("true"===t)return  true;if("false"===t)return  false;const e=+t;if(t===e+"")return e;if(Ei.test(t))try{return JSON.parse(t)}catch{}return t}function Pi(t,e){t.attribs&&_i(t.attribs,e)&&delete t.attribs[e];}function Li(t){return t?t.trim().split(Ti):[]}const Bi=Object.freeze(Object.defineProperty({__proto__:null,addClass:function t(e){if("function"==typeof e)return Ls(this,(s,i)=>{if(Te(s)){const n=s.attribs.class||"";t.call([s],e.call(s,i,n));}});if(!e||"string"!=typeof e)return this;const s=e.split(Ti),i=this.length;for(let n=0;i>n;n++){const t=this[n];if(!Te(t))continue;const e=Di(t,"class",false);if(e){let i=` ${e} `;for(const t of s){const e=t+" ";i.includes(" "+e)||(i+=e);}Ci(t,"class",i.trim());}else Ci(t,"class",s.join(" ").trim());}return this},attr:function(t,e){if("object"==typeof t||void 0!==e){if("function"==typeof e){if("string"!=typeof t)throw Error("Bad combination of arguments.");return Ls(this,(s,i)=>{Te(s)&&Ci(s,t,e.call(s,i,s.attribs[t]));})}return Ls(this,s=>{if(Te(s))if("object"==typeof t)for(const e of Object.keys(t))Ci(s,e,t[e]);else Ci(s,t,e);})}return arguments.length>1?this:Di(this[0],t,this.options.xmlMode)},data:function(t,e){var s;const i=this[0];if(!i||!Te(i))return;const n=i;return null!==(s=n.data)&&void 0!==s||(n.data={}),null==t?function(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(Ai))continue;const s=Ps(e.slice(5));_i(t.data,s)||(t.data[s]=Ri(t.attribs[e]));}return t.data}(n):"object"==typeof t||void 0!==e?(Ls(this,s=>{Te(s)&&("object"==typeof t?Oi(s,t):Oi(s,t,e));}),this):function(t,e){const s=Ai+e.replace(/[A-Z]/g,"-$&").toLowerCase(),i=t.data;return _i(i,e)?i[e]:_i(t.attribs,s)?i[e]=Ri(t.attribs[s]):void 0}(n,t)},hasClass:function(t){return this.toArray().some(e=>{const s=Te(e)&&e.attribs.class;let i=-1;if(s&&t.length>0)for(;(i=s.indexOf(t,i+1))>-1;){const e=i+t.length;if((0===i||Ti.test(s[i-1]))&&(e===s.length||Ti.test(s[e])))return  true}return  false})},prop:function(t,e){var s;if("string"==typeof t&&void 0===e){const e=this[0];if(!e)return;switch(t){case "style":{const t=this.css(),e=Object.keys(t);for(let s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,t}case "tagName":case "nodeName":if(!Te(e))return;return e.name.toUpperCase();case "href":case "src":{if(!Te(e))return;const i=null===(s=e.attribs)||void 0===s?void 0:s[t];return "undefined"==typeof URL||("href"!==t||"a"!==e.tagName&&"link"!==e.tagName)&&("src"!==t||"img"!==e.tagName&&"iframe"!==e.tagName&&"audio"!==e.tagName&&"video"!==e.tagName&&"source"!==e.tagName)||void 0===i||!this.options.baseURI?i:new URL(i,this.options.baseURI).href}case "innerText":return ts(e);case "textContent":return Ke(e);case "outerHTML":return e.type===oe?this.html():this.clone().wrap("<container />").parent().html();case "innerHTML":return this.html();default:if(!Te(e))return;return Ni(e,t,this.options.xmlMode)}}if("object"==typeof t||void 0!==e){if("function"==typeof e){if("object"==typeof t)throw new TypeError("Bad combination of arguments.");return Ls(this,(s,i)=>{Te(s)&&Ii(s,t,e.call(s,i,Ni(s,t,this.options.xmlMode)),this.options.xmlMode);})}return Ls(this,s=>{if(Te(s))if("object"==typeof t)for(const e of Object.keys(t))Ii(s,e,t[e],this.options.xmlMode);else Ii(s,t,e,this.options.xmlMode);})}},removeAttr:function(t){const e=Li(t);for(const s of e)Ls(this,t=>{Te(t)&&Pi(t,s);});return this},removeClass:function t(e){if("function"==typeof e)return Ls(this,(s,i)=>{Te(s)&&t.call([s],e.call(s,i,s.attribs.class||""));});const s=Li(e),i=s.length,n=0===arguments.length;return Ls(this,t=>{if(Te(t))if(n)t.attribs.class="";else {const e=Li(t.attribs.class);let n=false;for(let t=0;i>t;t++){const i=e.indexOf(s[t]);-1!==i&&(e.splice(i,1),n=true,t--);}n&&(t.attribs.class=e.join(" "));}})},toggleClass:function t(e,s){if("function"==typeof e)return Ls(this,(i,n)=>{Te(i)&&t.call([i],e.call(i,n,i.attribs.class||"",s),s);});if(!e||"string"!=typeof e)return this;const i=e.split(Ti),n=i.length,r="boolean"==typeof s?s?1:-1:0,a=this.length;for(let o=0;a>o;o++){const t=this[o];if(!Te(t))continue;const e=Li(t.attribs.class);for(let s=0;n>s;s++){const t=e.indexOf(i[s]);0>r||-1!==t?r>0||-1===t||e.splice(t,1):e.push(i[s]);}t.attribs.class=e.join(" ");}return this},val:function(t){const e=0===arguments.length,s=this[0];if(!s||!Te(s))return e?void 0:this;switch(s.name){case "textarea":return this.text(t);case "select":{const s=this.find("option:selected");if(!e){if(null==this.attr("multiple")&&"object"==typeof t)return this;this.find("option").removeAttr("selected");const e="object"==typeof t?t:[t];for(const t of e)this.find(`option[value="${t}"]`).attr("selected","");return this}return this.attr("multiple")?s.toArray().map(t=>Cs(t.children)):s.attr("value")}case "input":case "option":return e?this.attr("value"):this.attr("value",t)}}},Symbol.toStringTag,{value:"Module"}));var Fi,ji,Ui,qi;(ji=Fi||(Fi={})).Attribute="attribute",ji.Pseudo="pseudo",ji.PseudoElement="pseudo-element",ji.Tag="tag",ji.Universal="universal",ji.Adjacent="adjacent",ji.Child="child",ji.Descendant="descendant",ji.Parent="parent",ji.Sibling="sibling",ji.ColumnCombinator="column-combinator",(qi=Ui||(Ui={})).Any="any",qi.Element="element",qi.End="end",qi.Equals="equals",qi.Exists="exists",qi.Hyphen="hyphen",qi.Not="not",qi.Start="start";const Hi=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,zi=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,$i=new Map([[126,Ui.Element],[94,Ui.Start],[36,Ui.End],[42,Ui.Any],[33,Ui.Not],[124,Ui.Hyphen]]),Wi=new Set(["has","not","matches","is","where","host","host-context"]);function Yi(t){switch(t.type){case Fi.Adjacent:case Fi.Child:case Fi.Descendant:case Fi.Parent:case Fi.Sibling:case Fi.ColumnCombinator:return  true;default:return  false}}const Vi=new Set(["contains","icontains"]);function Gi(t,e,s){const i=parseInt(e,16)-65536;return i!=i||s?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)}function Qi(t){return t.replace(zi,Gi)}function Xi(t){return 39===t||34===t}function Zi(t){return 32===t||9===t||10===t||12===t||13===t}function Ji(t){const e=[],s=Ki(e,""+t,0);if(s<t.length)throw Error("Unmatched selector: "+t.slice(s));return e}function Ki(t,e,s){let i=[];function n(t){const i=e.slice(s+t).match(Hi);if(!i)throw Error("Expected name, found "+e.slice(s));const[n]=i;return s+=t+n.length,Qi(n)}function r(t){for(s+=t;s<e.length&&Zi(e.charCodeAt(s));)s++;}function a(){const t=s+=1;let i=1;for(;i>0&&s<e.length;s++)40!==e.charCodeAt(s)||o(s)?41!==e.charCodeAt(s)||o(s)||i--:i++;if(i)throw Error("Parenthesis not matched");return Qi(e.slice(t,s-1))}function o(t){let s=0;for(;92===e.charCodeAt(--t);)s++;return !(1&~s)}function c(){if(i.length>0&&Yi(i[i.length-1]))throw Error("Did not expect successive traversals.")}function h(t){i.length>0&&i[i.length-1].type===Fi.Descendant?i[i.length-1].type=t:(c(),i.push({type:t}));}function l(t,e){i.push({type:Fi.Attribute,name:t,action:e,value:n(1),namespace:null,ignoreCase:"quirks"});}function u(){if(i.length&&i[i.length-1].type===Fi.Descendant&&i.pop(),0===i.length)throw Error("Empty sub-selector");t.push(i);}if(r(0),e.length===s)return s;t:for(;s<e.length;){const t=e.charCodeAt(s);switch(t){case 32:case 9:case 10:case 12:case 13:0!==i.length&&i[0].type===Fi.Descendant||(c(),i.push({type:Fi.Descendant})),r(1);break;case 62:h(Fi.Child),r(1);break;case 60:h(Fi.Parent),r(1);break;case 126:h(Fi.Sibling),r(1);break;case 43:h(Fi.Adjacent),r(1);break;case 46:l("class",Ui.Element);break;case 35:l("id",Ui.Equals);break;case 91:{let t;r(1);let a=null;124===e.charCodeAt(s)?t=n(1):e.startsWith("*|",s)?(a="*",t=n(2)):(t=n(0),124===e.charCodeAt(s)&&61!==e.charCodeAt(s+1)&&(a=t,t=n(1))),r(0);let c=Ui.Exists;const h=$i.get(e.charCodeAt(s));if(h){if(c=h,61!==e.charCodeAt(s+1))throw Error("Expected `=`");r(2);}else 61===e.charCodeAt(s)&&(c=Ui.Equals,r(1));let l="",u=null;if("exists"!==c){if(Xi(e.charCodeAt(s))){const t=e.charCodeAt(s);let i=s+1;for(;i<e.length&&(e.charCodeAt(i)!==t||o(i));)i+=1;if(e.charCodeAt(i)!==t)throw Error("Attribute value didn't end");l=Qi(e.slice(s+1,i)),s=i+1;}else {const t=s;for(;s<e.length&&(!Zi(e.charCodeAt(s))&&93!==e.charCodeAt(s)||o(s));)s+=1;l=Qi(e.slice(t,s));}r(0);const t=32|e.charCodeAt(s);115===t?(u=false,r(1)):105===t&&(u=true,r(1));}if(93!==e.charCodeAt(s))throw Error("Attribute selector didn't terminate");s+=1;const d={type:Fi.Attribute,name:t,action:c,value:l,namespace:a,ignoreCase:u};i.push(d);break}case 58:{if(58===e.charCodeAt(s+1)){i.push({type:Fi.PseudoElement,name:n(2).toLowerCase(),data:40===e.charCodeAt(s)?a():null});continue}const t=n(1).toLowerCase();let r=null;if(40===e.charCodeAt(s))if(Wi.has(t)){if(Xi(e.charCodeAt(s+1)))throw Error(`Pseudo-selector ${t} cannot be quoted`);if(r=[],s=Ki(r,e,s+1),41!==e.charCodeAt(s))throw Error(`Missing closing parenthesis in :${t} (${e})`);s+=1;}else {if(r=a(),Vi.has(t)){const t=r.charCodeAt(0);t===r.charCodeAt(r.length-1)&&Xi(t)&&(r=r.slice(1,-1));}r=Qi(r);}i.push({type:Fi.Pseudo,name:t,data:r});break}case 44:u(),i=[],r(1);break;default:{if(e.startsWith("/*",s)){const t=e.indexOf("*/",s+2);if(0>t)throw Error("Comment was not terminated");s=t+2,0===i.length&&r(0);break}let a,o=null;if(42===t)s+=1,a="*";else if(124===t){if(a="",124===e.charCodeAt(s+1)){h(Fi.ColumnCombinator),r(2);break}}else {if(!Hi.test(e.slice(s)))break t;a=n(0);}124===e.charCodeAt(s)&&124!==e.charCodeAt(s+1)&&(o=a,42===e.charCodeAt(s+1)?(a="*",s+=2):a=n(1)),i.push("*"===a?{type:Fi.Universal,namespace:o}:{type:Fi.Tag,name:a,namespace:o});}}}return u(),s}function tn(t){return t&&t.j&&{}.hasOwnProperty.call(t,"default")?t.default:t}var en,sn,nn=sn?en:(sn=1,en={trueFunc:function(){return  true},falseFunc:function(){return  false}});const rn=tn(nn),an=new Map([[Fi.Universal,50],[Fi.Tag,30],[Fi.Attribute,1],[Fi.Pseudo,0]]);function on(t){return !an.has(t.type)}const cn=new Map([[Ui.Exists,10],[Ui.Equals,8],[Ui.Not,7],[Ui.Start,6],[Ui.End,6],[Ui.Any,5]]);function hn(t){const e=t.map(ln);for(let s=1;s<t.length;s++){const i=e[s];if(i>=0)for(let n=s-1;n>=0&&i<e[n];n--){const s=t[n+1];t[n+1]=t[n],t[n]=s,e[n+1]=e[n],e[n]=i;}}}function ln(t){var e,s;let i=null!==(e=an.get(t.type))&&void 0!==e?e:-1;return t.type===Fi.Attribute?(i=null!==(s=cn.get(t.action))&&void 0!==s?s:4,t.action===Ui.Equals&&"id"===t.name&&(i=9),t.ignoreCase&&(i>>=1)):t.type===Fi.Pseudo&&(t.data?"has"===t.name||"contains"===t.name?i=0:Array.isArray(t.data)?(i=Math.min(...t.data.map(t=>Math.min(...t.map(ln)))),0>i&&(i=0)):i=2:i=3),i}const un=/[-[\]{}()*+?.,\\^$|#\s]/g;function dn(t){return t.replace(un,"\\$&")}const fn=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function pn(t,e){return "boolean"==typeof t.ignoreCase?t.ignoreCase:"quirks"===t.ignoreCase?!!e.quirksMode:!e.xmlMode&&fn.has(t.name)}const mn={equals(t,e,s){const{adapter:i}=s,{name:n}=e;let{value:r}=e;return pn(e,s)?(r=r.toLowerCase(),e=>{const s=i.getAttributeValue(e,n);return null!=s&&s.length===r.length&&s.toLowerCase()===r&&t(e)}):e=>i.getAttributeValue(e,n)===r&&t(e)},hyphen(t,e,s){const{adapter:i}=s,{name:n}=e;let{value:r}=e;const a=r.length;return pn(e,s)?(r=r.toLowerCase(),function(e){const s=i.getAttributeValue(e,n);return null!=s&&(s.length===a||"-"===s.charAt(a))&&s.substr(0,a).toLowerCase()===r&&t(e)}):function(e){const s=i.getAttributeValue(e,n);return null!=s&&(s.length===a||"-"===s.charAt(a))&&s.substr(0,a)===r&&t(e)}},element(t,e,s){const{adapter:i}=s,{name:n,value:r}=e;if(/\s/.test(r))return rn.falseFunc;const a=RegExp(`(?:^|\\s)${dn(r)}(?:$|\\s)`,pn(e,s)?"i":"");return function(e){const s=i.getAttributeValue(e,n);return null!=s&&s.length>=r.length&&a.test(s)&&t(e)}},exists:(t,{name:e},{adapter:s})=>i=>s.hasAttrib(i,e)&&t(i),start(t,e,s){const{adapter:i}=s,{name:n}=e;let{value:r}=e;const a=r.length;return 0===a?rn.falseFunc:pn(e,s)?(r=r.toLowerCase(),e=>{const s=i.getAttributeValue(e,n);return null!=s&&s.length>=a&&s.substr(0,a).toLowerCase()===r&&t(e)}):e=>{var s;return !!(null===(s=i.getAttributeValue(e,n))||void 0===s?void 0:s.startsWith(r))&&t(e)}},end(t,e,s){const{adapter:i}=s,{name:n}=e;let{value:r}=e;const a=-r.length;return 0===a?rn.falseFunc:pn(e,s)?(r=r.toLowerCase(),e=>{var s;return (null===(s=i.getAttributeValue(e,n))||void 0===s?void 0:s.substr(a).toLowerCase())===r&&t(e)}):e=>{var s;return !!(null===(s=i.getAttributeValue(e,n))||void 0===s?void 0:s.endsWith(r))&&t(e)}},any(t,e,s){const{adapter:i}=s,{name:n,value:r}=e;if(""===r)return rn.falseFunc;if(pn(e,s)){const e=RegExp(dn(r),"i");return function(s){const a=i.getAttributeValue(s,n);return null!=a&&a.length>=r.length&&e.test(a)&&t(s)}}return e=>{var s;return !!(null===(s=i.getAttributeValue(e,n))||void 0===s?void 0:s.includes(r))&&t(e)}},not(t,e,s){const{adapter:i}=s,{name:n}=e;let{value:r}=e;return ""===r?e=>!!i.getAttributeValue(e,n)&&t(e):pn(e,s)?(r=r.toLowerCase(),e=>{const s=i.getAttributeValue(e,n);return (null==s||s.length!==r.length||s.toLowerCase()!==r)&&t(e)}):e=>i.getAttributeValue(e,n)!==r&&t(e)}},bn=new Set([9,10,12,13,32]);function gn(t){return function(t){const e=t[0],s=t[1]-1;if(0>s&&0>=e)return rn.falseFunc;if(-1===e)return t=>s>=t;if(0===e)return t=>t===s;if(1===e)return 0>s?rn.trueFunc:t=>t>=s;const i=Math.abs(e),n=(s%i+i)%i;return e>1?t=>t>=s&&t%i===n:t=>s>=t&&t%i===n}(function(t){if("even"===(t=t.trim().toLowerCase()))return [2,0];if("odd"===t)return [2,1];let e=0,s=0,i=r(),n=a();if(e<t.length&&"n"===t.charAt(e)&&(e++,s=i*(null!=n?n:1),o(),e<t.length?(i=r(),o(),n=a()):i=n=0),null===n||e<t.length)throw Error(`n-th rule couldn't be parsed ('${t}')`);return [s,i*n];function r(){return "-"===t.charAt(e)?(e++,-1):("+"===t.charAt(e)&&e++,1)}function a(){const s=e;let i=0;for(;e<t.length&&t.charCodeAt(e)>=48&&57>=t.charCodeAt(e);)i=10*i+(t.charCodeAt(e)-48),e++;return e===s?null:i}function o(){for(;e<t.length&&bn.has(t.charCodeAt(e));)e++;}}(t))}function yn(t,e){return s=>{const i=e.getParent(s);return null!=i&&e.isTag(i)&&t(s)}}const vn={contains:(t,e,{adapter:s})=>function(i){return t(i)&&s.getText(i).includes(e)},icontains(t,e,{adapter:s}){const i=e.toLowerCase();return function(e){return t(e)&&s.getText(e).toLowerCase().includes(i)}},"nth-child"(t,e,{adapter:s,equals:i}){const n=gn(e);return n===rn.falseFunc?rn.falseFunc:n===rn.trueFunc?yn(t,s):function(e){const r=s.getSiblings(e);let a=0;for(let t=0;t<r.length&&!i(e,r[t]);t++)s.isTag(r[t])&&a++;return n(a)&&t(e)}},"nth-last-child"(t,e,{adapter:s,equals:i}){const n=gn(e);return n===rn.falseFunc?rn.falseFunc:n===rn.trueFunc?yn(t,s):function(e){const r=s.getSiblings(e);let a=0;for(let t=r.length-1;t>=0&&!i(e,r[t]);t--)s.isTag(r[t])&&a++;return n(a)&&t(e)}},"nth-of-type"(t,e,{adapter:s,equals:i}){const n=gn(e);return n===rn.falseFunc?rn.falseFunc:n===rn.trueFunc?yn(t,s):function(e){const r=s.getSiblings(e);let a=0;for(let t=0;t<r.length;t++){const n=r[t];if(i(e,n))break;s.isTag(n)&&s.getName(n)===s.getName(e)&&a++;}return n(a)&&t(e)}},"nth-last-of-type"(t,e,{adapter:s,equals:i}){const n=gn(e);return n===rn.falseFunc?rn.falseFunc:n===rn.trueFunc?yn(t,s):function(e){const r=s.getSiblings(e);let a=0;for(let t=r.length-1;t>=0;t--){const n=r[t];if(i(e,n))break;s.isTag(n)&&s.getName(n)===s.getName(e)&&a++;}return n(a)&&t(e)}},root:(t,e,{adapter:s})=>e=>{const i=s.getParent(e);return (null==i||!s.isTag(i))&&t(e)},scope(t,e,s,i){const{equals:n}=s;return i&&0!==i.length?1===i.length?e=>n(i[0],e)&&t(e):e=>i.includes(e)&&t(e):vn.root(t,e,s)},hover:kn("isHovered"),visited:kn("isVisited"),active:kn("isActive")};function kn(t){return function(e,s,{adapter:i}){const n=i[t];return "function"!=typeof n?rn.falseFunc:function(t){return n(t)&&e(t)}}}const wn={empty:(t,{adapter:e})=>!e.getChildren(t).some(t=>e.isTag(t)||""!==e.getText(t)),"first-child"(t,{adapter:e,equals:s}){if(e.prevElementSibling)return null==e.prevElementSibling(t);const i=e.getSiblings(t).find(t=>e.isTag(t));return null!=i&&s(t,i)},"last-child"(t,{adapter:e,equals:s}){const i=e.getSiblings(t);for(let n=i.length-1;n>=0;n--){if(s(t,i[n]))return  true;if(e.isTag(i[n]))break}return  false},"first-of-type"(t,{adapter:e,equals:s}){const i=e.getSiblings(t),n=e.getName(t);for(let r=0;r<i.length;r++){const a=i[r];if(s(t,a))return  true;if(e.isTag(a)&&e.getName(a)===n)break}return  false},"last-of-type"(t,{adapter:e,equals:s}){const i=e.getSiblings(t),n=e.getName(t);for(let r=i.length-1;r>=0;r--){const a=i[r];if(s(t,a))return  true;if(e.isTag(a)&&e.getName(a)===n)break}return  false},"only-of-type"(t,{adapter:e,equals:s}){const i=e.getName(t);return e.getSiblings(t).every(n=>s(t,n)||!e.isTag(n)||e.getName(n)!==i)},"only-child":(t,{adapter:e,equals:s})=>e.getSiblings(t).every(i=>s(t,i)||!e.isTag(i))};function xn(t,e,s,i){if(null===s){if(t.length>i)throw Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===i)throw Error(`Pseudo-class :${e} doesn't have any arguments`)}const Mn={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},_n={};function Tn(t,e){const s=e.getSiblings(t);if(1>=s.length)return [];const i=s.indexOf(t);return 0>i||i===s.length-1?[]:s.slice(i+1).filter(e.isTag)}function An(t){return {xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const Sn=(t,e,s,i,n)=>{const r=n(e,An(s),i);return r===rn.trueFunc?t:r===rn.falseFunc?rn.falseFunc:e=>r(e)&&t(e)},En={is:Sn,matches:Sn,where:Sn,not(t,e,s,i,n){const r=n(e,An(s),i);return r===rn.falseFunc?t:r===rn.trueFunc?rn.falseFunc:e=>!r(e)&&t(e)},has(t,e,s,i,n){const{adapter:r}=s,a=An(s);a.relativeSelector=true;const o=e.some(t=>t.some(on))?[_n]:void 0,c=n(e,a,o);if(c===rn.falseFunc)return rn.falseFunc;const h=function(t,e){return t===rn.falseFunc?rn.falseFunc:s=>e.isTag(s)&&t(s)}(c,r);if(o&&c!==rn.trueFunc){const{shouldTestNextSiblings:e=false}=c;return s=>{if(!t(s))return  false;o[0]=s;const i=r.getChildren(s),n=e?[...i,...Tn(s,r)]:i;return r.existsOne(h,n)}}return e=>t(e)&&r.existsOne(h,r.getChildren(e))}};function Dn(t,e){const s=e.getParent(t);return s&&e.isTag(s)?s:null}function Cn(t){return t.type===Fi.Pseudo&&("scope"===t.name||Array.isArray(t.data)&&t.data.some(t=>t.some(Cn)))}const Nn={type:Fi.Descendant},In={type:"_flexibleDescendant"},On={type:Fi.Pseudo,name:"scope",data:null};function Rn(t,e){return e===rn.falseFunc||t===rn.trueFunc?t:t===rn.falseFunc||e===rn.trueFunc?e:function(s){return t(s)||e(s)}}const Pn=(t,e)=>t===e,Ln={adapter:As,equals:Pn},Bn=(Fn=function t(e,s,i){var n;e.forEach(hn),i=null!==(n=s.context)&&void 0!==n?n:i;const r=Array.isArray(i),a=i&&(Array.isArray(i)?i:[i]);if(false!==s.relativeSelector)!function(t,{adapter:e},s){const i=!!(null==s?void 0:s.every(t=>{const s=e.isTag(t)&&e.getParent(t);return t===_n||s&&e.isTag(s)}));for(const n of t){if(n.length>0&&on(n[0])&&n[0].type!==Fi.Descendant);else {if(!i||n.some(Cn))continue;n.unshift(Nn);}n.unshift(On);}}(e,s,a);else if(e.some(t=>t.length>0&&on(t[0])))throw Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=false;const c=e.map(e=>{if(e.length>=2){const[t,s]=e;t.type!==Fi.Pseudo||"scope"!==t.name||(r&&s.type===Fi.Descendant?e[1]=In:s.type!==Fi.Adjacent&&s.type!==Fi.Sibling||(o=true));}return function(e,s,i){var n;return e.reduce((e,n)=>e===rn.falseFunc?rn.falseFunc:function(t,e,s,i,n){const{adapter:r,equals:a}=s;switch(e.type){case Fi.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case Fi.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case Fi.Attribute:if(null!=e.namespace)throw Error("Namespaced attributes are not yet supported by css-select");return s.xmlMode&&!s.lowerCaseAttributeNames||(e.name=e.name.toLowerCase()),mn[e.action](t,e,s);case Fi.Pseudo:return function(t,e,s,i,n){var r;const{name:a,data:o}=e;if(Array.isArray(o)){if(!(a in En))throw Error(`Unknown pseudo-class :${a}(${o})`);return En[a](t,o,s,i,n)}const c=null===(r=s.pseudos)||void 0===r?void 0:r[a],h="string"==typeof c?c:Mn[a];if("string"==typeof h){if(null!=o)throw Error(`Pseudo ${a} doesn't have any arguments`);const e=Ji(h);return En.is(t,e,s,i,n)}if("function"==typeof c)return xn(c,a,o,1),e=>c(e,o)&&t(e);if(a in vn)return vn[a](t,o,s,i);if(a in wn){const e=wn[a];return xn(e,a,o,2),i=>e(i,s,o)&&t(i)}throw Error("Unknown pseudo-class :"+a)}(t,e,s,i,n);case Fi.Tag:{if(null!=e.namespace)throw Error("Namespaced tag names are not yet supported by css-select");let{name:i}=e;return s.xmlMode&&!s.lowerCaseTags||(i=i.toLowerCase()),function(e){return r.getName(e)===i&&t(e)}}case Fi.Descendant:{if(false===s.cacheResults||"undefined"==typeof WeakSet)return function(e){let s=e;for(;s=Dn(s,r);)if(t(s))return  true;return  false};const e=new WeakSet;return function(s){let i=s;for(;i=Dn(i,r);)if(!e.has(i)){if(r.isTag(i)&&t(i))return  true;e.add(i);}return  false}}case "_flexibleDescendant":return function(e){let s=e;do{if(t(s))return  true}while(s=Dn(s,r));return  false};case Fi.Parent:return function(e){return r.getChildren(e).some(e=>r.isTag(e)&&t(e))};case Fi.Child:return function(e){const s=r.getParent(e);return null!=s&&r.isTag(s)&&t(s)};case Fi.Sibling:return function(e){const s=r.getSiblings(e);for(let i=0;i<s.length;i++){const n=s[i];if(a(e,n))break;if(r.isTag(n)&&t(n))return  true}return  false};case Fi.Adjacent:return r.prevElementSibling?function(e){const s=r.prevElementSibling(e);return null!=s&&t(s)}:function(e){const s=r.getSiblings(e);let i;for(let t=0;t<s.length;t++){const n=s[t];if(a(e,n))break;r.isTag(n)&&(i=n);}return !!i&&t(i)};case Fi.Universal:if(null!=e.namespace&&"*"!==e.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return t}}(e,n,s,i,t),null!==(n=s.rootFunc)&&void 0!==n?n:rn.trueFunc)}(e,s,a)}).reduce(Rn,rn.falseFunc);return c.shouldTestNextSiblings=o,c},function(t,e,s){const i=function(t){var e,s,i,n;const r=null!=t?t:Ln;return null!==(e=r.adapter)&&void 0!==e||(r.adapter=As),null!==(s=r.equals)&&void 0!==s||(r.equals=null!==(n=null===(i=r.adapter)||void 0===i?void 0:i.equals)&&void 0!==n?n:Pn),r}(e);return Fn(t,i,s)});var Fn;function jn(t,e,s=false){return s&&(t=function(t,e){const s=Array.isArray(t)?t.slice(0):[t],i=s.length;for(let n=0;i>n;n++){const t=Tn(s[n],e);s.push(...t);}return s}(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}const Un=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function qn(t){return "pseudo"===t.type&&(!!Un.has(t.name)||!("not"!==t.name||!Array.isArray(t.data))&&t.data.some(t=>t.some(qn)))}function Hn(t){const e=[],s=[];for(const i of t)i.some(qn)?e.push(i):s.push(i);return [s,e]}const zn={type:Fi.Universal,namespace:null},$n={type:Fi.Pseudo,name:"scope",data:null};function Wn(t,e,s={}){return Yn([t],e,s)}function Yn(t,e,s={}){if("function"==typeof e)return t.some(e);const[i,n]=Hn(Ji(e));return i.length>0&&t.some(Bn(i,s))||n.some(e=>Qn(e,t,s).length>0)}function Vn(t,e,s={}){return Gn(Ji(t),e,s)}function Gn(t,e,s){if(0===e.length)return [];const[i,n]=Hn(t);let r;if(i.length){const t=Kn(e,i,s);if(0===n.length)return t;t.length&&(r=new Set(t));}for(let a=0;a<n.length&&(null==r?void 0:r.size)!==e.length;a++){const t=n[a];if(0===(r?e.filter(t=>Te(t)&&!r.has(t)):e).length)break;const i=Qn(t,e,s);if(i.length)if(r)i.forEach(t=>r.add(t));else {if(a===n.length-1)return i;r=new Set(i);}}return void 0!==r?r.size===e.length?e:e.filter(t=>r.has(t)):[]}function Qn(t,e,s){var i;if(t.some(Yi)){const n=null!==(i=s.root)&&void 0!==i?i:function(t){for(;t.parent;)t=t.parent;return t}(e[0]),r={...s,context:e,relativeSelector:false};return t.push($n),Xn(n,t,r,true,e.length)}return Xn(e,t,s,false,e.length)}function Xn(t,e,s,i,n){const r=e.findIndex(qn),a=e.slice(0,r),o=e[r],c=e.length-1===r?n:1/0,h=function(t,e,s){const i=null!=e?parseInt(e,10):NaN;switch(t){case "first":return 1;case "nth":case "eq":return isFinite(i)?0>i?1/0:i+1:0;case "lt":return isFinite(i)?0>i?1/0:Math.min(i,s):0;case "gt":return isFinite(i)?1/0:0;case "odd":return 2*s;case "even":return 2*s-1;case "last":case "not":return 1/0}}(o.name,o.data,c);if(0===h)return [];const l=(0!==a.length||Array.isArray(t)?0===a.length?(Array.isArray(t)?t:[t]).filter(Te):i||a.some(Yi)?Zn(t,[a],s,h):Kn(t,[a],s):es(t).filter(Te)).slice(0,h);let u=function(t,e,s,i){const n="string"==typeof s?parseInt(s,10):NaN;switch(t){case "first":case "lt":return e;case "last":return e.length>0?[e[e.length-1]]:e;case "nth":case "eq":return isFinite(n)&&Math.abs(n)<e.length?[0>n?e[e.length+n]:e[n]]:[];case "gt":return isFinite(n)?e.slice(n+1):[];case "even":return e.filter((t,e)=>e%2==0);case "odd":return e.filter((t,e)=>e%2==1);case "not":{const t=new Set(Gn(s,e,i));return e.filter(e=>!t.has(e))}}}(o.name,l,o.data,s);if(0===u.length||e.length===r+1)return u;const d=e.slice(r+1),f=d.some(Yi);if(f){if(Yi(d[0])){const{type:t}=d[0];t!==Fi.Sibling&&t!==Fi.Adjacent||(u=jn(u,As,true)),d.unshift(zn);}s={...s,relativeSelector:false,rootFunc:t=>u.includes(t)};}else s.rootFunc&&s.rootFunc!==nn.trueFunc&&(s={...s,rootFunc:nn.trueFunc});return d.some(qn)?Xn(u,d,s,false,n):f?Zn(u,[d],s,n):Kn(u,[d],s)}function Zn(t,e,s,i){return Jn(t,Bn(e,s,t),i)}function Jn(t,e,s=1/0){return cs(t=>Te(t)&&e(t),jn(t,As,e.shouldTestNextSiblings),true,s)}function Kn(t,e,s){const i=(Array.isArray(t)?t:[t]).filter(Te);if(0===i.length)return i;const n=Bn(e,s);return n===nn.trueFunc?i:i.filter(n)}const tr=/^\s*[+~]/;function er(t){return function(e,...s){return function(i){var n;let r=t(e,this);return i&&(r=yr(r,i,this.options.xmlMode,null===(n=this.v)||void 0===n?void 0:n[0])),this.$(this.length>1&&r.length>1?s.reduce((t,e)=>e(t),r):r)}}}const sr=er((t,e)=>{let s=[];for(let i=0;i<e.length;i++){const n=t(e[i]);n.length>0&&(s=s.concat(n));}return s}),ir=er((t,e)=>{const s=[];for(let i=0;i<e.length;i++){const n=t(e[i]);null!==n&&s.push(n);}return s});function nr(t,...e){let s=null;const i=er((t,e)=>{const i=[];return Ls(e,e=>{for(let n;(n=t(e))&&!(null==s?void 0:s(n,i.length));e=n)i.push(n);}),i})(t,...e);return function(t,e){s="string"==typeof t?e=>Wn(e,t,this.options):t?gr(t):null;const n=i.call(this,e);return s=null,n}}function rr(t){return t.length>1?Array.from(new Set(t)):t}const ar=ir(({parent:t})=>t&&!Ce(t)?t:null,rr),or=sr(t=>{const e=[];for(;t.parent&&!Ce(t.parent);)e.push(t.parent),t=t.parent;return e},ys,t=>t.reverse()),cr=nr(({parent:t})=>t&&!Ce(t)?t:null,ys,t=>t.reverse()),hr=ir(t=>ns(t)),lr=sr(t=>{const e=[];for(;t.next;)Te(t=t.next)&&e.push(t);return e},rr),ur=nr(t=>ns(t),rr),dr=ir(t=>rs(t)),fr=sr(t=>{const e=[];for(;t.prev;)Te(t=t.prev)&&e.push(t);return e},rr),pr=nr(t=>rs(t),rr),mr=sr(t=>is(t).filter(e=>Te(e)&&e!==t),ys),br=sr(t=>es(t).filter(Te),rr);function gr(t){return "function"==typeof t?(e,s)=>t.call(e,s,e):Rs(t)?e=>[].includes.call(t,e):function(e){return t===e}}function yr(t,e,s,i){return "string"==typeof e?Vn(e,t,{xmlMode:s,root:i}):t.filter(gr(e))}const vr=Object.freeze(Object.defineProperty({__proto__:null,tt:function(t,e){var s;const i=this.toArray(),n=tr.test(t)?i:this.children().toArray(),r={context:i,root:null===(s=this.v)||void 0===s?void 0:s[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this.$(function(t,e,s={},i=1/0){if("function"==typeof t)return Jn(e,t);const[n,r]=Hn(Ji(t)),a=r.map(t=>Xn(e,t,s,true,i));return n.length&&a.push(Zn(e,n,s,i)),0===a.length?[]:1===a.length?a[0]:ys(a.reduce((t,e)=>[...t,...e]))}(t,n,r,e))},add:function(t,e){const s=this.$(t,e),i=ys([...this.get(),...s.get()]);return this.$(i)},addBack:function(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this},children:br,closest:function(t){var e;const s=[];if(!t)return this.$(s);const i={xmlMode:this.options.xmlMode,root:null===(e=this.v)||void 0===e?void 0:e[0]},n="string"==typeof t?e=>Wn(e,t,i):gr(t);return Ls(this,t=>{for(!t||Ce(t)||Te(t)||(t=t.parent);t&&Te(t);){if(n(t,0)){s.includes(t)||s.push(t);break}t=t.parent;}}),this.$(s)},contents:function(){const t=this.toArray().reduce((t,e)=>Ne(e)?t.concat(e.children):t,[]);return this.$(t)},each:function(t){let e=0;const s=this.length;for(;s>e&&false!==t.call(this[e],e,this[e]);)++e;return this},end:function(){var t;return null!==(t=this.prevObject)&&void 0!==t?t:this.$([])},eq:function(t){var e;return 0!==(t=+t)||this.length>1?(0>t&&(t=this.length+t),this.$(null!==(e=this[t])&&void 0!==e?e:[])):this},filter:function(t){var e;return this.$(yr(this.toArray(),t,this.options.xmlMode,null===(e=this.v)||void 0===e?void 0:e[0]))},filterArray:yr,find:function(t){if(!t)return this.$([]);if("string"!=typeof t){const e=Rs(t)?t.toArray():[t],s=this.toArray();return this.$(e.filter(t=>s.some(e=>Ns(e,t))))}return this.tt(t,1/0)},first:function(){return this.length>1?this.$(this[0]):this},get:function(t){return null==t?this.toArray():this[0>t?this.length+t:t]},has:function(t){return this.filter("string"==typeof t?`:has(${t})`:(e,s)=>this.$(s).find(t).length>0)},index:function(t){let e,s;return null==t?(e=this.parent().children(),s=this[0]):"string"==typeof t?(e=this.$(t),s=this[0]):(e=this,s=Rs(t)?t[0]:t),[].indexOf.call(e,s)},is:function(t){const e=this.toArray();return "string"==typeof t?Yn(e.filter(Te),t,this.options):!!t&&e.some(gr(t))},last:function(){return this.length>0?this.$(this[this.length-1]):this},map:function(t){let e=[];for(let s=0;s<this.length;s++){const i=this[s],n=t.call(i,s,i);null!=n&&(e=e.concat(n));}return this.$(e)},next:hr,nextAll:lr,nextUntil:ur,not:function(t){let e=this.toArray();if("string"==typeof t){const s=new Set(Vn(t,e,this.options));e=e.filter(t=>!s.has(t));}else {const s=gr(t);e=e.filter((t,e)=>!s(t,e));}return this.$(e)},parent:ar,parents:or,parentsUntil:cr,prev:dr,prevAll:fr,prevUntil:pr,siblings:mr,slice:function(t,e){return this.$([].slice.call(this,t,e))},toArray:function(){return [].slice.call(this)}},Symbol.toStringTag,{value:"Module"}));function kr(t,e){const s=Array.isArray(t)?t:[t];e?e.children=s:e=null;for(let i=0;i<s.length;i++){const t=s[i];t.parent&&t.parent.children!==s&&as(t),e?(t.prev=s[i-1]||null,t.next=s[i+1]||null):t.prev=t.next=null,t.parent=e;}return e}function wr(t){return function(...e){const s=this.length-1;return Ls(this,(i,n)=>{if(!Ne(i))return;const r="function"==typeof e[0]?e[0].call(i,n,this.et(i.children)):e,a=this.st(r,s>n);t(a,i.children,i);})}}function xr(t,e,s,i,n){var r,a;const o=[e,s,...i],c=0===e?null:t[e-1],h=e+s<t.length?t[e+s]:null;for(let l=0;l<i.length;++l){const t=i[l],s=t.parent;if(s){const i=s.children.indexOf(t);-1!==i&&(s.children.splice(i,1),n===s&&e>i&&o[0]--);}t.parent=n,t.prev&&(t.prev.next=null!==(r=t.next)&&void 0!==r?r:null),t.next&&(t.next.prev=null!==(a=t.prev)&&void 0!==a?a:null),t.prev=0===l?c:i[l-1],t.next=l===i.length-1?h:i[l+1];}return c&&(c.next=i[0]),h&&(h.prev=i[i.length-1]),t.splice(...o)}const Mr=wr((t,e,s)=>{xr(e,e.length,0,t,s);}),_r=wr((t,e,s)=>{xr(e,0,0,t,s);});function Tr(t){return function(e){const s=this.length-1,i=this.parents().last();for(let n=0;n<this.length;n++){const r=this[n],a="function"==typeof e?e.call(r,n,r):"string"!=typeof e||js(e)?e:i.find(e).clone(),[o]=this.st(a,s>n);if(!o||!Ne(o))continue;let c=o,h=0;for(;h<c.children.length;){const t=c.children[h];Te(t)?(c=t,h=0):h++;}t(r,c,[o]);}return this}}const Ar=Tr((t,e,s)=>{const{parent:i}=t;if(!i)return;const n=i.children,r=n.indexOf(t);kr([t],e),xr(n,r,0,s,i);}),Sr=Tr((t,e,s)=>{Ne(t)&&(kr(t.children,e),kr(s,t));}),Er=Object.freeze(Object.defineProperty({__proto__:null,st:function(t,e){if(null==t)return [];if("string"==typeof t)return this.it(t,this.options,false,null).children.slice(0);if("length"in t){if(1===t.length)return this.st(t[0],e);const s=[];for(let i=0;i<t.length;i++){const n=t[i];if("object"==typeof n){if(null==n)continue;if(!("length"in n)){s.push(e?Ie(n,true):n);continue}}s.push(...this.st(n,e));}return s}return [e?Ie(t,true):t]},after:function(...t){const e=this.length-1;return Ls(this,(s,i)=>{if(!Ne(s)||!s.parent)return;const n=s.parent.children,r=n.indexOf(s);if(-1===r)return;const a="function"==typeof t[0]?t[0].call(s,i,this.et(s.children)):t;xr(n,r+1,0,this.st(a,e>i),s.parent);})},append:Mr,appendTo:function(t){return (Rs(t)?t:this.$(t)).append(this),this},before:function(...t){const e=this.length-1;return Ls(this,(s,i)=>{if(!Ne(s)||!s.parent)return;const n=s.parent.children,r=n.indexOf(s);if(-1===r)return;const a="function"==typeof t[0]?t[0].call(s,i,this.et(s.children)):t;xr(n,r,0,this.st(a,e>i),s.parent);})},clone:function(){const t=[].map.call(this.get(),t=>Ie(t,true)),e=new Me(t);for(const s of t)s.parent=e;return this.$(t)},empty:function(){return Ls(this,t=>{if(Ne(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0;}})},html:function(t){if(void 0===t){const t=this[0];return t&&Ne(t)?this.et(t.children):null}return Ls(this,e=>{if(Ne(e)){for(const t of e.children)t.next=t.prev=t.parent=null;kr(Rs(t)?t.toArray():this.it(""+t,this.options,false,e).children,e);}})},insertAfter:function(t){"string"==typeof t&&(t=this.$(t)),this.remove();const e=[];for(const s of this.st(t)){const t=this.clone().toArray(),{parent:i}=s;if(!i)continue;const n=i.children,r=n.indexOf(s);-1!==r&&(xr(n,r+1,0,t,i),e.push(...t));}return this.$(e)},insertBefore:function(t){const e=this.$(t);this.remove();const s=[];return Ls(e,t=>{const e=this.clone().toArray(),{parent:i}=t;if(!i)return;const n=i.children,r=n.indexOf(t);-1!==r&&(xr(n,r,0,e,i),s.push(...e));}),this.$(s)},prepend:_r,prependTo:function(t){return (Rs(t)?t:this.$(t)).prepend(this),this},remove:function(t){return Ls(t?this.filter(t):this,t=>{as(t),t.prev=t.next=t.parent=null;}),this},replaceWith:function(t){return Ls(this,(e,s)=>{const{parent:i}=e;if(!i)return;const n=i.children,r="function"==typeof t?t.call(e,s,e):t,a=this.st(r);kr(a,null);const o=n.indexOf(e);xr(n,o,1,a,i),a.includes(e)||(e.parent=e.prev=e.next=null);})},text:function(t){return void 0===t?Cs(this):Ls(this,"function"==typeof t?(e,s)=>this.$(e).text(t.call(e,s,Cs([e]))):e=>{if(Ne(e)){for(const t of e.children)t.next=t.prev=t.parent=null;kr(new ye(""+t),e);}})},toString:function(){return this.et(this)},unwrap:function(t){return this.parent(t).not("body").each((t,e)=>{this.$(e).replaceWith(e.children);}),this},wrap:Ar,wrapAll:function(t){const e=this[0];if(e){const s=this.$("function"==typeof t?t.call(e,0,e):t).insertBefore(e);let i;for(let t=0;t<s.length;t++)s[t].type===fe&&(i=s[t]);let n=0;for(;i&&n<i.children.length;){const t=i.children[n];t.type===fe?(i=t,n=0):n++;}i&&this.$(i).append(this);}return this},wrapInner:Sr},Symbol.toStringTag,{value:"Module"}));function Dr(t,e,s,i){if("string"==typeof e){const r=Cr(t),a="function"==typeof s?s.call(t,i,r[e]):s;""===a?delete r[e]:null!=a&&(r[e]=a),t.attribs.style=Object.keys(n=r).reduce((t,e)=>`${t}${t?" ":""}${e}: ${n[e]};`,"");}else if("object"==typeof e){const s=Object.keys(e);for(let i=0;i<s.length;i++){const n=s[i];Dr(t,n,e[n],i);}}var n;}function Cr(t,e){if(!t||!Te(t))return;const s=function(t){if(!(t=(t||"").trim()))return {};const e={};let s;for(const i of t.split(";")){const t=i.indexOf(":");if(1>t||t===i.length-1){const t=i.trimEnd();t.length>0&&void 0!==s&&(e[s]+=";"+t);}else s=i.slice(0,t).trim(),e[s]=i.slice(t+1).trim();}return e}(t.attribs.style);if("string"==typeof e)return s[e];if(Array.isArray(e)){const t={};for(const i of e)null!=s[i]&&(t[i]=s[i]);return t}return s}const Nr=Object.freeze(Object.defineProperty({__proto__:null,css:function(t,e){return null!=t&&null!=e||"object"==typeof t&&!Array.isArray(t)?Ls(this,(s,i)=>{Te(s)&&Dr(s,t,e,i);}):0!==this.length?Cr(this[0],t):void 0}},Symbol.toStringTag,{value:"Module"})),Ir="input,select,textarea,keygen",Or=/%20/g,Rr=/\r?\n/g,Pr=Object.freeze(Object.defineProperty({__proto__:null,serialize:function(){return this.serializeArray().map(t=>`${encodeURIComponent(t.name)}=${encodeURIComponent(t.value)}`).join("&").replace(Or,"+")},serializeArray:function(){return this.map((t,e)=>{const s=this.$(e);return Te(e)&&"form"===e.name?s.find(Ir).toArray():s.filter(Ir).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var s;const i=this.$(e),n=i.attr("name"),r=null!==(s=i.val())&&void 0!==s?s:"";return Array.isArray(r)?r.map(t=>({name:n,value:t.replace(Rr,"\r\n")})):{name:n,value:r.replace(Rr,"\r\n")}}).toArray()}},Symbol.toStringTag,{value:"Module"}));function Lr(t){var e;return "string"==typeof t?{selector:t,value:"textContent"}:{selector:t.selector,value:null!==(e=t.value)&&void 0!==e?e:"textContent"}}const Br=Object.freeze(Object.defineProperty({__proto__:null,extract:function(t){const e={};for(const s in t){const i=t[s],n=Array.isArray(i),{selector:r,value:a}=Lr(n?i[0]:i),o="function"==typeof a?a:"string"==typeof a?t=>this.$(t).prop(a):t=>this.$(t).extract(a);if(n)e[s]=this.tt(r,1/0).map((t,i)=>o(i,s,e)).get();else {const t=this.tt(r,1);e[s]=t.length>0?o(t[0],s,e):void 0;}}return e}},Symbol.toStringTag,{value:"Module"}));class Fr{constructor(t,e,s){if(this.length=0,this.options=s,this.v=e,t){for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length;}}}Fr.prototype.cheerio="[cheerio object]",Fr.prototype.splice=[].splice,Fr.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(Fr.prototype,Bi,vr,Er,Nr,Pr,Br);const jr=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ur="�";var qr,Hr;(Hr=qr||(qr={}))[Hr.EOF=-1]="EOF",Hr[Hr.NULL=0]="NULL",Hr[Hr.TABULATION=9]="TABULATION",Hr[Hr.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",Hr[Hr.LINE_FEED=10]="LINE_FEED",Hr[Hr.FORM_FEED=12]="FORM_FEED",Hr[Hr.SPACE=32]="SPACE",Hr[Hr.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",Hr[Hr.QUOTATION_MARK=34]="QUOTATION_MARK",Hr[Hr.AMPERSAND=38]="AMPERSAND",Hr[Hr.APOSTROPHE=39]="APOSTROPHE",Hr[Hr.HYPHEN_MINUS=45]="HYPHEN_MINUS",Hr[Hr.SOLIDUS=47]="SOLIDUS",Hr[Hr.DIGIT_0=48]="DIGIT_0",Hr[Hr.DIGIT_9=57]="DIGIT_9",Hr[Hr.SEMICOLON=59]="SEMICOLON",Hr[Hr.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",Hr[Hr.EQUALS_SIGN=61]="EQUALS_SIGN",Hr[Hr.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",Hr[Hr.QUESTION_MARK=63]="QUESTION_MARK",Hr[Hr.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",Hr[Hr.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",Hr[Hr.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",Hr[Hr.GRAVE_ACCENT=96]="GRAVE_ACCENT",Hr[Hr.LATIN_SMALL_A=97]="LATIN_SMALL_A",Hr[Hr.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";const zr="script";function $r(t){return t>=55296&&57343>=t}function Wr(t){return 32!==t&&10!==t&&13!==t&&9!==t&&12!==t&&t>=1&&31>=t||t>=127&&159>=t}function Yr(t){return t>=64976&&65007>=t||jr.has(t)}var Vr,Gr,Qr,Xr,Zr,Jr,Kr,ta,ea,sa,ia,na,ra,aa;(Gr=Vr||(Vr={})).controlCharacterInInputStream="control-character-in-input-stream",Gr.noncharacterInInputStream="noncharacter-in-input-stream",Gr.surrogateInInputStream="surrogate-in-input-stream",Gr.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",Gr.endTagWithAttributes="end-tag-with-attributes",Gr.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",Gr.unexpectedSolidusInTag="unexpected-solidus-in-tag",Gr.unexpectedNullCharacter="unexpected-null-character",Gr.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",Gr.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",Gr.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",Gr.missingEndTagName="missing-end-tag-name",Gr.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",Gr.unknownNamedCharacterReference="unknown-named-character-reference",Gr.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",Gr.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",Gr.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",Gr.eofBeforeTagName="eof-before-tag-name",Gr.eofInTag="eof-in-tag",Gr.missingAttributeValue="missing-attribute-value",Gr.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",Gr.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",Gr.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",Gr.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",Gr.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",Gr.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",Gr.missingDoctypePublicIdentifier="missing-doctype-public-identifier",Gr.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",Gr.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",Gr.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",Gr.cdataInHtmlContent="cdata-in-html-content",Gr.incorrectlyOpenedComment="incorrectly-opened-comment",Gr.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",Gr.eofInDoctype="eof-in-doctype",Gr.nestedComment="nested-comment",Gr.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",Gr.eofInComment="eof-in-comment",Gr.incorrectlyClosedComment="incorrectly-closed-comment",Gr.eofInCdata="eof-in-cdata",Gr.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",Gr.nullCharacterReference="null-character-reference",Gr.surrogateCharacterReference="surrogate-character-reference",Gr.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",Gr.controlCharacterReference="control-character-reference",Gr.noncharacterCharacterReference="noncharacter-character-reference",Gr.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",Gr.missingDoctypeName="missing-doctype-name",Gr.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",Gr.duplicateAttribute="duplicate-attribute",Gr.nonConformingDoctype="non-conforming-doctype",Gr.missingDoctype="missing-doctype",Gr.misplacedDoctype="misplaced-doctype",Gr.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",Gr.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",Gr.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",Gr.openElementsLeftAfterEof="open-elements-left-after-eof",Gr.abandonedHeadElementChild="abandoned-head-element-child",Gr.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",Gr.nestedNoscriptInHead="nested-noscript-in-head",Gr.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";class oa{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=false,this.lastChunkWritten=false,this.endOfChunkHit=false,this.bufferWaterline=65536,this.isEol=false,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1;}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,e){const{line:s,col:i,offset:n}=this,r=i+e,a=n+e;return {code:t,startLine:s,endLine:s,startCol:r,endCol:r,startOffset:a,endOffset:a}}nt(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)));}rt(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos;}ot(t){if(this.pos!==this.html.length-1){const e=this.html.charCodeAt(this.pos+1);if(function(t){return t>=56320&&57343>=t}(e))return this.pos++,this.rt(),1024*(t-55296)+9216+e}else if(!this.lastChunkWritten)return this.endOfChunkHit=true,qr.EOF;return this.nt(Vr.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0);}write(t,e){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=false,this.lastChunkWritten=e;}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=false;}startsWith(t,e){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,false;if(e)return this.html.startsWith(t,this.pos);for(let s=0;s<t.length;s++)if((32|this.html.charCodeAt(this.pos+s))!==t.charCodeAt(s))return  false;return  true}peek(t){const e=this.pos+t;if(e>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,qr.EOF;const s=this.html.charCodeAt(e);return s===qr.CARRIAGE_RETURN?qr.LINE_FEED:s}advance(){if(this.pos++,this.isEol&&(this.isEol=false,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,qr.EOF;let t=this.html.charCodeAt(this.pos);return t===qr.CARRIAGE_RETURN?(this.isEol=true,this.skipNextNewLine=true,qr.LINE_FEED):t===qr.LINE_FEED&&(this.isEol=true,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=false,this.rt(),this.advance()):(this.skipNextNewLine=false,$r(t)&&(t=this.ot(t)),null===this.handler.onParseError||t>31&&127>t||t===qr.LINE_FEED||t===qr.CARRIAGE_RETURN||t>159&&64976>t||this.ct(t),t)}ct(t){Wr(t)?this.nt(Vr.controlCharacterInInputStream):Yr(t)&&this.nt(Vr.noncharacterInInputStream);}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=false;}}function ca(t,e){for(let s=t.attrs.length-1;s>=0;s--)if(t.attrs[s].name===e)return t.attrs[s].value;return null}(Xr=Qr||(Qr={}))[Xr.CHARACTER=0]="CHARACTER",Xr[Xr.NULL_CHARACTER=1]="NULL_CHARACTER",Xr[Xr.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",Xr[Xr.START_TAG=3]="START_TAG",Xr[Xr.END_TAG=4]="END_TAG",Xr[Xr.COMMENT=5]="COMMENT",Xr[Xr.DOCTYPE=6]="DOCTYPE",Xr[Xr.EOF=7]="EOF",Xr[Xr.HIBERNATION=8]="HIBERNATION",(Jr=Zr||(Zr={})).HTML="http://www.w3.org/1999/xhtml",Jr.MATHML="http://www.w3.org/1998/Math/MathML",Jr.SVG="http://www.w3.org/2000/svg",Jr.XLINK="http://www.w3.org/1999/xlink",Jr.XML="http://www.w3.org/XML/1998/namespace",Jr.XMLNS="http://www.w3.org/2000/xmlns/",(ta=Kr||(Kr={})).TYPE="type",ta.ACTION="action",ta.ENCODING="encoding",ta.PROMPT="prompt",ta.NAME="name",ta.COLOR="color",ta.FACE="face",ta.SIZE="size",(sa=ea||(ea={})).NO_QUIRKS="no-quirks",sa.QUIRKS="quirks",sa.LIMITED_QUIRKS="limited-quirks",(na=ia||(ia={})).A="a",na.ADDRESS="address",na.ANNOTATION_XML="annotation-xml",na.APPLET="applet",na.AREA="area",na.ARTICLE="article",na.ASIDE="aside",na.B="b",na.BASE="base",na.BASEFONT="basefont",na.BGSOUND="bgsound",na.BIG="big",na.BLOCKQUOTE="blockquote",na.BODY="body",na.BR="br",na.BUTTON="button",na.CAPTION="caption",na.CENTER="center",na.CODE="code",na.COL="col",na.COLGROUP="colgroup",na.DD="dd",na.DESC="desc",na.DETAILS="details",na.DIALOG="dialog",na.DIR="dir",na.DIV="div",na.DL="dl",na.DT="dt",na.EM="em",na.EMBED="embed",na.FIELDSET="fieldset",na.FIGCAPTION="figcaption",na.FIGURE="figure",na.FONT="font",na.FOOTER="footer",na.FOREIGN_OBJECT="foreignObject",na.FORM="form",na.FRAME="frame",na.FRAMESET="frameset",na.H1="h1",na.H2="h2",na.H3="h3",na.H4="h4",na.H5="h5",na.H6="h6",na.HEAD="head",na.HEADER="header",na.HGROUP="hgroup",na.HR="hr",na.HTML="html",na.I="i",na.IMG="img",na.IMAGE="image",na.INPUT="input",na.IFRAME="iframe",na.KEYGEN="keygen",na.LABEL="label",na.LI="li",na.LINK="link",na.LISTING="listing",na.MAIN="main",na.MALIGNMARK="malignmark",na.MARQUEE="marquee",na.MATH="math",na.MENU="menu",na.META="meta",na.MGLYPH="mglyph",na.MI="mi",na.MO="mo",na.MN="mn",na.MS="ms",na.MTEXT="mtext",na.NAV="nav",na.NOBR="nobr",na.NOFRAMES="noframes",na.NOEMBED="noembed",na.NOSCRIPT="noscript",na.OBJECT="object",na.OL="ol",na.OPTGROUP="optgroup",na.OPTION="option",na.P="p",na.PARAM="param",na.PLAINTEXT="plaintext",na.PRE="pre",na.RB="rb",na.RP="rp",na.RT="rt",na.RTC="rtc",na.RUBY="ruby",na.S="s",na.SCRIPT="script",na.SEARCH="search",na.SECTION="section",na.SELECT="select",na.SOURCE="source",na.SMALL="small",na.SPAN="span",na.STRIKE="strike",na.STRONG="strong",na.STYLE="style",na.SUB="sub",na.SUMMARY="summary",na.SUP="sup",na.TABLE="table",na.TBODY="tbody",na.TEMPLATE="template",na.TEXTAREA="textarea",na.TFOOT="tfoot",na.TD="td",na.TH="th",na.THEAD="thead",na.TITLE="title",na.TR="tr",na.TRACK="track",na.TT="tt",na.U="u",na.UL="ul",na.SVG="svg",na.VAR="var",na.WBR="wbr",na.XMP="xmp",(aa=ra||(ra={}))[aa.UNKNOWN=0]="UNKNOWN",aa[aa.A=1]="A",aa[aa.ADDRESS=2]="ADDRESS",aa[aa.ANNOTATION_XML=3]="ANNOTATION_XML",aa[aa.APPLET=4]="APPLET",aa[aa.AREA=5]="AREA",aa[aa.ARTICLE=6]="ARTICLE",aa[aa.ASIDE=7]="ASIDE",aa[aa.B=8]="B",aa[aa.BASE=9]="BASE",aa[aa.BASEFONT=10]="BASEFONT",aa[aa.BGSOUND=11]="BGSOUND",aa[aa.BIG=12]="BIG",aa[aa.BLOCKQUOTE=13]="BLOCKQUOTE",aa[aa.BODY=14]="BODY",aa[aa.BR=15]="BR",aa[aa.BUTTON=16]="BUTTON",aa[aa.CAPTION=17]="CAPTION",aa[aa.CENTER=18]="CENTER",aa[aa.CODE=19]="CODE",aa[aa.COL=20]="COL",aa[aa.COLGROUP=21]="COLGROUP",aa[aa.DD=22]="DD",aa[aa.DESC=23]="DESC",aa[aa.DETAILS=24]="DETAILS",aa[aa.DIALOG=25]="DIALOG",aa[aa.DIR=26]="DIR",aa[aa.DIV=27]="DIV",aa[aa.DL=28]="DL",aa[aa.DT=29]="DT",aa[aa.EM=30]="EM",aa[aa.EMBED=31]="EMBED",aa[aa.FIELDSET=32]="FIELDSET",aa[aa.FIGCAPTION=33]="FIGCAPTION",aa[aa.FIGURE=34]="FIGURE",aa[aa.FONT=35]="FONT",aa[aa.FOOTER=36]="FOOTER",aa[aa.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",aa[aa.FORM=38]="FORM",aa[aa.FRAME=39]="FRAME",aa[aa.FRAMESET=40]="FRAMESET",aa[aa.H1=41]="H1",aa[aa.H2=42]="H2",aa[aa.H3=43]="H3",aa[aa.H4=44]="H4",aa[aa.H5=45]="H5",aa[aa.H6=46]="H6",aa[aa.HEAD=47]="HEAD",aa[aa.HEADER=48]="HEADER",aa[aa.HGROUP=49]="HGROUP",aa[aa.HR=50]="HR",aa[aa.HTML=51]="HTML",aa[aa.I=52]="I",aa[aa.IMG=53]="IMG",aa[aa.IMAGE=54]="IMAGE",aa[aa.INPUT=55]="INPUT",aa[aa.IFRAME=56]="IFRAME",aa[aa.KEYGEN=57]="KEYGEN",aa[aa.LABEL=58]="LABEL",aa[aa.LI=59]="LI",aa[aa.LINK=60]="LINK",aa[aa.LISTING=61]="LISTING",aa[aa.MAIN=62]="MAIN",aa[aa.MALIGNMARK=63]="MALIGNMARK",aa[aa.MARQUEE=64]="MARQUEE",aa[aa.MATH=65]="MATH",aa[aa.MENU=66]="MENU",aa[aa.META=67]="META",aa[aa.MGLYPH=68]="MGLYPH",aa[aa.MI=69]="MI",aa[aa.MO=70]="MO",aa[aa.MN=71]="MN",aa[aa.MS=72]="MS",aa[aa.MTEXT=73]="MTEXT",aa[aa.NAV=74]="NAV",aa[aa.NOBR=75]="NOBR",aa[aa.NOFRAMES=76]="NOFRAMES",aa[aa.NOEMBED=77]="NOEMBED",aa[aa.NOSCRIPT=78]="NOSCRIPT",aa[aa.OBJECT=79]="OBJECT",aa[aa.OL=80]="OL",aa[aa.OPTGROUP=81]="OPTGROUP",aa[aa.OPTION=82]="OPTION",aa[aa.P=83]="P",aa[aa.PARAM=84]="PARAM",aa[aa.PLAINTEXT=85]="PLAINTEXT",aa[aa.PRE=86]="PRE",aa[aa.RB=87]="RB",aa[aa.RP=88]="RP",aa[aa.RT=89]="RT",aa[aa.RTC=90]="RTC",aa[aa.RUBY=91]="RUBY",aa[aa.S=92]="S",aa[aa.SCRIPT=93]="SCRIPT",aa[aa.SEARCH=94]="SEARCH",aa[aa.SECTION=95]="SECTION",aa[aa.SELECT=96]="SELECT",aa[aa.SOURCE=97]="SOURCE",aa[aa.SMALL=98]="SMALL",aa[aa.SPAN=99]="SPAN",aa[aa.STRIKE=100]="STRIKE",aa[aa.STRONG=101]="STRONG",aa[aa.STYLE=102]="STYLE",aa[aa.SUB=103]="SUB",aa[aa.SUMMARY=104]="SUMMARY",aa[aa.SUP=105]="SUP",aa[aa.TABLE=106]="TABLE",aa[aa.TBODY=107]="TBODY",aa[aa.TEMPLATE=108]="TEMPLATE",aa[aa.TEXTAREA=109]="TEXTAREA",aa[aa.TFOOT=110]="TFOOT",aa[aa.TD=111]="TD",aa[aa.TH=112]="TH",aa[aa.THEAD=113]="THEAD",aa[aa.TITLE=114]="TITLE",aa[aa.TR=115]="TR",aa[aa.TRACK=116]="TRACK",aa[aa.TT=117]="TT",aa[aa.U=118]="U",aa[aa.UL=119]="UL",aa[aa.SVG=120]="SVG",aa[aa.VAR=121]="VAR",aa[aa.WBR=122]="WBR",aa[aa.XMP=123]="XMP";const ha=new Map([[ia.A,ra.A],[ia.ADDRESS,ra.ADDRESS],[ia.ANNOTATION_XML,ra.ANNOTATION_XML],[ia.APPLET,ra.APPLET],[ia.AREA,ra.AREA],[ia.ARTICLE,ra.ARTICLE],[ia.ASIDE,ra.ASIDE],[ia.B,ra.B],[ia.BASE,ra.BASE],[ia.BASEFONT,ra.BASEFONT],[ia.BGSOUND,ra.BGSOUND],[ia.BIG,ra.BIG],[ia.BLOCKQUOTE,ra.BLOCKQUOTE],[ia.BODY,ra.BODY],[ia.BR,ra.BR],[ia.BUTTON,ra.BUTTON],[ia.CAPTION,ra.CAPTION],[ia.CENTER,ra.CENTER],[ia.CODE,ra.CODE],[ia.COL,ra.COL],[ia.COLGROUP,ra.COLGROUP],[ia.DD,ra.DD],[ia.DESC,ra.DESC],[ia.DETAILS,ra.DETAILS],[ia.DIALOG,ra.DIALOG],[ia.DIR,ra.DIR],[ia.DIV,ra.DIV],[ia.DL,ra.DL],[ia.DT,ra.DT],[ia.EM,ra.EM],[ia.EMBED,ra.EMBED],[ia.FIELDSET,ra.FIELDSET],[ia.FIGCAPTION,ra.FIGCAPTION],[ia.FIGURE,ra.FIGURE],[ia.FONT,ra.FONT],[ia.FOOTER,ra.FOOTER],[ia.FOREIGN_OBJECT,ra.FOREIGN_OBJECT],[ia.FORM,ra.FORM],[ia.FRAME,ra.FRAME],[ia.FRAMESET,ra.FRAMESET],[ia.H1,ra.H1],[ia.H2,ra.H2],[ia.H3,ra.H3],[ia.H4,ra.H4],[ia.H5,ra.H5],[ia.H6,ra.H6],[ia.HEAD,ra.HEAD],[ia.HEADER,ra.HEADER],[ia.HGROUP,ra.HGROUP],[ia.HR,ra.HR],[ia.HTML,ra.HTML],[ia.I,ra.I],[ia.IMG,ra.IMG],[ia.IMAGE,ra.IMAGE],[ia.INPUT,ra.INPUT],[ia.IFRAME,ra.IFRAME],[ia.KEYGEN,ra.KEYGEN],[ia.LABEL,ra.LABEL],[ia.LI,ra.LI],[ia.LINK,ra.LINK],[ia.LISTING,ra.LISTING],[ia.MAIN,ra.MAIN],[ia.MALIGNMARK,ra.MALIGNMARK],[ia.MARQUEE,ra.MARQUEE],[ia.MATH,ra.MATH],[ia.MENU,ra.MENU],[ia.META,ra.META],[ia.MGLYPH,ra.MGLYPH],[ia.MI,ra.MI],[ia.MO,ra.MO],[ia.MN,ra.MN],[ia.MS,ra.MS],[ia.MTEXT,ra.MTEXT],[ia.NAV,ra.NAV],[ia.NOBR,ra.NOBR],[ia.NOFRAMES,ra.NOFRAMES],[ia.NOEMBED,ra.NOEMBED],[ia.NOSCRIPT,ra.NOSCRIPT],[ia.OBJECT,ra.OBJECT],[ia.OL,ra.OL],[ia.OPTGROUP,ra.OPTGROUP],[ia.OPTION,ra.OPTION],[ia.P,ra.P],[ia.PARAM,ra.PARAM],[ia.PLAINTEXT,ra.PLAINTEXT],[ia.PRE,ra.PRE],[ia.RB,ra.RB],[ia.RP,ra.RP],[ia.RT,ra.RT],[ia.RTC,ra.RTC],[ia.RUBY,ra.RUBY],[ia.S,ra.S],[ia.SCRIPT,ra.SCRIPT],[ia.SEARCH,ra.SEARCH],[ia.SECTION,ra.SECTION],[ia.SELECT,ra.SELECT],[ia.SOURCE,ra.SOURCE],[ia.SMALL,ra.SMALL],[ia.SPAN,ra.SPAN],[ia.STRIKE,ra.STRIKE],[ia.STRONG,ra.STRONG],[ia.STYLE,ra.STYLE],[ia.SUB,ra.SUB],[ia.SUMMARY,ra.SUMMARY],[ia.SUP,ra.SUP],[ia.TABLE,ra.TABLE],[ia.TBODY,ra.TBODY],[ia.TEMPLATE,ra.TEMPLATE],[ia.TEXTAREA,ra.TEXTAREA],[ia.TFOOT,ra.TFOOT],[ia.TD,ra.TD],[ia.TH,ra.TH],[ia.THEAD,ra.THEAD],[ia.TITLE,ra.TITLE],[ia.TR,ra.TR],[ia.TRACK,ra.TRACK],[ia.TT,ra.TT],[ia.U,ra.U],[ia.UL,ra.UL],[ia.SVG,ra.SVG],[ia.VAR,ra.VAR],[ia.WBR,ra.WBR],[ia.XMP,ra.XMP]]);function la(t){var e;return null!==(e=ha.get(t))&&void 0!==e?e:ra.UNKNOWN}const ua=ra,da={[Zr.HTML]:new Set([ua.ADDRESS,ua.APPLET,ua.AREA,ua.ARTICLE,ua.ASIDE,ua.BASE,ua.BASEFONT,ua.BGSOUND,ua.BLOCKQUOTE,ua.BODY,ua.BR,ua.BUTTON,ua.CAPTION,ua.CENTER,ua.COL,ua.COLGROUP,ua.DD,ua.DETAILS,ua.DIR,ua.DIV,ua.DL,ua.DT,ua.EMBED,ua.FIELDSET,ua.FIGCAPTION,ua.FIGURE,ua.FOOTER,ua.FORM,ua.FRAME,ua.FRAMESET,ua.H1,ua.H2,ua.H3,ua.H4,ua.H5,ua.H6,ua.HEAD,ua.HEADER,ua.HGROUP,ua.HR,ua.HTML,ua.IFRAME,ua.IMG,ua.INPUT,ua.LI,ua.LINK,ua.LISTING,ua.MAIN,ua.MARQUEE,ua.MENU,ua.META,ua.NAV,ua.NOEMBED,ua.NOFRAMES,ua.NOSCRIPT,ua.OBJECT,ua.OL,ua.P,ua.PARAM,ua.PLAINTEXT,ua.PRE,ua.SCRIPT,ua.SECTION,ua.SELECT,ua.SOURCE,ua.STYLE,ua.SUMMARY,ua.TABLE,ua.TBODY,ua.TD,ua.TEMPLATE,ua.TEXTAREA,ua.TFOOT,ua.TH,ua.THEAD,ua.TITLE,ua.TR,ua.TRACK,ua.UL,ua.WBR,ua.XMP]),[Zr.MATHML]:new Set([ua.MI,ua.MO,ua.MN,ua.MS,ua.MTEXT,ua.ANNOTATION_XML]),[Zr.SVG]:new Set([ua.TITLE,ua.FOREIGN_OBJECT,ua.DESC]),[Zr.XLINK]:new Set,[Zr.XML]:new Set,[Zr.XMLNS]:new Set},fa=new Set([ua.H1,ua.H2,ua.H3,ua.H4,ua.H5,ua.H6]),pa=new Set([ia.STYLE,ia.SCRIPT,ia.XMP,ia.IFRAME,ia.NOEMBED,ia.NOFRAMES,ia.PLAINTEXT]);var ma;!function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";}(ma||(ma={}));const ba={DATA:ma.DATA,RCDATA:ma.RCDATA,RAWTEXT:ma.RAWTEXT,SCRIPT_DATA:ma.SCRIPT_DATA,PLAINTEXT:ma.PLAINTEXT,CDATA_SECTION:ma.CDATA_SECTION};function ga(t){return t>=qr.LATIN_CAPITAL_A&&t<=qr.LATIN_CAPITAL_Z}function ya(t){return function(t){return t>=qr.LATIN_SMALL_A&&t<=qr.LATIN_SMALL_Z}(t)||ga(t)}function va(t){return ya(t)||function(t){return t>=qr.DIGIT_0&&t<=qr.DIGIT_9}(t)}function ka(t){return t+32}function wa(t){return t===qr.SPACE||t===qr.LINE_FEED||t===qr.TABULATION||t===qr.FORM_FEED}function xa(t){return wa(t)||t===qr.SOLIDUS||t===qr.GREATER_THAN_SIGN}class Ma{constructor(t,e){this.options=t,this.handler=e,this.paused=false,this.inLoop=false,this.inForeignNode=false,this.lastStartTagName="",this.active=false,this.state=ma.DATA,this.returnState=ma.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new oa(e),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new oi(Us,(t,e)=>{this.preprocessor.pos=this.entityStartPos+e-1,this.ht(t);},e.onParseError?{missingSemicolonAfterCharacterReference:()=>{this.nt(Vr.missingSemicolonAfterCharacterReference,1);},absenceOfDigitsInNumericCharacterReference:t=>{this.nt(Vr.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+t);},validateNumericCharacterReference:t=>{const e=function(t){return t===qr.NULL?Vr.nullCharacterReference:t>1114111?Vr.characterReferenceOutsideUnicodeRange:$r(t)?Vr.surrogateCharacterReference:Yr(t)?Vr.noncharacterCharacterReference:Wr(t)||t===qr.CARRIAGE_RETURN?Vr.controlCharacterReference:null}(t);e&&this.nt(e,1);}}:void 0);}nt(t,e=0){var s,i;null===(i=(s=this.handler).onParseError)||void 0===i||i.call(s,this.preprocessor.getError(t,e));}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}lt(){if(!this.inLoop){for(this.inLoop=true;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this.ut();this.dt()||this.ft(t);}this.inLoop=false;}}pause(){this.paused=true;}resume(t){if(!this.paused)throw Error("Parser was already resumed");this.paused=false,this.inLoop||(this.lt(),this.paused||null==t||t());}write(t,e,s){this.active=true,this.preprocessor.write(t,e),this.lt(),this.paused||null==s||s();}insertHtmlAtCurrentPos(t){this.active=true,this.preprocessor.insertHtmlAtCurrentPos(t),this.lt();}dt(){return !!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=false,true)}ut(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}bt(t){this.consumedAfterSnapshot+=t;for(let e=0;t>e;e++)this.preprocessor.advance();}gt(t,e){return !!this.preprocessor.startsWith(t,e)&&(this.bt(t.length-1),true)}yt(){this.currentToken={type:Qr.START_TAG,tagName:"",tagID:ra.UNKNOWN,selfClosing:false,ackSelfClosing:false,attrs:[],location:this.getCurrentLocation(1)};}vt(){this.currentToken={type:Qr.END_TAG,tagName:"",tagID:ra.UNKNOWN,selfClosing:false,ackSelfClosing:false,attrs:[],location:this.getCurrentLocation(2)};}kt(t){this.currentToken={type:Qr.COMMENT,data:"",location:this.getCurrentLocation(t)};}wt(t){this.currentToken={type:Qr.DOCTYPE,name:t,forceQuirks:false,publicId:null,systemId:null,location:this.currentLocation};}xt(t,e){this.currentCharacterToken={type:t,chars:e,location:this.currentLocation};}Mt(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0);}_t(){var t,e;const s=this.currentToken;null===ca(s,this.currentAttr.name)?(s.attrs.push(this.currentAttr),s.location&&this.currentLocation&&((null!==(t=(e=s.location).attrs)&&void 0!==t?t:e.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this.Tt())):this.nt(Vr.duplicateAttribute);}Tt(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset);}prepareToken(t){this.At(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1);}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=la(t.tagName),t.type===Qr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this.nt(Vr.endTagWithAttributes),t.selfClosing&&this.nt(Vr.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk();}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk();}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk();}At(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qr.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Qr.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Qr.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken);}this.currentCharacterToken=null;}}St(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this.At(t),this.handler.onEof({type:Qr.EOF,location:t}),this.active=false;}Et(t,e){if(this.currentCharacterToken){if(this.currentCharacterToken.type===t)return void(this.currentCharacterToken.chars+=e);this.currentLocation=this.getCurrentLocation(0),this.At(this.currentLocation),this.preprocessor.dropParsedChunk();}this.xt(t,e);}Dt(t){const e=wa(t)?Qr.WHITESPACE_CHARACTER:t===qr.NULL?Qr.NULL_CHARACTER:Qr.CHARACTER;this.Et(e,String.fromCodePoint(t));}Ct(t){this.Et(Qr.CHARACTER,t);}Nt(){this.returnState=this.state,this.state=ma.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this.It()?Zs.Attribute:Zs.Legacy);}It(){return this.returnState===ma.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ma.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ma.ATTRIBUTE_VALUE_UNQUOTED}ht(t){this.It()?this.currentAttr.value+=String.fromCodePoint(t):this.Dt(t);}ft(t){switch(this.state){case ma.DATA:this.Ot(t);break;case ma.RCDATA:this.Rt(t);break;case ma.RAWTEXT:this.Pt(t);break;case ma.SCRIPT_DATA:this.Bt(t);break;case ma.PLAINTEXT:this.Ft(t);break;case ma.TAG_OPEN:this.jt(t);break;case ma.END_TAG_OPEN:this.Ut(t);break;case ma.TAG_NAME:this.qt(t);break;case ma.RCDATA_LESS_THAN_SIGN:this.Ht(t);break;case ma.RCDATA_END_TAG_OPEN:this.zt(t);break;case ma.RCDATA_END_TAG_NAME:this.$t(t);break;case ma.RAWTEXT_LESS_THAN_SIGN:this.Wt(t);break;case ma.RAWTEXT_END_TAG_OPEN:this.Yt(t);break;case ma.RAWTEXT_END_TAG_NAME:this.Vt(t);break;case ma.SCRIPT_DATA_LESS_THAN_SIGN:this.Qt(t);break;case ma.SCRIPT_DATA_END_TAG_OPEN:this.Xt(t);break;case ma.SCRIPT_DATA_END_TAG_NAME:this.Zt(t);break;case ma.SCRIPT_DATA_ESCAPE_START:this.Jt(t);break;case ma.SCRIPT_DATA_ESCAPE_START_DASH:this.Kt(t);break;case ma.SCRIPT_DATA_ESCAPED:this.te(t);break;case ma.SCRIPT_DATA_ESCAPED_DASH:this.ee(t);break;case ma.SCRIPT_DATA_ESCAPED_DASH_DASH:this.se(t);break;case ma.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this.ie(t);break;case ma.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this.ne(t);break;case ma.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this.re(t);break;case ma.SCRIPT_DATA_DOUBLE_ESCAPE_START:this.ae(t);break;case ma.SCRIPT_DATA_DOUBLE_ESCAPED:this.oe(t);break;case ma.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this.ce(t);break;case ma.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this.he(t);break;case ma.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this.le(t);break;case ma.SCRIPT_DATA_DOUBLE_ESCAPE_END:this.ue(t);break;case ma.BEFORE_ATTRIBUTE_NAME:this.de(t);break;case ma.ATTRIBUTE_NAME:this.fe(t);break;case ma.AFTER_ATTRIBUTE_NAME:this.pe(t);break;case ma.BEFORE_ATTRIBUTE_VALUE:this.me(t);break;case ma.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this.be(t);break;case ma.ATTRIBUTE_VALUE_SINGLE_QUOTED:this.ge(t);break;case ma.ATTRIBUTE_VALUE_UNQUOTED:this.ye(t);break;case ma.AFTER_ATTRIBUTE_VALUE_QUOTED:this.ve(t);break;case ma.SELF_CLOSING_START_TAG:this.ke(t);break;case ma.BOGUS_COMMENT:this.we(t);break;case ma.MARKUP_DECLARATION_OPEN:this.xe(t);break;case ma.COMMENT_START:this.Me(t);break;case ma.COMMENT_START_DASH:this._e(t);break;case ma.COMMENT:this.Te(t);break;case ma.COMMENT_LESS_THAN_SIGN:this.Ae(t);break;case ma.COMMENT_LESS_THAN_SIGN_BANG:this.Se(t);break;case ma.COMMENT_LESS_THAN_SIGN_BANG_DASH:this.Ee(t);break;case ma.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this.De(t);break;case ma.COMMENT_END_DASH:this.Ce(t);break;case ma.COMMENT_END:this.Ne(t);break;case ma.COMMENT_END_BANG:this.Ie(t);break;case ma.DOCTYPE:this.Oe(t);break;case ma.BEFORE_DOCTYPE_NAME:this.Re(t);break;case ma.DOCTYPE_NAME:this.Pe(t);break;case ma.AFTER_DOCTYPE_NAME:this.Le(t);break;case ma.AFTER_DOCTYPE_PUBLIC_KEYWORD:this.Be(t);break;case ma.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this.Fe(t);break;case ma.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this.je(t);break;case ma.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this.Ue(t);break;case ma.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this.qe(t);break;case ma.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this.He(t);break;case ma.AFTER_DOCTYPE_SYSTEM_KEYWORD:this.ze(t);break;case ma.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this.$e(t);break;case ma.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this.We(t);break;case ma.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this.Ye(t);break;case ma.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this.Ve(t);break;case ma.BOGUS_DOCTYPE:this.Ge(t);break;case ma.CDATA_SECTION:this.Ze(t);break;case ma.CDATA_SECTION_BRACKET:this.Je(t);break;case ma.CDATA_SECTION_END:this.Ke(t);break;case ma.CHARACTER_REFERENCE:this.ts();break;case ma.AMBIGUOUS_AMPERSAND:this.es(t);break;default:throw Error("Unknown state")}}Ot(t){switch(t){case qr.LESS_THAN_SIGN:this.state=ma.TAG_OPEN;break;case qr.AMPERSAND:this.Nt();break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Dt(t);break;case qr.EOF:this.St();break;default:this.Dt(t);}}Rt(t){switch(t){case qr.AMPERSAND:this.Nt();break;case qr.LESS_THAN_SIGN:this.state=ma.RCDATA_LESS_THAN_SIGN;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Ct(Ur);break;case qr.EOF:this.St();break;default:this.Dt(t);}}Pt(t){switch(t){case qr.LESS_THAN_SIGN:this.state=ma.RAWTEXT_LESS_THAN_SIGN;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Ct(Ur);break;case qr.EOF:this.St();break;default:this.Dt(t);}}Bt(t){switch(t){case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_LESS_THAN_SIGN;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Ct(Ur);break;case qr.EOF:this.St();break;default:this.Dt(t);}}Ft(t){switch(t){case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Ct(Ur);break;case qr.EOF:this.St();break;default:this.Dt(t);}}jt(t){if(ya(t))this.yt(),this.state=ma.TAG_NAME,this.qt(t);else switch(t){case qr.EXCLAMATION_MARK:this.state=ma.MARKUP_DECLARATION_OPEN;break;case qr.SOLIDUS:this.state=ma.END_TAG_OPEN;break;case qr.QUESTION_MARK:this.nt(Vr.unexpectedQuestionMarkInsteadOfTagName),this.kt(1),this.state=ma.BOGUS_COMMENT,this.we(t);break;case qr.EOF:this.nt(Vr.eofBeforeTagName),this.Ct("<"),this.St();break;default:this.nt(Vr.invalidFirstCharacterOfTagName),this.Ct("<"),this.state=ma.DATA,this.Ot(t);}}Ut(t){if(ya(t))this.vt(),this.state=ma.TAG_NAME,this.qt(t);else switch(t){case qr.GREATER_THAN_SIGN:this.nt(Vr.missingEndTagName),this.state=ma.DATA;break;case qr.EOF:this.nt(Vr.eofBeforeTagName),this.Ct("</"),this.St();break;default:this.nt(Vr.invalidFirstCharacterOfTagName),this.kt(2),this.state=ma.BOGUS_COMMENT,this.we(t);}}qt(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.state=ma.BEFORE_ATTRIBUTE_NAME;break;case qr.SOLIDUS:this.state=ma.SELF_CLOSING_START_TAG;break;case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentTagToken();break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.tagName+=Ur;break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:e.tagName+=String.fromCodePoint(ga(t)?ka(t):t);}}Ht(t){t===qr.SOLIDUS?this.state=ma.RCDATA_END_TAG_OPEN:(this.Ct("<"),this.state=ma.RCDATA,this.Rt(t));}zt(t){ya(t)?(this.state=ma.RCDATA_END_TAG_NAME,this.$t(t)):(this.Ct("</"),this.state=ma.RCDATA,this.Rt(t));}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,false))return !this.dt();switch(this.vt(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:return this.bt(this.lastStartTagName.length),this.state=ma.BEFORE_ATTRIBUTE_NAME,false;case qr.SOLIDUS:return this.bt(this.lastStartTagName.length),this.state=ma.SELF_CLOSING_START_TAG,false;case qr.GREATER_THAN_SIGN:return this.bt(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ma.DATA,false;default:return !this.dt()}}$t(t){this.handleSpecialEndTag(t)&&(this.Ct("</"),this.state=ma.RCDATA,this.Rt(t));}Wt(t){t===qr.SOLIDUS?this.state=ma.RAWTEXT_END_TAG_OPEN:(this.Ct("<"),this.state=ma.RAWTEXT,this.Pt(t));}Yt(t){ya(t)?(this.state=ma.RAWTEXT_END_TAG_NAME,this.Vt(t)):(this.Ct("</"),this.state=ma.RAWTEXT,this.Pt(t));}Vt(t){this.handleSpecialEndTag(t)&&(this.Ct("</"),this.state=ma.RAWTEXT,this.Pt(t));}Qt(t){switch(t){case qr.SOLIDUS:this.state=ma.SCRIPT_DATA_END_TAG_OPEN;break;case qr.EXCLAMATION_MARK:this.state=ma.SCRIPT_DATA_ESCAPE_START,this.Ct("<!");break;default:this.Ct("<"),this.state=ma.SCRIPT_DATA,this.Bt(t);}}Xt(t){ya(t)?(this.state=ma.SCRIPT_DATA_END_TAG_NAME,this.Zt(t)):(this.Ct("</"),this.state=ma.SCRIPT_DATA,this.Bt(t));}Zt(t){this.handleSpecialEndTag(t)&&(this.Ct("</"),this.state=ma.SCRIPT_DATA,this.Bt(t));}Jt(t){t===qr.HYPHEN_MINUS?(this.state=ma.SCRIPT_DATA_ESCAPE_START_DASH,this.Ct("-")):(this.state=ma.SCRIPT_DATA,this.Bt(t));}Kt(t){t===qr.HYPHEN_MINUS?(this.state=ma.SCRIPT_DATA_ESCAPED_DASH_DASH,this.Ct("-")):(this.state=ma.SCRIPT_DATA,this.Bt(t));}te(t){switch(t){case qr.HYPHEN_MINUS:this.state=ma.SCRIPT_DATA_ESCAPED_DASH,this.Ct("-");break;case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Ct(Ur);break;case qr.EOF:this.nt(Vr.eofInScriptHtmlCommentLikeText),this.St();break;default:this.Dt(t);}}ee(t){switch(t){case qr.HYPHEN_MINUS:this.state=ma.SCRIPT_DATA_ESCAPED_DASH_DASH,this.Ct("-");break;case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.state=ma.SCRIPT_DATA_ESCAPED,this.Ct(Ur);break;case qr.EOF:this.nt(Vr.eofInScriptHtmlCommentLikeText),this.St();break;default:this.state=ma.SCRIPT_DATA_ESCAPED,this.Dt(t);}}se(t){switch(t){case qr.HYPHEN_MINUS:this.Ct("-");break;case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case qr.GREATER_THAN_SIGN:this.state=ma.SCRIPT_DATA,this.Ct(">");break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.state=ma.SCRIPT_DATA_ESCAPED,this.Ct(Ur);break;case qr.EOF:this.nt(Vr.eofInScriptHtmlCommentLikeText),this.St();break;default:this.state=ma.SCRIPT_DATA_ESCAPED,this.Dt(t);}}ie(t){t===qr.SOLIDUS?this.state=ma.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ya(t)?(this.Ct("<"),this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPE_START,this.ae(t)):(this.Ct("<"),this.state=ma.SCRIPT_DATA_ESCAPED,this.te(t));}ne(t){ya(t)?(this.state=ma.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this.re(t)):(this.Ct("</"),this.state=ma.SCRIPT_DATA_ESCAPED,this.te(t));}re(t){this.handleSpecialEndTag(t)&&(this.Ct("</"),this.state=ma.SCRIPT_DATA_ESCAPED,this.te(t));}ae(t){if(this.preprocessor.startsWith(zr,false)&&xa(this.preprocessor.peek(6))){this.Dt(t);for(let t=0;6>t;t++)this.Dt(this.ut());this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED;}else this.dt()||(this.state=ma.SCRIPT_DATA_ESCAPED,this.te(t));}oe(t){switch(t){case qr.HYPHEN_MINUS:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this.Ct("-");break;case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this.Ct("<");break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.Ct(Ur);break;case qr.EOF:this.nt(Vr.eofInScriptHtmlCommentLikeText),this.St();break;default:this.Dt(t);}}ce(t){switch(t){case qr.HYPHEN_MINUS:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this.Ct("-");break;case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this.Ct("<");break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED,this.Ct(Ur);break;case qr.EOF:this.nt(Vr.eofInScriptHtmlCommentLikeText),this.St();break;default:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED,this.Dt(t);}}he(t){switch(t){case qr.HYPHEN_MINUS:this.Ct("-");break;case qr.LESS_THAN_SIGN:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this.Ct("<");break;case qr.GREATER_THAN_SIGN:this.state=ma.SCRIPT_DATA,this.Ct(">");break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED,this.Ct(Ur);break;case qr.EOF:this.nt(Vr.eofInScriptHtmlCommentLikeText),this.St();break;default:this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED,this.Dt(t);}}le(t){t===qr.SOLIDUS?(this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPE_END,this.Ct("/")):(this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED,this.oe(t));}ue(t){if(this.preprocessor.startsWith(zr,false)&&xa(this.preprocessor.peek(6))){this.Dt(t);for(let t=0;6>t;t++)this.Dt(this.ut());this.state=ma.SCRIPT_DATA_ESCAPED;}else this.dt()||(this.state=ma.SCRIPT_DATA_DOUBLE_ESCAPED,this.oe(t));}de(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.SOLIDUS:case qr.GREATER_THAN_SIGN:case qr.EOF:this.state=ma.AFTER_ATTRIBUTE_NAME,this.pe(t);break;case qr.EQUALS_SIGN:this.nt(Vr.unexpectedEqualsSignBeforeAttributeName),this.Mt("="),this.state=ma.ATTRIBUTE_NAME;break;default:this.Mt(""),this.state=ma.ATTRIBUTE_NAME,this.fe(t);}}fe(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:case qr.SOLIDUS:case qr.GREATER_THAN_SIGN:case qr.EOF:this._t(),this.state=ma.AFTER_ATTRIBUTE_NAME,this.pe(t);break;case qr.EQUALS_SIGN:this._t(),this.state=ma.BEFORE_ATTRIBUTE_VALUE;break;case qr.QUOTATION_MARK:case qr.APOSTROPHE:case qr.LESS_THAN_SIGN:this.nt(Vr.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.currentAttr.name+=Ur;break;default:this.currentAttr.name+=String.fromCodePoint(ga(t)?ka(t):t);}}pe(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.SOLIDUS:this.state=ma.SELF_CLOSING_START_TAG;break;case qr.EQUALS_SIGN:this.state=ma.BEFORE_ATTRIBUTE_VALUE;break;case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentTagToken();break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:this.Mt(""),this.state=ma.ATTRIBUTE_NAME,this.fe(t);}}me(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.QUOTATION_MARK:this.state=ma.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case qr.APOSTROPHE:this.state=ma.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.missingAttributeValue),this.state=ma.DATA,this.emitCurrentTagToken();break;default:this.state=ma.ATTRIBUTE_VALUE_UNQUOTED,this.ye(t);}}be(t){switch(t){case qr.QUOTATION_MARK:this.state=ma.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case qr.AMPERSAND:this.Nt();break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.currentAttr.value+=Ur;break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}ge(t){switch(t){case qr.APOSTROPHE:this.state=ma.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case qr.AMPERSAND:this.Nt();break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.currentAttr.value+=Ur;break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}ye(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.Tt(),this.state=ma.BEFORE_ATTRIBUTE_NAME;break;case qr.AMPERSAND:this.Nt();break;case qr.GREATER_THAN_SIGN:this.Tt(),this.state=ma.DATA,this.emitCurrentTagToken();break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.currentAttr.value+=Ur;break;case qr.QUOTATION_MARK:case qr.APOSTROPHE:case qr.LESS_THAN_SIGN:case qr.EQUALS_SIGN:case qr.GRAVE_ACCENT:this.nt(Vr.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}ve(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.Tt(),this.state=ma.BEFORE_ATTRIBUTE_NAME;break;case qr.SOLIDUS:this.Tt(),this.state=ma.SELF_CLOSING_START_TAG;break;case qr.GREATER_THAN_SIGN:this.Tt(),this.state=ma.DATA,this.emitCurrentTagToken();break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:this.nt(Vr.missingWhitespaceBetweenAttributes),this.state=ma.BEFORE_ATTRIBUTE_NAME,this.de(t);}}ke(t){switch(t){case qr.GREATER_THAN_SIGN:this.currentToken.selfClosing=true,this.state=ma.DATA,this.emitCurrentTagToken();break;case qr.EOF:this.nt(Vr.eofInTag),this.St();break;default:this.nt(Vr.unexpectedSolidusInTag),this.state=ma.BEFORE_ATTRIBUTE_NAME,this.de(t);}}we(t){const e=this.currentToken;switch(t){case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentComment(e);break;case qr.EOF:this.emitCurrentComment(e),this.St();break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.data+=Ur;break;default:e.data+=String.fromCodePoint(t);}}xe(t){this.gt("--",true)?(this.kt(3),this.state=ma.COMMENT_START):this.gt("doctype",false)?(this.currentLocation=this.getCurrentLocation(8),this.state=ma.DOCTYPE):this.gt("[CDATA[",true)?this.inForeignNode?this.state=ma.CDATA_SECTION:(this.nt(Vr.cdataInHtmlContent),this.kt(8),this.currentToken.data="[CDATA[",this.state=ma.BOGUS_COMMENT):this.dt()||(this.nt(Vr.incorrectlyOpenedComment),this.kt(2),this.state=ma.BOGUS_COMMENT,this.we(t));}Me(t){switch(t){case qr.HYPHEN_MINUS:this.state=ma.COMMENT_START_DASH;break;case qr.GREATER_THAN_SIGN:{this.nt(Vr.abruptClosingOfEmptyComment),this.state=ma.DATA;const t=this.currentToken;this.emitCurrentComment(t);break}default:this.state=ma.COMMENT,this.Te(t);}}_e(t){const e=this.currentToken;switch(t){case qr.HYPHEN_MINUS:this.state=ma.COMMENT_END;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.abruptClosingOfEmptyComment),this.state=ma.DATA,this.emitCurrentComment(e);break;case qr.EOF:this.nt(Vr.eofInComment),this.emitCurrentComment(e),this.St();break;default:e.data+="-",this.state=ma.COMMENT,this.Te(t);}}Te(t){const e=this.currentToken;switch(t){case qr.HYPHEN_MINUS:this.state=ma.COMMENT_END_DASH;break;case qr.LESS_THAN_SIGN:e.data+="<",this.state=ma.COMMENT_LESS_THAN_SIGN;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.data+=Ur;break;case qr.EOF:this.nt(Vr.eofInComment),this.emitCurrentComment(e),this.St();break;default:e.data+=String.fromCodePoint(t);}}Ae(t){const e=this.currentToken;switch(t){case qr.EXCLAMATION_MARK:e.data+="!",this.state=ma.COMMENT_LESS_THAN_SIGN_BANG;break;case qr.LESS_THAN_SIGN:e.data+="<";break;default:this.state=ma.COMMENT,this.Te(t);}}Se(t){t===qr.HYPHEN_MINUS?this.state=ma.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ma.COMMENT,this.Te(t));}Ee(t){t===qr.HYPHEN_MINUS?this.state=ma.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ma.COMMENT_END_DASH,this.Ce(t));}De(t){t!==qr.GREATER_THAN_SIGN&&t!==qr.EOF&&this.nt(Vr.nestedComment),this.state=ma.COMMENT_END,this.Ne(t);}Ce(t){const e=this.currentToken;switch(t){case qr.HYPHEN_MINUS:this.state=ma.COMMENT_END;break;case qr.EOF:this.nt(Vr.eofInComment),this.emitCurrentComment(e),this.St();break;default:e.data+="-",this.state=ma.COMMENT,this.Te(t);}}Ne(t){const e=this.currentToken;switch(t){case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentComment(e);break;case qr.EXCLAMATION_MARK:this.state=ma.COMMENT_END_BANG;break;case qr.HYPHEN_MINUS:e.data+="-";break;case qr.EOF:this.nt(Vr.eofInComment),this.emitCurrentComment(e),this.St();break;default:e.data+="--",this.state=ma.COMMENT,this.Te(t);}}Ie(t){const e=this.currentToken;switch(t){case qr.HYPHEN_MINUS:e.data+="--!",this.state=ma.COMMENT_END_DASH;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.incorrectlyClosedComment),this.state=ma.DATA,this.emitCurrentComment(e);break;case qr.EOF:this.nt(Vr.eofInComment),this.emitCurrentComment(e),this.St();break;default:e.data+="--!",this.state=ma.COMMENT,this.Te(t);}}Oe(t){switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.state=ma.BEFORE_DOCTYPE_NAME;break;case qr.GREATER_THAN_SIGN:this.state=ma.BEFORE_DOCTYPE_NAME,this.Re(t);break;case qr.EOF:{this.nt(Vr.eofInDoctype),this.wt(null);const t=this.currentToken;t.forceQuirks=true,this.emitCurrentDoctype(t),this.St();break}default:this.nt(Vr.missingWhitespaceBeforeDoctypeName),this.state=ma.BEFORE_DOCTYPE_NAME,this.Re(t);}}Re(t){if(ga(t))this.wt(String.fromCharCode(ka(t))),this.state=ma.DOCTYPE_NAME;else switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),this.wt(Ur),this.state=ma.DOCTYPE_NAME;break;case qr.GREATER_THAN_SIGN:{this.nt(Vr.missingDoctypeName),this.wt(null);const t=this.currentToken;t.forceQuirks=true,this.emitCurrentDoctype(t),this.state=ma.DATA;break}case qr.EOF:{this.nt(Vr.eofInDoctype),this.wt(null);const t=this.currentToken;t.forceQuirks=true,this.emitCurrentDoctype(t),this.St();break}default:this.wt(String.fromCodePoint(t)),this.state=ma.DOCTYPE_NAME;}}Pe(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.state=ma.AFTER_DOCTYPE_NAME;break;case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.name+=Ur;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:e.name+=String.fromCodePoint(ga(t)?ka(t):t);}}Le(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.gt("public",false)?this.state=ma.AFTER_DOCTYPE_PUBLIC_KEYWORD:this.gt("system",false)?this.state=ma.AFTER_DOCTYPE_SYSTEM_KEYWORD:this.dt()||(this.nt(Vr.invalidCharacterSequenceAfterDoctypeName),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t));}}Be(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.state=ma.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case qr.QUOTATION_MARK:this.nt(Vr.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=ma.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case qr.APOSTROPHE:this.nt(Vr.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=ma.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.missingDoctypePublicIdentifier),e.forceQuirks=true,this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}Fe(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.QUOTATION_MARK:e.publicId="",this.state=ma.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case qr.APOSTROPHE:e.publicId="",this.state=ma.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.missingDoctypePublicIdentifier),e.forceQuirks=true,this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}je(t){const e=this.currentToken;switch(t){case qr.QUOTATION_MARK:this.state=ma.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.publicId+=Ur;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.abruptDoctypePublicIdentifier),e.forceQuirks=true,this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:e.publicId+=String.fromCodePoint(t);}}Ue(t){const e=this.currentToken;switch(t){case qr.APOSTROPHE:this.state=ma.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.publicId+=Ur;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.abruptDoctypePublicIdentifier),e.forceQuirks=true,this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:e.publicId+=String.fromCodePoint(t);}}qe(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.state=ma.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case qr.GREATER_THAN_SIGN:this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.QUOTATION_MARK:this.nt(Vr.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case qr.APOSTROPHE:this.nt(Vr.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}He(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.QUOTATION_MARK:e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case qr.APOSTROPHE:e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}ze(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:this.state=ma.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case qr.QUOTATION_MARK:this.nt(Vr.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case qr.APOSTROPHE:this.nt(Vr.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.missingDoctypeSystemIdentifier),e.forceQuirks=true,this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}$e(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.QUOTATION_MARK:e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case qr.APOSTROPHE:e.systemId="",this.state=ma.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.missingDoctypeSystemIdentifier),e.forceQuirks=true,this.state=ma.DATA,this.emitCurrentDoctype(e);break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=true,this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}We(t){const e=this.currentToken;switch(t){case qr.QUOTATION_MARK:this.state=ma.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.systemId+=Ur;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.abruptDoctypeSystemIdentifier),e.forceQuirks=true,this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:e.systemId+=String.fromCodePoint(t);}}Ye(t){const e=this.currentToken;switch(t){case qr.APOSTROPHE:this.state=ma.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter),e.systemId+=Ur;break;case qr.GREATER_THAN_SIGN:this.nt(Vr.abruptDoctypeSystemIdentifier),e.forceQuirks=true,this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:e.systemId+=String.fromCodePoint(t);}}Ve(t){const e=this.currentToken;switch(t){case qr.SPACE:case qr.LINE_FEED:case qr.TABULATION:case qr.FORM_FEED:break;case qr.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.EOF:this.nt(Vr.eofInDoctype),e.forceQuirks=true,this.emitCurrentDoctype(e),this.St();break;default:this.nt(Vr.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ma.BOGUS_DOCTYPE,this.Ge(t);}}Ge(t){const e=this.currentToken;switch(t){case qr.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=ma.DATA;break;case qr.NULL:this.nt(Vr.unexpectedNullCharacter);break;case qr.EOF:this.emitCurrentDoctype(e),this.St();}}Ze(t){switch(t){case qr.RIGHT_SQUARE_BRACKET:this.state=ma.CDATA_SECTION_BRACKET;break;case qr.EOF:this.nt(Vr.eofInCdata),this.St();break;default:this.Dt(t);}}Je(t){t===qr.RIGHT_SQUARE_BRACKET?this.state=ma.CDATA_SECTION_END:(this.Ct("]"),this.state=ma.CDATA_SECTION,this.Ze(t));}Ke(t){switch(t){case qr.GREATER_THAN_SIGN:this.state=ma.DATA;break;case qr.RIGHT_SQUARE_BRACKET:this.Ct("]");break;default:this.Ct("]]"),this.state=ma.CDATA_SECTION,this.Ze(t);}}ts(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(0>t){if(!this.preprocessor.lastChunkWritten)return this.active=false,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=true);t=this.entityDecoder.end();}0===t?(this.preprocessor.pos=this.entityStartPos,this.ht(qr.AMPERSAND),this.state=!this.It()&&va(this.preprocessor.peek(1))?ma.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState;}es(t){va(t)?this.ht(t):(t===qr.SEMICOLON&&this.nt(Vr.unknownNamedCharacterReference),this.state=this.returnState,this.ft(t));}}const _a=new Set([ra.DD,ra.DT,ra.LI,ra.OPTGROUP,ra.OPTION,ra.P,ra.RB,ra.RP,ra.RT,ra.RTC]),Ta=new Set([..._a,ra.CAPTION,ra.COLGROUP,ra.TBODY,ra.TD,ra.TFOOT,ra.TH,ra.THEAD,ra.TR]),Aa=new Set([ra.APPLET,ra.CAPTION,ra.HTML,ra.MARQUEE,ra.OBJECT,ra.TABLE,ra.TD,ra.TEMPLATE,ra.TH]),Sa=new Set([...Aa,ra.OL,ra.UL]),Ea=new Set([...Aa,ra.BUTTON]),Da=new Set([ra.ANNOTATION_XML,ra.MI,ra.MN,ra.MO,ra.MS,ra.MTEXT]),Ca=new Set([ra.DESC,ra.FOREIGN_OBJECT,ra.TITLE]),Na=new Set([ra.TR,ra.TEMPLATE,ra.HTML]),Ia=new Set([ra.TBODY,ra.TFOOT,ra.THEAD,ra.TEMPLATE,ra.HTML]),Oa=new Set([ra.TABLE,ra.TEMPLATE,ra.HTML]),Ra=new Set([ra.TD,ra.TH]);class Pa{get currentTmplContentOrNode(){return this.ss()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,e,s){this.treeAdapter=e,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ra.UNKNOWN,this.current=t;}ns(t){return this.items.lastIndexOf(t,this.stackTop)}ss(){return this.currentTagId===ra.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Zr.HTML}rs(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop];}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this.ss()&&this.tmplCount++,this.handler.onItemPush(t,e,true);}pop(){const t=this.current;this.tmplCount>0&&this.ss()&&this.tmplCount--,this.stackTop--,this.rs(),this.handler.onItemPop(t,true);}replace(t,e){const s=this.ns(t);this.items[s]=e,s===this.stackTop&&(this.current=e);}insertAfter(t,e,s){const i=this.ns(t)+1;this.items.splice(i,0,e),this.tagIDs.splice(i,0,s),this.stackTop++,i===this.stackTop&&this.rs(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop);}popUntilTagNamePopped(t){let e=this.stackTop+1;do{e=this.tagIDs.lastIndexOf(t,e-1);}while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==Zr.HTML);this.shortenToLength(Math.max(e,0));}shortenToLength(t){for(;this.stackTop>=t;){const e=this.current;this.tmplCount>0&&this.ss()&&(this.tmplCount-=1),this.stackTop--,this.rs(),this.handler.onItemPop(e,this.stackTop<t);}}popUntilElementPopped(t){const e=this.ns(t);this.shortenToLength(Math.max(e,0));}popUntilPopped(t,e){const s=this.cs(t,e);this.shortenToLength(Math.max(s,0));}popUntilNumberedHeaderPopped(){this.popUntilPopped(fa,Zr.HTML);}popUntilTableCellPopped(){this.popUntilPopped(Ra,Zr.HTML);}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1);}cs(t,e){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===e)return s;return  -1}clearBackTo(t,e){const s=this.cs(t,e);this.shortenToLength(s+1);}clearBackToTableContext(){this.clearBackTo(Oa,Zr.HTML);}clearBackToTableBodyContext(){this.clearBackTo(Ia,Zr.HTML);}clearBackToTableRowContext(){this.clearBackTo(Na,Zr.HTML);}remove(t){const e=this.ns(t);0>e||(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this.rs(),this.handler.onItemPop(t,false)));}tryPeekProperlyNestedBodyElement(){return 1>this.stackTop||this.tagIDs[1]!==ra.BODY?null:this.items[1]}contains(t){return this.ns(t)>-1}getCommonAncestor(t){const e=this.ns(t)-1;return 0>e?null:this.items[e]}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ra.HTML}hasInDynamicScope(t,e){for(let s=this.stackTop;s>=0;s--){const i=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case Zr.HTML:if(i===t)return  true;if(e.has(i))return  false;break;case Zr.SVG:if(Ca.has(i))return  false;break;case Zr.MATHML:if(Da.has(i))return  false}}return  true}hasInScope(t){return this.hasInDynamicScope(t,Aa)}hasInListItemScope(t){return this.hasInDynamicScope(t,Sa)}hasInButtonScope(t){return this.hasInDynamicScope(t,Ea)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Zr.HTML:if(fa.has(e))return  true;if(Aa.has(e))return  false;break;case Zr.SVG:if(Ca.has(e))return  false;break;case Zr.MATHML:if(Da.has(e))return  false}}return  true}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Zr.HTML)switch(this.tagIDs[e]){case t:return  true;case ra.TABLE:case ra.HTML:return  false}return  true}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Zr.HTML)switch(this.tagIDs[t]){case ra.TBODY:case ra.THEAD:case ra.TFOOT:return  true;case ra.TABLE:case ra.HTML:return  false}return  true}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Zr.HTML)switch(this.tagIDs[e]){case t:return  true;case ra.OPTION:case ra.OPTGROUP:break;default:return  false}return  true}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&_a.has(this.currentTagId);)this.pop();}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&Ta.has(this.currentTagId);)this.pop();}generateImpliedEndTagsWithExclusion(t){for(;void 0!==this.currentTagId&&this.currentTagId!==t&&Ta.has(this.currentTagId);)this.pop();}}var La,Ba;(Ba=La||(La={}))[Ba.Marker=0]="Marker",Ba[Ba.Element=1]="Element";const Fa={type:La.Marker};class ja{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null;}hs(t,e){const s=[],i=e.length,n=this.treeAdapter.getTagName(t),r=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const t=this.entries[a];if(t.type===La.Marker)break;const{element:e}=t;if(this.treeAdapter.getTagName(e)===n&&this.treeAdapter.getNamespaceURI(e)===r){const t=this.treeAdapter.getAttrList(e);t.length===i&&s.push({idx:a,attrs:t});}}return s}ls(t){if(3>this.entries.length)return;const e=this.treeAdapter.getAttrList(t),s=this.hs(t,e);if(3>s.length)return;const i=new Map(e.map(t=>[t.name,t.value]));let n=0;for(let r=0;r<s.length;r++){const t=s[r];t.attrs.every(t=>i.get(t.name)===t.value)&&(n+=1,3>n||this.entries.splice(t.idx,1));}}insertMarker(){this.entries.unshift(Fa);}pushElement(t,e){this.ls(t),this.entries.unshift({type:La.Element,element:t,token:e});}insertElementAfterBookmark(t,e){const s=this.entries.indexOf(this.bookmark);this.entries.splice(s,0,{type:La.Element,element:t,token:e});}removeEntry(t){const e=this.entries.indexOf(t);-1!==e&&this.entries.splice(e,1);}clearToLastMarker(){const t=this.entries.indexOf(Fa);-1===t?this.entries.length=0:this.entries.splice(0,t+1);}getElementEntryInScopeWithTagName(t){const e=this.entries.find(e=>e.type===La.Marker||this.treeAdapter.getTagName(e.element)===t);return e&&e.type===La.Element?e:null}getElementEntry(t){return this.entries.find(e=>e.type===La.Element&&e.element===t)}}const Ua={createDocument:()=>({nodeName:"#document",mode:ea.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(t,e,s)=>({nodeName:t,tagName:t,attrs:s,namespaceURI:e,childNodes:[],parentNode:null}),createCommentNode:t=>({nodeName:"#comment",data:t,parentNode:null}),createTextNode:t=>({nodeName:"#text",value:t,parentNode:null}),appendChild(t,e){t.childNodes.push(e),e.parentNode=t;},insertBefore(t,e,s){const i=t.childNodes.indexOf(s);t.childNodes.splice(i,0,e),e.parentNode=t;},setTemplateContent(t,e){t.content=e;},getTemplateContent:t=>t.content,setDocumentType(t,e,s,i){const n=t.childNodes.find(t=>"#documentType"===t.nodeName);if(n)n.name=e,n.publicId=s,n.systemId=i;else {const n={nodeName:"#documentType",name:e,publicId:s,systemId:i,parentNode:null};Ua.appendChild(t,n);}},setDocumentMode(t,e){t.mode=e;},getDocumentMode:t=>t.mode,detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null;}},insertText(t,e){if(t.childNodes.length>0){const s=t.childNodes[t.childNodes.length-1];if(Ua.isTextNode(s))return void(s.value+=e)}Ua.appendChild(t,Ua.createTextNode(e));},insertTextBefore(t,e,s){const i=t.childNodes[t.childNodes.indexOf(s)-1];i&&Ua.isTextNode(i)?i.value+=e:Ua.insertBefore(t,Ua.createTextNode(e),s);},adoptAttributes(t,e){const s=new Set(t.attrs.map(t=>t.name));for(let i=0;i<e.length;i++)s.has(e[i].name)||t.attrs.push(e[i]);},getFirstChild:t=>t.childNodes[0],getChildNodes:t=>t.childNodes,getParentNode:t=>t.parentNode,getAttrList:t=>t.attrs,getTagName:t=>t.tagName,getNamespaceURI:t=>t.namespaceURI,getTextNodeContent:t=>t.value,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName:t=>t.name,getDocumentTypeNodePublicId:t=>t.publicId,getDocumentTypeNodeSystemId:t=>t.systemId,isTextNode:t=>"#text"===t.nodeName,isCommentNode:t=>"#comment"===t.nodeName,isDocumentTypeNode:t=>"#documentType"===t.nodeName,isElementNode:t=>({}.hasOwnProperty.call(t,"tagName")),setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e;},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e};}},qa="html",Ha=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],za=[...Ha,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],$a=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Wa=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Ya=[...Wa,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Va(t,e){return e.some(e=>t.startsWith(e))}const Ga=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Qa=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Zr.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Zr.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Zr.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Zr.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Zr.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Zr.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Zr.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Zr.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Zr.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Zr.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Zr.XMLNS}]]),Xa=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),Za=new Set([ra.B,ra.BIG,ra.BLOCKQUOTE,ra.BODY,ra.BR,ra.CENTER,ra.CODE,ra.DD,ra.DIV,ra.DL,ra.DT,ra.EM,ra.EMBED,ra.H1,ra.H2,ra.H3,ra.H4,ra.H5,ra.H6,ra.HEAD,ra.HR,ra.I,ra.IMG,ra.LI,ra.LISTING,ra.MENU,ra.META,ra.NOBR,ra.OL,ra.P,ra.PRE,ra.RUBY,ra.S,ra.SMALL,ra.SPAN,ra.STRONG,ra.STRIKE,ra.SUB,ra.SUP,ra.TABLE,ra.TT,ra.U,ra.UL,ra.VAR]);function Ja(t){for(let e=0;e<t.attrs.length;e++)if("definitionurl"===t.attrs[e].name){t.attrs[e].name="definitionURL";break}}function Ka(t){for(let e=0;e<t.attrs.length;e++){const s=Ga.get(t.attrs[e].name);null!=s&&(t.attrs[e].name=s);}}function to(t){for(let e=0;e<t.attrs.length;e++){const s=Qa.get(t.attrs[e].name);s&&(t.attrs[e].prefix=s.prefix,t.attrs[e].name=s.name,t.attrs[e].namespace=s.namespace);}}var eo,so;(so=eo||(eo={}))[so.INITIAL=0]="INITIAL",so[so.BEFORE_HTML=1]="BEFORE_HTML",so[so.BEFORE_HEAD=2]="BEFORE_HEAD",so[so.IN_HEAD=3]="IN_HEAD",so[so.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",so[so.AFTER_HEAD=5]="AFTER_HEAD",so[so.IN_BODY=6]="IN_BODY",so[so.TEXT=7]="TEXT",so[so.IN_TABLE=8]="IN_TABLE",so[so.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",so[so.IN_CAPTION=10]="IN_CAPTION",so[so.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",so[so.IN_TABLE_BODY=12]="IN_TABLE_BODY",so[so.IN_ROW=13]="IN_ROW",so[so.IN_CELL=14]="IN_CELL",so[so.IN_SELECT=15]="IN_SELECT",so[so.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",so[so.IN_TEMPLATE=17]="IN_TEMPLATE",so[so.AFTER_BODY=18]="AFTER_BODY",so[so.IN_FRAMESET=19]="IN_FRAMESET",so[so.AFTER_FRAMESET=20]="AFTER_FRAMESET",so[so.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",so[so.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";const io={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},no=new Set([ra.TABLE,ra.TBODY,ra.TFOOT,ra.THEAD,ra.TR]),ro={scriptingEnabled:true,sourceCodeLocationInfo:false,treeAdapter:Ua,onParseError:null};class ao{constructor(t,e,s=null,i=null){this.fragmentContext=s,this.scriptHandler=i,this.currentToken=null,this.stopped=false,this.insertionMode=eo.INITIAL,this.originalInsertionMode=eo.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=false,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=false,this.framesetOk=true,this.skipNextNewLine=false,this.fosterParentingEnabled=false,this.options={...ro,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=true),this.document=null!=e?e:this.treeAdapter.createDocument(),this.tokenizer=new Ma(this.options,this),this.activeFormattingElements=new ja(this.treeAdapter),this.fragmentContextID=s?la(this.treeAdapter.getTagName(s)):ra.UNKNOWN,this.us(null!=s?s:this.document,this.fragmentContextID),this.openElements=new Pa(this.document,this.treeAdapter,this);}static parse(t,e){const s=new this(e);return s.tokenizer.write(t,true),s.document}static getFragmentParser(t,e){const s={...ro,...e};null!=t||(t=s.treeAdapter.createElement(ia.TEMPLATE,Zr.HTML,[]));const i=s.treeAdapter.createElement("documentmock",Zr.HTML,[]),n=new this(s,i,t);return n.fragmentContextID===ra.TEMPLATE&&n.tmplInsertionModeStack.unshift(eo.IN_TEMPLATE),n.ds(),n.fs(),n.ps(),n.bs(),n}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),e=this.treeAdapter.createDocumentFragment();return this.gs(t,e),e}nt(t,e,s){var i;if(!this.onParseError)return;const n=null!==(i=t.location)&&void 0!==i?i:io,r={code:e,startLine:n.startLine,startCol:n.startCol,startOffset:n.startOffset,endLine:s?n.startLine:n.endLine,endCol:s?n.startCol:n.endCol,endOffset:s?n.startOffset:n.endOffset};this.onParseError(r);}onItemPush(t,e,s){var i,n;null===(n=(i=this.treeAdapter).onItemPush)||void 0===n||n.call(i,t),s&&this.openElements.stackTop>0&&this.us(t,e);}onItemPop(t,e){var s,i;if(this.options.sourceCodeLocationInfo&&this.ys(t,this.currentToken),null===(i=(s=this.treeAdapter).onItemPop)||void 0===i||i.call(s,t,this.openElements.current),e){let t,e;0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,e=this.fragmentContextID):({current:t,currentTagId:e}=this.openElements),this.us(t,e);}}us(t,e){const s=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Zr.HTML;this.currentNotInHTML=!s,this.tokenizer.inForeignNode=!s&&void 0!==t&&void 0!==e&&!this.vs(e,t);}ks(t,e){this.ws(t,Zr.HTML),this.tokenizer.state=e,this.originalInsertionMode=this.insertionMode,this.insertionMode=eo.TEXT;}switchToPlaintextParsing(){this.insertionMode=eo.TEXT,this.originalInsertionMode=eo.IN_BODY,this.tokenizer.state=ba.PLAINTEXT;}xs(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}bs(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ia.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t);}}ds(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===Zr.HTML)switch(this.fragmentContextID){case ra.TITLE:case ra.TEXTAREA:this.tokenizer.state=ba.RCDATA;break;case ra.STYLE:case ra.XMP:case ra.IFRAME:case ra.NOEMBED:case ra.NOFRAMES:case ra.NOSCRIPT:this.tokenizer.state=ba.RAWTEXT;break;case ra.SCRIPT:this.tokenizer.state=ba.SCRIPT_DATA;break;case ra.PLAINTEXT:this.tokenizer.state=ba.PLAINTEXT;}}Ms(t){const e=t.name||"",s=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,e,s,i),t.location){const e=this.treeAdapter.getChildNodes(this.document).find(t=>this.treeAdapter.isDocumentTypeNode(t));e&&this.treeAdapter.setNodeSourceCodeLocation(e,t.location);}}_s(t,e){if(this.options.sourceCodeLocationInfo){const s=e&&{...e,startTag:e};this.treeAdapter.setNodeSourceCodeLocation(t,s);}if(this.Ts())this.As(t);else {const e=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=e?e:this.document,t);}}Ss(t,e){const s=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._s(s,t.location);}ws(t,e){const s=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._s(s,t.location),this.openElements.push(s,t.tagID);}Es(t,e){const s=this.treeAdapter.createElement(t,Zr.HTML,[]);this._s(s,null),this.openElements.push(s,e);}Ds(t){const e=this.treeAdapter.createElement(t.tagName,Zr.HTML,t.attrs),s=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(e,s),this._s(e,t.location),this.openElements.push(e,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,null);}fs(){const t=this.treeAdapter.createElement(ia.HTML,Zr.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,ra.HTML);}Cs(t,e){const s=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(e,s),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location);}Ns(t){let e,s;if(this.Ts()?(({parent:e,beforeElement:s}=this.Is()),s?this.treeAdapter.insertTextBefore(e,t.chars,s):this.treeAdapter.insertText(e,t.chars)):(e=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(e,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(e),n=s?i.lastIndexOf(s):i.length,r=i[n-1];if(this.treeAdapter.getNodeSourceCodeLocation(r)){const{endLine:e,endCol:s,endOffset:i}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(r,{endLine:e,endCol:s,endOffset:i});}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location);}gs(t,e){for(let s=this.treeAdapter.getFirstChild(t);s;s=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(s),this.treeAdapter.appendChild(e,s);}ys(t,e){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&e.location){const s=e.location,i=this.treeAdapter.getTagName(t),n=e.type===Qr.END_TAG&&i===e.tagName?{endTag:{...s},endLine:s.endLine,endCol:s.endCol,endOffset:s.endOffset}:{endLine:s.startLine,endCol:s.startCol,endOffset:s.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,n);}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return  false;let e,s;return 0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,s=this.fragmentContextID):({current:e,currentTagId:s}=this.openElements),(t.tagID!==ra.SVG||this.treeAdapter.getTagName(e)!==ia.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(e)!==Zr.MATHML)&&(this.tokenizer.inForeignNode||(t.tagID===ra.MGLYPH||t.tagID===ra.MALIGNMARK)&&void 0!==s&&!this.vs(s,e,Zr.HTML))}Os(t){switch(t.type){case Qr.CHARACTER:this.onCharacter(t);break;case Qr.NULL_CHARACTER:this.onNullCharacter(t);break;case Qr.COMMENT:this.onComment(t);break;case Qr.DOCTYPE:this.onDoctype(t);break;case Qr.START_TAG:this.Rs(t);break;case Qr.END_TAG:this.onEndTag(t);break;case Qr.EOF:this.onEof(t);break;case Qr.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(t);}}vs(t,e,s){return function(t,e,s,i){return (!i||i===Zr.HTML)&&function(t,e,s){if(e===Zr.MATHML&&t===ra.ANNOTATION_XML)for(let i=0;i<s.length;i++)if(s[i].name===Kr.ENCODING){const t=s[i].value.toLowerCase();return "text/html"===t||"application/xhtml+xml"===t}return e===Zr.SVG&&(t===ra.FOREIGN_OBJECT||t===ra.DESC||t===ra.TITLE)}(t,e,s)||(!i||i===Zr.MATHML)&&function(t,e){return e===Zr.MATHML&&(t===ra.MI||t===ra.MO||t===ra.MN||t===ra.MS||t===ra.MTEXT)}(t,e)}(t,this.treeAdapter.getNamespaceURI(e),this.treeAdapter.getAttrList(e),s)}Ps(){const t=this.activeFormattingElements.entries.length;if(t){const e=this.activeFormattingElements.entries.findIndex(t=>t.type===La.Marker||this.openElements.contains(t.element));for(let s=-1===e?t-1:e-1;s>=0;s--){const t=this.activeFormattingElements.entries[s];this.ws(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current;}}}Ls(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=eo.IN_ROW;}Bs(){this.openElements.generateImpliedEndTagsWithExclusion(ra.P),this.openElements.popUntilTagNamePopped(ra.P);}ps(){for(let t=this.openElements.stackTop;t>=0;t--)switch(0===t&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case ra.TR:return void(this.insertionMode=eo.IN_ROW);case ra.TBODY:case ra.THEAD:case ra.TFOOT:return void(this.insertionMode=eo.IN_TABLE_BODY);case ra.CAPTION:return void(this.insertionMode=eo.IN_CAPTION);case ra.COLGROUP:return void(this.insertionMode=eo.IN_COLUMN_GROUP);case ra.TABLE:return void(this.insertionMode=eo.IN_TABLE);case ra.BODY:return void(this.insertionMode=eo.IN_BODY);case ra.FRAMESET:return void(this.insertionMode=eo.IN_FRAMESET);case ra.SELECT:return void this.Fs(t);case ra.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case ra.HTML:return void(this.insertionMode=this.headElement?eo.AFTER_HEAD:eo.BEFORE_HEAD);case ra.TD:case ra.TH:if(t>0)return void(this.insertionMode=eo.IN_CELL);break;case ra.HEAD:if(t>0)return void(this.insertionMode=eo.IN_HEAD)}this.insertionMode=eo.IN_BODY;}Fs(t){if(t>0)for(let e=t-1;e>0;e--){const t=this.openElements.tagIDs[e];if(t===ra.TEMPLATE)break;if(t===ra.TABLE)return void(this.insertionMode=eo.IN_SELECT_IN_TABLE)}this.insertionMode=eo.IN_SELECT;}js(t){return no.has(t)}Ts(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this.js(this.openElements.currentTagId)}Is(){for(let t=this.openElements.stackTop;t>=0;t--){const e=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case ra.TEMPLATE:if(this.treeAdapter.getNamespaceURI(e)===Zr.HTML)return {parent:this.treeAdapter.getTemplateContent(e),beforeElement:null};break;case ra.TABLE:{const s=this.treeAdapter.getParentNode(e);return s?{parent:s,beforeElement:e}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return {parent:this.openElements.items[0],beforeElement:null}}As(t){const e=this.Is();e.beforeElement?this.treeAdapter.insertBefore(e.parent,t,e.beforeElement):this.treeAdapter.appendChild(e.parent,t);}Us(t,e){const s=this.treeAdapter.getNamespaceURI(t);return da[s].has(e)}onCharacter(t){if(this.skipNextNewLine=false,this.tokenizer.inForeignNode)!function(t,e){t.Ns(e),t.framesetOk=false;}(this,t);else switch(this.insertionMode){case eo.INITIAL:go(this,t);break;case eo.BEFORE_HTML:yo(this,t);break;case eo.BEFORE_HEAD:vo(this,t);break;case eo.IN_HEAD:xo(this,t);break;case eo.IN_HEAD_NO_SCRIPT:Mo(this,t);break;case eo.AFTER_HEAD:_o(this,t);break;case eo.IN_BODY:case eo.IN_CAPTION:case eo.IN_CELL:case eo.IN_TEMPLATE:So(this,t);break;case eo.TEXT:case eo.IN_SELECT:case eo.IN_SELECT_IN_TABLE:this.Ns(t);break;case eo.IN_TABLE:case eo.IN_TABLE_BODY:case eo.IN_ROW:Lo(this,t);break;case eo.IN_TABLE_TEXT:qo(this,t);break;case eo.IN_COLUMN_GROUP:Wo(this,t);break;case eo.AFTER_BODY:tc(this,t);break;case eo.AFTER_AFTER_BODY:ec(this,t);}}onNullCharacter(t){if(this.skipNextNewLine=false,this.tokenizer.inForeignNode)!function(t,e){e.chars=Ur,t.Ns(e);}(this,t);else switch(this.insertionMode){case eo.INITIAL:go(this,t);break;case eo.BEFORE_HTML:yo(this,t);break;case eo.BEFORE_HEAD:vo(this,t);break;case eo.IN_HEAD:xo(this,t);break;case eo.IN_HEAD_NO_SCRIPT:Mo(this,t);break;case eo.AFTER_HEAD:_o(this,t);break;case eo.TEXT:this.Ns(t);break;case eo.IN_TABLE:case eo.IN_TABLE_BODY:case eo.IN_ROW:Lo(this,t);break;case eo.IN_COLUMN_GROUP:Wo(this,t);break;case eo.AFTER_BODY:tc(this,t);break;case eo.AFTER_AFTER_BODY:ec(this,t);}}onComment(t){if(this.skipNextNewLine=false,this.currentNotInHTML)mo(this,t);else switch(this.insertionMode){case eo.INITIAL:case eo.BEFORE_HTML:case eo.BEFORE_HEAD:case eo.IN_HEAD:case eo.IN_HEAD_NO_SCRIPT:case eo.AFTER_HEAD:case eo.IN_BODY:case eo.IN_TABLE:case eo.IN_CAPTION:case eo.IN_COLUMN_GROUP:case eo.IN_TABLE_BODY:case eo.IN_ROW:case eo.IN_CELL:case eo.IN_SELECT:case eo.IN_SELECT_IN_TABLE:case eo.IN_TEMPLATE:case eo.IN_FRAMESET:case eo.AFTER_FRAMESET:mo(this,t);break;case eo.IN_TABLE_TEXT:Ho(this,t);break;case eo.AFTER_BODY:!function(t,e){t.Cs(e,t.openElements.items[0]);}(this,t);break;case eo.AFTER_AFTER_BODY:case eo.AFTER_AFTER_FRAMESET:!function(t,e){t.Cs(e,t.document);}(this,t);}}onDoctype(t){switch(this.skipNextNewLine=false,this.insertionMode){case eo.INITIAL:!function(t,e){t.Ms(e);const s=e.forceQuirks?ea.QUIRKS:function(t){if(t.name!==qa)return ea.QUIRKS;const{systemId:e}=t;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return ea.QUIRKS;let{publicId:s}=t;if(null!==s){if(s=s.toLowerCase(),$a.has(s))return ea.QUIRKS;let t=null===e?za:Ha;if(Va(s,t))return ea.QUIRKS;if(t=null===e?Wa:Ya,Va(s,t))return ea.LIMITED_QUIRKS}return ea.NO_QUIRKS}(e);((function(t){return t.name===qa&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId)}))(e)||t.nt(e,Vr.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,s),t.insertionMode=eo.BEFORE_HTML;}(this,t);break;case eo.BEFORE_HEAD:case eo.IN_HEAD:case eo.IN_HEAD_NO_SCRIPT:case eo.AFTER_HEAD:this.nt(t,Vr.misplacedDoctype);break;case eo.IN_TABLE_TEXT:Ho(this,t);}}onStartTag(t){this.skipNextNewLine=false,this.currentToken=t,this.Rs(t),t.selfClosing&&!t.ackSelfClosing&&this.nt(t,Vr.nonVoidHtmlElementStartTagWithTrailingSolidus);}Rs(t){this.shouldProcessStartTagTokenInForeignContent(t)?function(t,e){if(function(t){const e=t.tagID;return e===ra.FONT&&t.attrs.some(({name:t})=>t===Kr.COLOR||t===Kr.SIZE||t===Kr.FACE)||Za.has(e)}(e))sc(t),t.qs(e);else {const s=t.xs(),i=t.treeAdapter.getNamespaceURI(s);i===Zr.MATHML?Ja(e):i===Zr.SVG&&(function(t){const e=Xa.get(t.tagName);null!=e&&(t.tagName=e,t.tagID=la(t.tagName));}(e),Ka(e)),to(e),e.selfClosing?t.Ss(e,i):t.ws(e,i),e.ackSelfClosing=true;}}(this,t):this.qs(t);}qs(t){switch(this.insertionMode){case eo.INITIAL:go(this,t);break;case eo.BEFORE_HTML:!function(t,e){e.tagID===ra.HTML?(t.ws(e,Zr.HTML),t.insertionMode=eo.BEFORE_HEAD):yo(t,e);}(this,t);break;case eo.BEFORE_HEAD:!function(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.HEAD:t.ws(e,Zr.HTML),t.headElement=t.openElements.current,t.insertionMode=eo.IN_HEAD;break;default:vo(t,e);}}(this,t);break;case eo.IN_HEAD:ko(this,t);break;case eo.IN_HEAD_NO_SCRIPT:!function(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.BASEFONT:case ra.BGSOUND:case ra.HEAD:case ra.LINK:case ra.META:case ra.NOFRAMES:case ra.STYLE:ko(t,e);break;case ra.NOSCRIPT:t.nt(e,Vr.nestedNoscriptInHead);break;default:Mo(t,e);}}(this,t);break;case eo.AFTER_HEAD:!function(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.BODY:t.ws(e,Zr.HTML),t.framesetOk=false,t.insertionMode=eo.IN_BODY;break;case ra.FRAMESET:t.ws(e,Zr.HTML),t.insertionMode=eo.IN_FRAMESET;break;case ra.BASE:case ra.BASEFONT:case ra.BGSOUND:case ra.LINK:case ra.META:case ra.NOFRAMES:case ra.SCRIPT:case ra.STYLE:case ra.TEMPLATE:case ra.TITLE:t.nt(e,Vr.abandonedHeadElementChild),t.openElements.push(t.headElement,ra.HEAD),ko(t,e),t.openElements.remove(t.headElement);break;case ra.HEAD:t.nt(e,Vr.misplacedStartTagForHeadElement);break;default:_o(t,e);}}(this,t);break;case eo.IN_BODY:Io(this,t);break;case eo.IN_TABLE:Bo(this,t);break;case eo.IN_TABLE_TEXT:Ho(this,t);break;case eo.IN_CAPTION:!function(t,e){const s=e.tagID;zo.has(s)?t.openElements.hasInTableScope(ra.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ra.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=eo.IN_TABLE,Bo(t,e)):Io(t,e);}(this,t);break;case eo.IN_COLUMN_GROUP:$o(this,t);break;case eo.IN_TABLE_BODY:Yo(this,t);break;case eo.IN_ROW:Go(this,t);break;case eo.IN_CELL:!function(t,e){const s=e.tagID;zo.has(s)?(t.openElements.hasInTableScope(ra.TD)||t.openElements.hasInTableScope(ra.TH))&&(t.Ls(),Go(t,e)):Io(t,e);}(this,t);break;case eo.IN_SELECT:Xo(this,t);break;case eo.IN_SELECT_IN_TABLE:!function(t,e){const s=e.tagID;s===ra.CAPTION||s===ra.TABLE||s===ra.TBODY||s===ra.TFOOT||s===ra.THEAD||s===ra.TR||s===ra.TD||s===ra.TH?(t.openElements.popUntilTagNamePopped(ra.SELECT),t.ps(),t.Rs(e)):Xo(t,e);}(this,t);break;case eo.IN_TEMPLATE:!function(t,e){switch(e.tagID){case ra.BASE:case ra.BASEFONT:case ra.BGSOUND:case ra.LINK:case ra.META:case ra.NOFRAMES:case ra.SCRIPT:case ra.STYLE:case ra.TEMPLATE:case ra.TITLE:ko(t,e);break;case ra.CAPTION:case ra.COLGROUP:case ra.TBODY:case ra.TFOOT:case ra.THEAD:t.tmplInsertionModeStack[0]=eo.IN_TABLE,t.insertionMode=eo.IN_TABLE,Bo(t,e);break;case ra.COL:t.tmplInsertionModeStack[0]=eo.IN_COLUMN_GROUP,t.insertionMode=eo.IN_COLUMN_GROUP,$o(t,e);break;case ra.TR:t.tmplInsertionModeStack[0]=eo.IN_TABLE_BODY,t.insertionMode=eo.IN_TABLE_BODY,Yo(t,e);break;case ra.TD:case ra.TH:t.tmplInsertionModeStack[0]=eo.IN_ROW,t.insertionMode=eo.IN_ROW,Go(t,e);break;default:t.tmplInsertionModeStack[0]=eo.IN_BODY,t.insertionMode=eo.IN_BODY,Io(t,e);}}(this,t);break;case eo.AFTER_BODY:!function(t,e){e.tagID===ra.HTML?Io(t,e):tc(t,e);}(this,t);break;case eo.IN_FRAMESET:!function(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.FRAMESET:t.ws(e,Zr.HTML);break;case ra.FRAME:t.Ss(e,Zr.HTML),e.ackSelfClosing=true;break;case ra.NOFRAMES:ko(t,e);}}(this,t);break;case eo.AFTER_FRAMESET:!function(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.NOFRAMES:ko(t,e);}}(this,t);break;case eo.AFTER_AFTER_BODY:!function(t,e){e.tagID===ra.HTML?Io(t,e):ec(t,e);}(this,t);break;case eo.AFTER_AFTER_FRAMESET:!function(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.NOFRAMES:ko(t,e);}}(this,t);}}onEndTag(t){this.skipNextNewLine=false,this.currentToken=t,this.currentNotInHTML?function(t,e){if(e.tagID===ra.P||e.tagID===ra.BR)return sc(t),void t.Hs(e);for(let s=t.openElements.stackTop;s>0;s--){const i=t.openElements.items[s];if(t.treeAdapter.getNamespaceURI(i)===Zr.HTML){t.Hs(e);break}const n=t.treeAdapter.getTagName(i);if(n.toLowerCase()===e.tagName){e.tagName=n,t.openElements.shortenToLength(s);break}}}(this,t):this.Hs(t);}Hs(t){switch(this.insertionMode){case eo.INITIAL:go(this,t);break;case eo.BEFORE_HTML:!function(t,e){const s=e.tagID;s!==ra.HTML&&s!==ra.HEAD&&s!==ra.BODY&&s!==ra.BR||yo(t,e);}(this,t);break;case eo.BEFORE_HEAD:!function(t,e){const s=e.tagID;s===ra.HEAD||s===ra.BODY||s===ra.HTML||s===ra.BR?vo(t,e):t.nt(e,Vr.endTagWithoutMatchingOpenElement);}(this,t);break;case eo.IN_HEAD:!function(t,e){switch(e.tagID){case ra.HEAD:t.openElements.pop(),t.insertionMode=eo.AFTER_HEAD;break;case ra.BODY:case ra.BR:case ra.HTML:xo(t,e);break;case ra.TEMPLATE:wo(t,e);break;default:t.nt(e,Vr.endTagWithoutMatchingOpenElement);}}(this,t);break;case eo.IN_HEAD_NO_SCRIPT:!function(t,e){switch(e.tagID){case ra.NOSCRIPT:t.openElements.pop(),t.insertionMode=eo.IN_HEAD;break;case ra.BR:Mo(t,e);break;default:t.nt(e,Vr.endTagWithoutMatchingOpenElement);}}(this,t);break;case eo.AFTER_HEAD:!function(t,e){switch(e.tagID){case ra.BODY:case ra.HTML:case ra.BR:_o(t,e);break;case ra.TEMPLATE:wo(t,e);break;default:t.nt(e,Vr.endTagWithoutMatchingOpenElement);}}(this,t);break;case eo.IN_BODY:Ro(this,t);break;case eo.TEXT:!function(t,e){var s;e.tagID===ra.SCRIPT&&(null===(s=t.scriptHandler)||void 0===s||s.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode;}(this,t);break;case eo.IN_TABLE:Fo(this,t);break;case eo.IN_TABLE_TEXT:Ho(this,t);break;case eo.IN_CAPTION:!function(t,e){const s=e.tagID;switch(s){case ra.CAPTION:case ra.TABLE:t.openElements.hasInTableScope(ra.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ra.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=eo.IN_TABLE,s===ra.TABLE&&Fo(t,e));break;case ra.BODY:case ra.COL:case ra.COLGROUP:case ra.HTML:case ra.TBODY:case ra.TD:case ra.TFOOT:case ra.TH:case ra.THEAD:case ra.TR:break;default:Ro(t,e);}}(this,t);break;case eo.IN_COLUMN_GROUP:!function(t,e){switch(e.tagID){case ra.COLGROUP:t.openElements.currentTagId===ra.COLGROUP&&(t.openElements.pop(),t.insertionMode=eo.IN_TABLE);break;case ra.TEMPLATE:wo(t,e);break;case ra.COL:break;default:Wo(t,e);}}(this,t);break;case eo.IN_TABLE_BODY:Vo(this,t);break;case eo.IN_ROW:Qo(this,t);break;case eo.IN_CELL:!function(t,e){const s=e.tagID;switch(s){case ra.TD:case ra.TH:t.openElements.hasInTableScope(s)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(s),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=eo.IN_ROW);break;case ra.TABLE:case ra.TBODY:case ra.TFOOT:case ra.THEAD:case ra.TR:t.openElements.hasInTableScope(s)&&(t.Ls(),Qo(t,e));break;case ra.BODY:case ra.CAPTION:case ra.COL:case ra.COLGROUP:case ra.HTML:break;default:Ro(t,e);}}(this,t);break;case eo.IN_SELECT:Zo(this,t);break;case eo.IN_SELECT_IN_TABLE:!function(t,e){const s=e.tagID;s===ra.CAPTION||s===ra.TABLE||s===ra.TBODY||s===ra.TFOOT||s===ra.THEAD||s===ra.TR||s===ra.TD||s===ra.TH?t.openElements.hasInTableScope(s)&&(t.openElements.popUntilTagNamePopped(ra.SELECT),t.ps(),t.onEndTag(e)):Zo(t,e);}(this,t);break;case eo.IN_TEMPLATE:!function(t,e){e.tagID===ra.TEMPLATE&&wo(t,e);}(this,t);break;case eo.AFTER_BODY:Ko(this,t);break;case eo.IN_FRAMESET:!function(t,e){e.tagID!==ra.FRAMESET||t.openElements.isRootHtmlElementCurrent()||(t.openElements.pop(),t.fragmentContext||t.openElements.currentTagId===ra.FRAMESET||(t.insertionMode=eo.AFTER_FRAMESET));}(this,t);break;case eo.AFTER_FRAMESET:!function(t,e){e.tagID===ra.HTML&&(t.insertionMode=eo.AFTER_AFTER_FRAMESET);}(this,t);break;case eo.AFTER_AFTER_BODY:ec(this,t);}}onEof(t){switch(this.insertionMode){case eo.INITIAL:go(this,t);break;case eo.BEFORE_HTML:yo(this,t);break;case eo.BEFORE_HEAD:vo(this,t);break;case eo.IN_HEAD:xo(this,t);break;case eo.IN_HEAD_NO_SCRIPT:Mo(this,t);break;case eo.AFTER_HEAD:_o(this,t);break;case eo.IN_BODY:case eo.IN_TABLE:case eo.IN_CAPTION:case eo.IN_COLUMN_GROUP:case eo.IN_TABLE_BODY:case eo.IN_ROW:case eo.IN_CELL:case eo.IN_SELECT:case eo.IN_SELECT_IN_TABLE:Po(this,t);break;case eo.TEXT:!function(t,e){t.nt(e,Vr.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e);}(this,t);break;case eo.IN_TABLE_TEXT:Ho(this,t);break;case eo.IN_TEMPLATE:Jo(this,t);break;case eo.AFTER_BODY:case eo.IN_FRAMESET:case eo.AFTER_FRAMESET:case eo.AFTER_AFTER_BODY:case eo.AFTER_AFTER_FRAMESET:bo(this,t);}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=false,t.chars.charCodeAt(0)===qr.LINE_FEED)){if(1===t.chars.length)return;t.chars=t.chars.substr(1);}if(this.tokenizer.inForeignNode)this.Ns(t);else switch(this.insertionMode){case eo.IN_HEAD:case eo.IN_HEAD_NO_SCRIPT:case eo.AFTER_HEAD:case eo.TEXT:case eo.IN_COLUMN_GROUP:case eo.IN_SELECT:case eo.IN_SELECT_IN_TABLE:case eo.IN_FRAMESET:case eo.AFTER_FRAMESET:this.Ns(t);break;case eo.IN_BODY:case eo.IN_CAPTION:case eo.IN_CELL:case eo.IN_TEMPLATE:case eo.AFTER_BODY:case eo.AFTER_AFTER_BODY:case eo.AFTER_AFTER_FRAMESET:Ao(this,t);break;case eo.IN_TABLE:case eo.IN_TABLE_BODY:case eo.IN_ROW:Lo(this,t);break;case eo.IN_TABLE_TEXT:Uo(this,t);}}}function oo(t,e){let s=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return s?t.openElements.contains(s.element)?t.openElements.hasInScope(e.tagID)||(s=null):(t.activeFormattingElements.removeEntry(s),s=null):Oo(t,e),s}function co(t,e){let s=null,i=t.openElements.stackTop;for(;i>=0;i--){const n=t.openElements.items[i];if(n===e.element)break;t.Us(n,t.openElements.tagIDs[i])&&(s=n);}return s||(t.openElements.shortenToLength(Math.max(i,0)),t.activeFormattingElements.removeEntry(e)),s}function ho(t,e,s){let i=e,n=t.openElements.getCommonAncestor(e);for(let r=0,a=n;a!==s;r++,a=n){n=t.openElements.getCommonAncestor(a);const s=t.activeFormattingElements.getElementEntry(a),o=s&&r>=3;!s||o?(o&&t.activeFormattingElements.removeEntry(s),t.openElements.remove(a)):(a=lo(t,s),i===e&&(t.activeFormattingElements.bookmark=s),t.treeAdapter.detachNode(i),t.treeAdapter.appendChild(a,i),i=a);}return i}function lo(t,e){const s=t.treeAdapter.getNamespaceURI(e.element),i=t.treeAdapter.createElement(e.token.tagName,s,e.token.attrs);return t.openElements.replace(e.element,i),e.element=i,i}function uo(t,e,s){const i=la(t.treeAdapter.getTagName(e));if(t.js(i))t.As(s);else {const n=t.treeAdapter.getNamespaceURI(e);i===ra.TEMPLATE&&n===Zr.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,s);}}function fo(t,e,s){const i=t.treeAdapter.getNamespaceURI(s.element),{token:n}=s,r=t.treeAdapter.createElement(n.tagName,i,n.attrs);t.gs(e,r),t.treeAdapter.appendChild(e,r),t.activeFormattingElements.insertElementAfterBookmark(r,n),t.activeFormattingElements.removeEntry(s),t.openElements.remove(s.element),t.openElements.insertAfter(e,r,n.tagID);}function po(t,e){for(let s=0;8>s;s++){const s=oo(t,e);if(!s)break;const i=co(t,s);if(!i)break;t.activeFormattingElements.bookmark=s;const n=ho(t,i,s.element),r=t.openElements.getCommonAncestor(s.element);t.treeAdapter.detachNode(n),r&&uo(t,r,n),fo(t,i,s);}}function mo(t,e){t.Cs(e,t.openElements.currentTmplContentOrNode);}function bo(t,e){if(t.stopped=true,e.location){const s=t.fragmentContext?0:2;for(let i=t.openElements.stackTop;i>=s;i--)t.ys(t.openElements.items[i],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const s=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(s);if(i&&!i.endTag&&(t.ys(s,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],i=t.treeAdapter.getNodeSourceCodeLocation(s);i&&!i.endTag&&t.ys(s,e);}}}}function go(t,e){t.nt(e,Vr.missingDoctype,true),t.treeAdapter.setDocumentMode(t.document,ea.QUIRKS),t.insertionMode=eo.BEFORE_HTML,t.Os(e);}function yo(t,e){t.fs(),t.insertionMode=eo.BEFORE_HEAD,t.Os(e);}function vo(t,e){t.Es(ia.HEAD,ra.HEAD),t.headElement=t.openElements.current,t.insertionMode=eo.IN_HEAD,t.Os(e);}function ko(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.BASE:case ra.BASEFONT:case ra.BGSOUND:case ra.LINK:case ra.META:t.Ss(e,Zr.HTML),e.ackSelfClosing=true;break;case ra.TITLE:t.ks(e,ba.RCDATA);break;case ra.NOSCRIPT:t.options.scriptingEnabled?t.ks(e,ba.RAWTEXT):(t.ws(e,Zr.HTML),t.insertionMode=eo.IN_HEAD_NO_SCRIPT);break;case ra.NOFRAMES:case ra.STYLE:t.ks(e,ba.RAWTEXT);break;case ra.SCRIPT:t.ks(e,ba.SCRIPT_DATA);break;case ra.TEMPLATE:t.Ds(e),t.activeFormattingElements.insertMarker(),t.framesetOk=false,t.insertionMode=eo.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(eo.IN_TEMPLATE);break;case ra.HEAD:t.nt(e,Vr.misplacedStartTagForHeadElement);break;default:xo(t,e);}}function wo(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==ra.TEMPLATE&&t.nt(e,Vr.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(ra.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t.ps()):t.nt(e,Vr.endTagWithoutMatchingOpenElement);}function xo(t,e){t.openElements.pop(),t.insertionMode=eo.AFTER_HEAD,t.Os(e);}function Mo(t,e){const s=e.type===Qr.EOF?Vr.openElementsLeftAfterEof:Vr.disallowedContentInNoscriptInHead;t.nt(e,s),t.openElements.pop(),t.insertionMode=eo.IN_HEAD,t.Os(e);}function _o(t,e){t.Es(ia.BODY,ra.BODY),t.insertionMode=eo.IN_BODY,To(t,e);}function To(t,e){switch(e.type){case Qr.CHARACTER:So(t,e);break;case Qr.WHITESPACE_CHARACTER:Ao(t,e);break;case Qr.COMMENT:mo(t,e);break;case Qr.START_TAG:Io(t,e);break;case Qr.END_TAG:Ro(t,e);break;case Qr.EOF:Po(t,e);}}function Ao(t,e){t.Ps(),t.Ns(e);}function So(t,e){t.Ps(),t.Ns(e),t.framesetOk=false;}function Eo(t,e){t.Ps(),t.Ss(e,Zr.HTML),t.framesetOk=false,e.ackSelfClosing=true;}function Do(t){const e=ca(t,Kr.TYPE);return null!=e&&"hidden"===e.toLowerCase()}function Co(t,e){t.ks(e,ba.RAWTEXT);}function No(t,e){t.Ps(),t.ws(e,Zr.HTML);}function Io(t,e){switch(e.tagID){case ra.I:case ra.S:case ra.B:case ra.U:case ra.EM:case ra.TT:case ra.BIG:case ra.CODE:case ra.FONT:case ra.SMALL:case ra.STRIKE:case ra.STRONG:!function(t,e){t.Ps(),t.ws(e,Zr.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e);}(t,e);break;case ra.A:!function(t,e){const s=t.activeFormattingElements.getElementEntryInScopeWithTagName(ia.A);s&&(po(t,e),t.openElements.remove(s.element),t.activeFormattingElements.removeEntry(s)),t.Ps(),t.ws(e,Zr.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e);}(t,e);break;case ra.H1:case ra.H2:case ra.H3:case ra.H4:case ra.H5:case ra.H6:!function(t,e){t.openElements.hasInButtonScope(ra.P)&&t.Bs(),void 0!==t.openElements.currentTagId&&fa.has(t.openElements.currentTagId)&&t.openElements.pop(),t.ws(e,Zr.HTML);}(t,e);break;case ra.P:case ra.DL:case ra.OL:case ra.UL:case ra.DIV:case ra.DIR:case ra.NAV:case ra.MAIN:case ra.MENU:case ra.ASIDE:case ra.CENTER:case ra.FIGURE:case ra.FOOTER:case ra.HEADER:case ra.HGROUP:case ra.DIALOG:case ra.DETAILS:case ra.ADDRESS:case ra.ARTICLE:case ra.SEARCH:case ra.SECTION:case ra.SUMMARY:case ra.FIELDSET:case ra.BLOCKQUOTE:case ra.FIGCAPTION:!function(t,e){t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.ws(e,Zr.HTML);}(t,e);break;case ra.LI:case ra.DD:case ra.DT:!function(t,e){t.framesetOk=false;const s=e.tagID;for(let i=t.openElements.stackTop;i>=0;i--){const e=t.openElements.tagIDs[i];if(s===ra.LI&&e===ra.LI||(s===ra.DD||s===ra.DT)&&(e===ra.DD||e===ra.DT)){t.openElements.generateImpliedEndTagsWithExclusion(e),t.openElements.popUntilTagNamePopped(e);break}if(e!==ra.ADDRESS&&e!==ra.DIV&&e!==ra.P&&t.Us(t.openElements.items[i],e))break}t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.ws(e,Zr.HTML);}(t,e);break;case ra.BR:case ra.IMG:case ra.WBR:case ra.AREA:case ra.EMBED:case ra.KEYGEN:Eo(t,e);break;case ra.HR:!function(t,e){t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.Ss(e,Zr.HTML),t.framesetOk=false,e.ackSelfClosing=true;}(t,e);break;case ra.RB:case ra.RTC:!function(t,e){t.openElements.hasInScope(ra.RUBY)&&t.openElements.generateImpliedEndTags(),t.ws(e,Zr.HTML);}(t,e);break;case ra.RT:case ra.RP:!function(t,e){t.openElements.hasInScope(ra.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(ra.RTC),t.ws(e,Zr.HTML);}(t,e);break;case ra.PRE:case ra.LISTING:!function(t,e){t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.ws(e,Zr.HTML),t.skipNextNewLine=true,t.framesetOk=false;}(t,e);break;case ra.XMP:!function(t,e){t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.Ps(),t.framesetOk=false,t.ks(e,ba.RAWTEXT);}(t,e);break;case ra.SVG:!function(t,e){t.Ps(),Ka(e),to(e),e.selfClosing?t.Ss(e,Zr.SVG):t.ws(e,Zr.SVG),e.ackSelfClosing=true;}(t,e);break;case ra.HTML:!function(t,e){0===t.openElements.tmplCount&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs);}(t,e);break;case ra.BASE:case ra.LINK:case ra.META:case ra.STYLE:case ra.TITLE:case ra.SCRIPT:case ra.BGSOUND:case ra.BASEFONT:case ra.TEMPLATE:ko(t,e);break;case ra.BODY:!function(t,e){const s=t.openElements.tryPeekProperlyNestedBodyElement();s&&0===t.openElements.tmplCount&&(t.framesetOk=false,t.treeAdapter.adoptAttributes(s,e.attrs));}(t,e);break;case ra.FORM:!function(t,e){const s=t.openElements.tmplCount>0;t.formElement&&!s||(t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.ws(e,Zr.HTML),s||(t.formElement=t.openElements.current));}(t,e);break;case ra.NOBR:!function(t,e){t.Ps(),t.openElements.hasInScope(ra.NOBR)&&(po(t,e),t.Ps()),t.ws(e,Zr.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e);}(t,e);break;case ra.MATH:!function(t,e){t.Ps(),Ja(e),to(e),e.selfClosing?t.Ss(e,Zr.MATHML):t.ws(e,Zr.MATHML),e.ackSelfClosing=true;}(t,e);break;case ra.TABLE:!function(t,e){t.treeAdapter.getDocumentMode(t.document)!==ea.QUIRKS&&t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.ws(e,Zr.HTML),t.framesetOk=false,t.insertionMode=eo.IN_TABLE;}(t,e);break;case ra.INPUT:!function(t,e){t.Ps(),t.Ss(e,Zr.HTML),Do(e)||(t.framesetOk=false),e.ackSelfClosing=true;}(t,e);break;case ra.PARAM:case ra.TRACK:case ra.SOURCE:!function(t,e){t.Ss(e,Zr.HTML),e.ackSelfClosing=true;}(t,e);break;case ra.IMAGE:!function(t,e){e.tagName=ia.IMG,e.tagID=ra.IMG,Eo(t,e);}(t,e);break;case ra.BUTTON:!function(t,e){t.openElements.hasInScope(ra.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ra.BUTTON)),t.Ps(),t.ws(e,Zr.HTML),t.framesetOk=false;}(t,e);break;case ra.APPLET:case ra.OBJECT:case ra.MARQUEE:!function(t,e){t.Ps(),t.ws(e,Zr.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=false;}(t,e);break;case ra.IFRAME:!function(t,e){t.framesetOk=false,t.ks(e,ba.RAWTEXT);}(t,e);break;case ra.SELECT:!function(t,e){t.Ps(),t.ws(e,Zr.HTML),t.framesetOk=false,t.insertionMode=t.insertionMode===eo.IN_TABLE||t.insertionMode===eo.IN_CAPTION||t.insertionMode===eo.IN_TABLE_BODY||t.insertionMode===eo.IN_ROW||t.insertionMode===eo.IN_CELL?eo.IN_SELECT_IN_TABLE:eo.IN_SELECT;}(t,e);break;case ra.OPTION:case ra.OPTGROUP:!function(t,e){t.openElements.currentTagId===ra.OPTION&&t.openElements.pop(),t.Ps(),t.ws(e,Zr.HTML);}(t,e);break;case ra.NOEMBED:case ra.NOFRAMES:Co(t,e);break;case ra.FRAMESET:!function(t,e){const s=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&s&&(t.treeAdapter.detachNode(s),t.openElements.popAllUpToHtmlElement(),t.ws(e,Zr.HTML),t.insertionMode=eo.IN_FRAMESET);}(t,e);break;case ra.TEXTAREA:!function(t,e){t.ws(e,Zr.HTML),t.skipNextNewLine=true,t.tokenizer.state=ba.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=false,t.insertionMode=eo.TEXT;}(t,e);break;case ra.NOSCRIPT:t.options.scriptingEnabled?Co(t,e):No(t,e);break;case ra.PLAINTEXT:!function(t,e){t.openElements.hasInButtonScope(ra.P)&&t.Bs(),t.ws(e,Zr.HTML),t.tokenizer.state=ba.PLAINTEXT;}(t,e);break;case ra.COL:case ra.TH:case ra.TD:case ra.TR:case ra.HEAD:case ra.FRAME:case ra.TBODY:case ra.TFOOT:case ra.THEAD:case ra.CAPTION:case ra.COLGROUP:break;default:No(t,e);}}function Oo(t,e){const s=e.tagName,i=e.tagID;for(let n=t.openElements.stackTop;n>0;n--){const e=t.openElements.items[n],r=t.openElements.tagIDs[n];if(i===r&&(i!==ra.UNKNOWN||t.treeAdapter.getTagName(e)===s)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.stackTop<n||t.openElements.shortenToLength(n);break}if(t.Us(e,r))break}}function Ro(t,e){switch(e.tagID){case ra.A:case ra.B:case ra.I:case ra.S:case ra.U:case ra.EM:case ra.TT:case ra.BIG:case ra.CODE:case ra.FONT:case ra.NOBR:case ra.SMALL:case ra.STRIKE:case ra.STRONG:po(t,e);break;case ra.P:!function(t){t.openElements.hasInButtonScope(ra.P)||t.Es(ia.P,ra.P),t.Bs();}(t);break;case ra.DL:case ra.UL:case ra.OL:case ra.DIR:case ra.DIV:case ra.NAV:case ra.PRE:case ra.MAIN:case ra.MENU:case ra.ASIDE:case ra.BUTTON:case ra.CENTER:case ra.FIGURE:case ra.FOOTER:case ra.HEADER:case ra.HGROUP:case ra.DIALOG:case ra.ADDRESS:case ra.ARTICLE:case ra.DETAILS:case ra.SEARCH:case ra.SECTION:case ra.SUMMARY:case ra.LISTING:case ra.FIELDSET:case ra.BLOCKQUOTE:case ra.FIGCAPTION:!function(t,e){const s=e.tagID;t.openElements.hasInScope(s)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(s));}(t,e);break;case ra.LI:!function(t){t.openElements.hasInListItemScope(ra.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(ra.LI),t.openElements.popUntilTagNamePopped(ra.LI));}(t);break;case ra.DD:case ra.DT:!function(t,e){const s=e.tagID;t.openElements.hasInScope(s)&&(t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s));}(t,e);break;case ra.H1:case ra.H2:case ra.H3:case ra.H4:case ra.H5:case ra.H6:!function(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped());}(t);break;case ra.BR:!function(t){t.Ps(),t.Es(ia.BR,ra.BR),t.openElements.pop(),t.framesetOk=false;}(t);break;case ra.BODY:!function(t,e){if(t.openElements.hasInScope(ra.BODY)&&(t.insertionMode=eo.AFTER_BODY,t.options.sourceCodeLocationInfo)){const s=t.openElements.tryPeekProperlyNestedBodyElement();s&&t.ys(s,e);}}(t,e);break;case ra.HTML:!function(t,e){t.openElements.hasInScope(ra.BODY)&&(t.insertionMode=eo.AFTER_BODY,Ko(t,e));}(t,e);break;case ra.FORM:!function(t){const e=t.openElements.tmplCount>0,{formElement:s}=t;e||(t.formElement=null),(s||e)&&t.openElements.hasInScope(ra.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(ra.FORM):s&&t.openElements.remove(s));}(t);break;case ra.APPLET:case ra.OBJECT:case ra.MARQUEE:!function(t,e){const s=e.tagID;t.openElements.hasInScope(s)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(s),t.activeFormattingElements.clearToLastMarker());}(t,e);break;case ra.TEMPLATE:wo(t,e);break;default:Oo(t,e);}}function Po(t,e){t.tmplInsertionModeStack.length>0?Jo(t,e):bo(t,e);}function Lo(t,e){if(void 0!==t.openElements.currentTagId&&no.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=false,t.originalInsertionMode=t.insertionMode,t.insertionMode=eo.IN_TABLE_TEXT,e.type){case Qr.CHARACTER:qo(t,e);break;case Qr.WHITESPACE_CHARACTER:Uo(t,e);}else jo(t,e);}function Bo(t,e){switch(e.tagID){case ra.TD:case ra.TH:case ra.TR:!function(t,e){t.openElements.clearBackToTableContext(),t.Es(ia.TBODY,ra.TBODY),t.insertionMode=eo.IN_TABLE_BODY,Yo(t,e);}(t,e);break;case ra.STYLE:case ra.SCRIPT:case ra.TEMPLATE:ko(t,e);break;case ra.COL:!function(t,e){t.openElements.clearBackToTableContext(),t.Es(ia.COLGROUP,ra.COLGROUP),t.insertionMode=eo.IN_COLUMN_GROUP,$o(t,e);}(t,e);break;case ra.FORM:!function(t,e){t.formElement||0!==t.openElements.tmplCount||(t.ws(e,Zr.HTML),t.formElement=t.openElements.current,t.openElements.pop());}(t,e);break;case ra.TABLE:!function(t,e){t.openElements.hasInTableScope(ra.TABLE)&&(t.openElements.popUntilTagNamePopped(ra.TABLE),t.ps(),t.Rs(e));}(t,e);break;case ra.TBODY:case ra.TFOOT:case ra.THEAD:!function(t,e){t.openElements.clearBackToTableContext(),t.ws(e,Zr.HTML),t.insertionMode=eo.IN_TABLE_BODY;}(t,e);break;case ra.INPUT:!function(t,e){Do(e)?t.Ss(e,Zr.HTML):jo(t,e),e.ackSelfClosing=true;}(t,e);break;case ra.CAPTION:!function(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t.ws(e,Zr.HTML),t.insertionMode=eo.IN_CAPTION;}(t,e);break;case ra.COLGROUP:!function(t,e){t.openElements.clearBackToTableContext(),t.ws(e,Zr.HTML),t.insertionMode=eo.IN_COLUMN_GROUP;}(t,e);break;default:jo(t,e);}}function Fo(t,e){switch(e.tagID){case ra.TABLE:t.openElements.hasInTableScope(ra.TABLE)&&(t.openElements.popUntilTagNamePopped(ra.TABLE),t.ps());break;case ra.TEMPLATE:wo(t,e);break;case ra.BODY:case ra.CAPTION:case ra.COL:case ra.COLGROUP:case ra.HTML:case ra.TBODY:case ra.TD:case ra.TFOOT:case ra.TH:case ra.THEAD:case ra.TR:break;default:jo(t,e);}}function jo(t,e){const s=t.fosterParentingEnabled;t.fosterParentingEnabled=true,To(t,e),t.fosterParentingEnabled=s;}function Uo(t,e){t.pendingCharacterTokens.push(e);}function qo(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=true;}function Ho(t,e){let s=0;if(t.hasNonWhitespacePendingCharacterToken)for(;s<t.pendingCharacterTokens.length;s++)jo(t,t.pendingCharacterTokens[s]);else for(;s<t.pendingCharacterTokens.length;s++)t.Ns(t.pendingCharacterTokens[s]);t.insertionMode=t.originalInsertionMode,t.Os(e);}const zo=new Set([ra.CAPTION,ra.COL,ra.COLGROUP,ra.TBODY,ra.TD,ra.TFOOT,ra.TH,ra.THEAD,ra.TR]);function $o(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.COL:t.Ss(e,Zr.HTML),e.ackSelfClosing=true;break;case ra.TEMPLATE:ko(t,e);break;default:Wo(t,e);}}function Wo(t,e){t.openElements.currentTagId===ra.COLGROUP&&(t.openElements.pop(),t.insertionMode=eo.IN_TABLE,t.Os(e));}function Yo(t,e){switch(e.tagID){case ra.TR:t.openElements.clearBackToTableBodyContext(),t.ws(e,Zr.HTML),t.insertionMode=eo.IN_ROW;break;case ra.TH:case ra.TD:t.openElements.clearBackToTableBodyContext(),t.Es(ia.TR,ra.TR),t.insertionMode=eo.IN_ROW,Go(t,e);break;case ra.CAPTION:case ra.COL:case ra.COLGROUP:case ra.TBODY:case ra.TFOOT:case ra.THEAD:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE,Bo(t,e));break;default:Bo(t,e);}}function Vo(t,e){const s=e.tagID;switch(e.tagID){case ra.TBODY:case ra.TFOOT:case ra.THEAD:t.openElements.hasInTableScope(s)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE);break;case ra.TABLE:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE,Fo(t,e));break;case ra.BODY:case ra.CAPTION:case ra.COL:case ra.COLGROUP:case ra.HTML:case ra.TD:case ra.TH:case ra.TR:break;default:Fo(t,e);}}function Go(t,e){switch(e.tagID){case ra.TH:case ra.TD:t.openElements.clearBackToTableRowContext(),t.ws(e,Zr.HTML),t.insertionMode=eo.IN_CELL,t.activeFormattingElements.insertMarker();break;case ra.CAPTION:case ra.COL:case ra.COLGROUP:case ra.TBODY:case ra.TFOOT:case ra.THEAD:case ra.TR:t.openElements.hasInTableScope(ra.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE_BODY,Yo(t,e));break;default:Bo(t,e);}}function Qo(t,e){switch(e.tagID){case ra.TR:t.openElements.hasInTableScope(ra.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE_BODY);break;case ra.TABLE:t.openElements.hasInTableScope(ra.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE_BODY,Vo(t,e));break;case ra.TBODY:case ra.TFOOT:case ra.THEAD:(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(ra.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=eo.IN_TABLE_BODY,Vo(t,e));break;case ra.BODY:case ra.CAPTION:case ra.COL:case ra.COLGROUP:case ra.HTML:case ra.TD:case ra.TH:break;default:Fo(t,e);}}function Xo(t,e){switch(e.tagID){case ra.HTML:Io(t,e);break;case ra.OPTION:t.openElements.currentTagId===ra.OPTION&&t.openElements.pop(),t.ws(e,Zr.HTML);break;case ra.OPTGROUP:t.openElements.currentTagId===ra.OPTION&&t.openElements.pop(),t.openElements.currentTagId===ra.OPTGROUP&&t.openElements.pop(),t.ws(e,Zr.HTML);break;case ra.HR:t.openElements.currentTagId===ra.OPTION&&t.openElements.pop(),t.openElements.currentTagId===ra.OPTGROUP&&t.openElements.pop(),t.Ss(e,Zr.HTML),e.ackSelfClosing=true;break;case ra.INPUT:case ra.KEYGEN:case ra.TEXTAREA:case ra.SELECT:t.openElements.hasInSelectScope(ra.SELECT)&&(t.openElements.popUntilTagNamePopped(ra.SELECT),t.ps(),e.tagID!==ra.SELECT&&t.Rs(e));break;case ra.SCRIPT:case ra.TEMPLATE:ko(t,e);}}function Zo(t,e){switch(e.tagID){case ra.OPTGROUP:t.openElements.stackTop>0&&t.openElements.currentTagId===ra.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===ra.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===ra.OPTGROUP&&t.openElements.pop();break;case ra.OPTION:t.openElements.currentTagId===ra.OPTION&&t.openElements.pop();break;case ra.SELECT:t.openElements.hasInSelectScope(ra.SELECT)&&(t.openElements.popUntilTagNamePopped(ra.SELECT),t.ps());break;case ra.TEMPLATE:wo(t,e);}}function Jo(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(ra.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t.ps(),t.onEof(e)):bo(t,e);}function Ko(t,e){var s;if(e.tagID===ra.HTML){if(t.fragmentContext||(t.insertionMode=eo.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===ra.HTML){t.ys(t.openElements.items[0],e);const i=t.openElements.items[1];i&&!(null===(s=t.treeAdapter.getNodeSourceCodeLocation(i))||void 0===s?void 0:s.endTag)&&t.ys(i,e);}}else tc(t,e);}function tc(t,e){t.insertionMode=eo.IN_BODY,To(t,e);}function ec(t,e){t.insertionMode=eo.IN_BODY,To(t,e);}function sc(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Zr.HTML&&void 0!==t.openElements.currentTagId&&!t.vs(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop();}function ic(t,e){return function(s){let i,n=0,r="";for(;i=t.exec(s);)n!==i.index&&(r+=s.substring(n,i.index)),r+=e.get(i[0].charCodeAt(0)),n=i.index+1;return r+s.substring(n)}}const nc=ic(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),rc=ic(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),ac=new Set([ia.AREA,ia.BASE,ia.BASEFONT,ia.BGSOUND,ia.BR,ia.COL,ia.EMBED,ia.FRAME,ia.HR,ia.IMG,ia.INPUT,ia.KEYGEN,ia.LINK,ia.META,ia.PARAM,ia.SOURCE,ia.TRACK,ia.WBR]),oc={treeAdapter:Ua,scriptingEnabled:true};function cc(t,e){return hc(t,{...oc,...e})}function hc(t,e){return e.treeAdapter.isElementNode(t)?function(t,e){const s=e.treeAdapter.getTagName(t);return `<${s}${function(t,{treeAdapter:e}){let s="";for(const i of e.getAttrList(t)){if(s+=" ",i.namespace)switch(i.namespace){case Zr.XML:s+="xml:"+i.name;break;case Zr.XMLNS:"xmlns"!==i.name&&(s+="xmlns:"),s+=i.name;break;case Zr.XLINK:s+="xlink:"+i.name;break;default:s+=`${i.prefix}:${i.name}`;}else s+=i.name;s+=`="${nc(i.value)}"`;}return s}(t,e)}>${function(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Zr.HTML&&ac.has(e.treeAdapter.getTagName(t))}(t,e)?"":`${function(t,e){let s="";const i=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===ia.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Zr.HTML?e.treeAdapter.getTemplateContent(t):t,n=e.treeAdapter.getChildNodes(i);if(n)for(const r of n)s+=hc(r,e);return s}(t,e)}</${s}>`}`}(t,e):e.treeAdapter.isTextNode(t)?function(t,e){const{treeAdapter:s}=e,i=s.getTextNodeContent(t),n=s.getParentNode(t),r=n&&s.isElementNode(n)&&s.getTagName(n);return r&&s.getNamespaceURI(n)===Zr.HTML&&(a=r,o=e.scriptingEnabled,pa.has(a)||o&&a===ia.NOSCRIPT)?i:rc(i);var a,o;}(t,e):e.treeAdapter.isCommentNode(t)?function(t,{treeAdapter:e}){return `\x3c!--${e.getCommentNodeContent(t)}--\x3e`}(t,e):e.treeAdapter.isDocumentTypeNode(t)?function(t,{treeAdapter:e}){return `<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}(t,e):""}function lc(t){const e=t.includes('"')?"'":'"';return e+t+e}const uc={isCommentNode:Ee,isElementNode:Te,isTextNode:Se,createDocument(){const t=new Me([]);return t["x-mode"]=ea.NO_QUIRKS,t},createDocumentFragment:()=>new Me([]),createElement(t,e,s){const i=Object.create(null),n=Object.create(null),r=Object.create(null);for(let o=0;o<s.length;o++){const t=s[o].name;i[t]=s[o].value,n[t]=s[o].namespace,r[t]=s[o].prefix;}const a=new _e(t,i,[]);return a.namespace=e,a["x-attribsNamespace"]=n,a["x-attribsPrefix"]=r,a},createCommentNode:t=>new ve(t),createTextNode:t=>new ye(t),appendChild(t,e){const s=t.children[t.children.length-1];s&&(s.next=e,e.prev=s),t.children.push(e),e.parent=t;},insertBefore(t,e,s){const i=t.children.indexOf(s),{prev:n}=s;n&&(n.next=e,e.prev=n),s.prev=e,e.next=s,t.children.splice(i,0,e),e.parent=t;},setTemplateContent(t,e){uc.appendChild(t,e);},getTemplateContent:t=>t.children[0],setDocumentType(t,e,s,i){const n=function(t,e,s){let i="!DOCTYPE ";return t&&(i+=t),e?i+=" PUBLIC "+lc(e):s&&(i+=" SYSTEM"),s&&(i+=" "+lc(s)),i}(e,s,i);let r=t.children.find(t=>De(t)&&"!doctype"===t.name);r?r.data=null!=n?n:null:(r=new ke("!doctype",n),uc.appendChild(t,r)),r["x-name"]=e,r["x-publicId"]=s,r["x-systemId"]=i;},setDocumentMode(t,e){t["x-mode"]=e;},getDocumentMode:t=>t["x-mode"],detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:s,next:i}=t;t.prev=null,t.next=null,s&&(s.next=i),i&&(i.prev=s),t.parent.children.splice(e,1),t.parent=null;}},insertText(t,e){const s=t.children[t.children.length-1];s&&Se(s)?s.data+=e:uc.appendChild(t,uc.createTextNode(e));},insertTextBefore(t,e,s){const i=t.children[t.children.indexOf(s)-1];i&&Se(i)?i.data+=e:uc.insertBefore(t,uc.createTextNode(e),s);},adoptAttributes(t,e){for(let s=0;s<e.length;s++){const i=e[s].name;void 0===t.attribs[i]&&(t.attribs[i]=e[s].value,t["x-attribsNamespace"][i]=e[s].namespace,t["x-attribsPrefix"][i]=e[s].prefix);}},getFirstChild:t=>t.children[0],getChildNodes:t=>t.children,getParentNode:t=>t.parent,getAttrList:t=>t.attributes,getTagName:t=>t.name,getNamespaceURI:t=>t.namespace,getTextNodeContent:t=>t.data,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName(t){var e;return null!==(e=t["x-name"])&&void 0!==e?e:""},getDocumentTypeNodePublicId(t){var e;return null!==(e=t["x-publicId"])&&void 0!==e?e:""},getDocumentTypeNodeSystemId(t){var e;return null!==(e=t["x-systemId"])&&void 0!==e?e:""},isDocumentTypeNode:t=>De(t)&&"!doctype"===t.name,setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e;},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){null!=e.endOffset&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e};}},dc={treeAdapter:uc},fc=(pc=(t,e,s,i)=>e.o?function(t,e){const s=new Pe(void 0,e);return new xi(s,e).end(t),s.root}(t,e):function(t,e,s,i){var n;return null!==(n=e.treeAdapter)&&void 0!==n||(e.treeAdapter=uc),false!==e.scriptingEnabled&&(e.scriptingEnabled=true),s?function(t,e){return ao.parse(t,e)}(t,e):function(t,e,s){"string"==typeof t&&(s=e,e=t,t=null);const i=ao.getFragmentParser(t,s);return i.tokenizer.write(e,true),i.getFragment()}(i,t,e)}(t,e,s,i),function(t,e,s,i){if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&(t=t.toString()),"string"==typeof t)return pc(t,e,s,i);const n=t;if(!Array.isArray(n)&&Ce(n))return n;const r=new Me([]);return kr(n,r),r});var pc;const mc=(bc=fc,gc=(t,e)=>e.o?Ge(t,e):function(t){const e="length"in t?t:[t];for(let i=0;i<e.length;i+=1){const t=e[i];Ce(t)&&[].splice.call(e,i,1,...t.children);}let s="";for(let i=0;i<e.length;i+=1)s+=cc(e[i],dc);return s}(t),function t(e,s,i=true){if(null==e)throw Error("cheerio.load() expects a string");const n=Es(s),r=bc(e,n,i,null);class a extends Fr{$(t,e){const s=o(t,e);return s.prevObject=this,s}it(t,e,s,i){return bc(t,e,s,i)}et(t){return gc(t,this.options)}}function o(t,e,s=r,i){if(t&&Rs(t))return t;const o=Es(i,n),c="string"==typeof s?[bc(s,o,false,null)]:"length"in s?s:[s],h=Rs(c)?c:new a(c,null,o);if(h.v=h,!t)return new a(void 0,h,o);const l="string"==typeof t&&js(t)?bc(t,o,false,null).children:(u=t).name||u.type===oe||u.type===ce||u.type===le?[t]:Array.isArray(t)?t:void 0;var u;const d=new a(l,h,o);if(l)return d;if("string"!=typeof t)throw new TypeError("Unexpected type of selector");let f=t;const p=e?"string"==typeof e?js(e)?new a([bc(e,o,false,null)],h,o):(f=`${e} ${f}`,h):Rs(e)?e:new a(Array.isArray(e)?e:[e],h,o):h;return p?p.find(f):d}return Object.assign(o,Os,{load:t,v:r,_:n,fn:a.prototype,prototype:a.prototype}),o});var bc,gc;const yc={level:1,enableTimestamp:true,enablePrefix:true,prefix:"[Booth Analysis]"};class vc{static instance;config;constructor(){this.config={...yc};}static getInstance(){return vc.instance||(vc.instance=new vc),vc.instance}setLevel(t){this.config.level=t;}setConfig(t){this.config={...this.config,...t};}getTimestamp(){return this.config.enableTimestamp?(new Date).toLocaleString("zh-CN"):""}formatMessage(t,e,...s){const i=[];return this.config.enableTimestamp&&i.push(`[${this.getTimestamp()}]`),this.config.enablePrefix&&i.push(this.config.prefix),i.push(`[${t}]`),i.push(e),i.join(" ")}log(t,e,s,...i){t<this.config.level||this.formatMessage(e,s);}info(t,...e){this.log(1,"INFO",t,...e);}warn(t,...e){this.log(2,"WARN",t,...e);}error(t,...e){this.log(3,"ERROR",t,...e);}}const kc=vc.getInstance();var wc=(()=>"undefined"!=typeof GM_getValue?GM_getValue:void 0)(),xc=(()=>"undefined"!=typeof GM_setValue?GM_setValue:void 0)(),Mc=(()=>"undefined"!=typeof GM_xmlhttpRequest?GM_xmlhttpRequest:void 0)();class _c{static instance;sessionInfo=null;constructor(){}static getInstance(){return _c.instance||(_c.instance=new _c),_c.instance}async getValidSession(){if(this.sessionInfo&&this.isSessionValid())return this.sessionInfo.zs;const t=await this.fetchSession();return t?(this.sessionInfo=t,t.zs):null}isSessionValid(){return !!this.sessionInfo&&(!this.sessionInfo.expires_at||new Date(this.sessionInfo.expires_at).getTime()-3e5>Date.now())}async fetchSession(){return new Promise(t=>{Mc({method:"GET",url:"https://manage.booth.pm/orders",headers:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"ja,en-US;q=0.9,en;q=0.8"},onload:e=>{const s=this.extractCookieInfo(e.responseHeaders);if(s){const e={zs:s.value,updated_at:(new Date).toISOString(),expires_at:s.expires};t(e);}else t(null);},onerror:e=>{kc.error("获取 Session 请求失败:",e),t(null);},ontimeout:()=>{t(null);}});})}extractCookieInfo(t){const e=t.split("\n").find(t=>t.toLowerCase().startsWith("set-cookie:")&&t.includes("_plaza_session_nktz7u="));if(!e)return null;const s=e.split(";")[0].split("=").slice(1).join("=").trim(),i=e.match(/expires=([^;]+)/i)?.[1]?.trim();return {value:s,expires:i?new Date(i).toISOString():null}}async refreshSession(){try{const t=await this.fetchSession();return !!t&&(this.sessionInfo=t,!0)}catch(t){return kc.error("刷新 Session 失败:",t),false}}getSessionStatus(){return {hasSession:!!this.sessionInfo,isValid:this.isSessionValid(),expiresAt:this.sessionInfo?.expires_at||void 0}}clearSession(){this.sessionInfo=null;}needsReauthentication(){return !this.sessionInfo||!this.isSessionValid()}getLastUpdateTime(){return this.sessionInfo?.updated_at||null}getExpirationTime(){return this.sessionInfo?.expires_at||null}}class Tc{static instance;itemsMap=new Map;htmlItemsMap=new Map;boothItemsMap=new Map;isInitialized=false;constructor(){}static getInstance(){return Tc.instance||(Tc.instance=new Tc),Tc.instance}async initialize(){if(!this.isInitialized)try{await this.loadItemsFused(),this.initializeBoothItems(),this.isInitialized=!0;}catch(t){kc.error("商品数据初始化失败:",t),kc.warn("商品数据初始化失败，将使用空数据继续运行"),this.isInitialized=true;}}async loadItemsFused(){try{let t=1,e=!0,s=1;for(;e;){const i="https://manage.booth.pm/items?page="+t,n=await fetch(i);if(!n.ok)throw Error(`HTTP ${n.status}: ${n.statusText}`);const r=await n.json();r&&r.items&&Array.isArray(r.items)?(r.items.forEach(t=>{if(t.id&&t.name){const e=t.id.toString(),s=t.name.trim();let i="";t.primary_image?.base_resized?.url?i=t.primary_image.base_resized.url:t.primary_image?.url&&(i=t.primary_image.url);const n={id:t.id,name:s,url:t.url,state:t.state,state_label:t.state_label,primary_image:t.primary_image,variants:t.variants||[],iconUrl:i};this.itemsMap.set(e,n);}}),r.metadata?(r.metadata.total_pages&&(s=r.metadata.total_pages),r.metadata.next_page?t++:e=!1):e=!1):e=!1;}await this.loadAllHTMLPages(s);}catch(t){throw kc.error("融合数据加载失败:",t),t}}async loadAllHTMLPages(t){try{const e=_c.getInstance(),s=await e.getValidSession(),i=[];for(let o=1;t>=o;o++){const t=1===o?"https://manage.booth.pm/items":"https://manage.booth.pm/items?page="+o,e={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,ru;q=0.5","Accept-Encoding":"gzip, deflate, br, zstd","Cache-Control":"max-age=0","User-Agent":navigator.userAgent,Referer:window.location.origin};s&&(e.Cookie="_plaza_session_nktz7u="+s);const n=fetch(t,{method:"GET",headers:e}).then(async t=>{if(!t.ok)throw 401===t.status?Error(`[HTML] 第 ${o} 页认证失败 (401): ${s?"Session 已失效":"请先登录 Booth 账户"}`):Error(`[HTML] 第 ${o} 页请求失败: HTTP ${t.status}: ${t.statusText}`);return {content:await t.text(),page:o}});i.push(n);}const n=await Promise.allSettled(i);let r=0,a=0;n.forEach(t=>{if("fulfilled"===t.status){const{content:e,page:s}=t.value;e.includes("<html")||e.includes("<!DOCTYPE")?(this.parseItemsFromHTML(e,s),r++):(kc.warn(`第 ${s} 页响应内容不是HTML页面`),a++);}else kc.error("HTML 页面加载失败:",t.reason),a++;});}catch(e){throw kc.error("HTML 数据加载失败:",e),e}}parseItemsFromHTML(t,e){try{const s=mc(t),i=this.parseItemsFromElements(s);i.length>0?this.processItemsFromElements(i,e):kc.warn(`第 ${e} 页未从HTML元素中找到商品数据`);}catch(s){kc.error(`解析HTML时出错 (页码: ${e}):`,s);}}parseItemsFromElements(t){const e=[];try{t("#items > li").each((s,i)=>{try{const s=t(i);let n=s.find(".cell.item-name-with-stock .wrapper.row .cell.item-label span a").text().trim();if(!n){const t=s.find(".cell.item-label span a").text().trim();if(!t)return;n=t;}const r=s.find(".cell.item-name-with-stock .wrapper.row .cell.item-label a").attr("href")||"";let a=s.find(".dashboard-item-footer-stats .item-stat.favs .count"),o=a.text().trim();o||(a=s.find(".dashboard-item-footer-stats div div span"),o=a.text().trim());const c=parseInt(o)||0,h=[];s.find(".dashboard-items-variation > li").each((e,s)=>{try{const e=t(s),i=e.find("div").first().text().trim(),n=e.find(".number.price").contents().filter(function(){return "text"===this.type}).text().trim(),r={name:i,price:this.parsePrice(n)};h.push(r);}catch{}});const l={name:n.trim(),url:r,favorites:c,variants:h};e.push(l);}catch{}});}catch(s){kc.error("从HTML元素解析商品数据失败:",s);}return e}processItemsFromElements(t,e){try{t.forEach((t,s)=>{const i=`html-item-${e}-${s}`;this.htmlItemsMap.set(i,t);});}catch(s){kc.error("处理HTML元素商品数据时出错:",s);}}parsePrice(t){const e=t.replace(/[^\d,]/g,"").replace(",",""),s=parseFloat(e);return isNaN(s)?0:s}initializeBoothItems(){this.boothItemsMap.clear();const t=new Map;this.htmlItemsMap.forEach((e,s)=>{t.set(s,{...e});}),this.itemsMap.forEach((e,s)=>{const i=this.findHTMLItemByName(e.name,t),n={id:e.id,name:e.name,state:e.state,url:e.url,iconUrl:e.iconUrl,favorites:i?.favorites||0,variants:i?.variants||[]};if(this.boothItemsMap.set(s,n),i){const s=Array.from(t.entries()).find(([,t])=>t.name===e.name)?.[0];s&&t.delete(s);}});}findHTMLItemByName(t,e){const s=e||this.htmlItemsMap;for(const i of s.values())if(i.name===t)return i;return null}getItem(t){return this.itemsMap.get(t)||null}getItemIcon(t){const e=this.getItem(t);return e&&e.iconUrl||this.getDefaultIcon()}getItemImageUrl(t,e="72x72"){const s=this.getItem(t);return s&&s.iconUrl||this.getDefaultIcon()}getItemName(t){const e=this.getItem(t);return e?.name||"未知商品"}getItemState(t){const e=this.getItem(t);return e?.state||""}getItemUrl(t){const e=this.getItem(t);return e?.url||""}getAllItems(){return new Map(this.itemsMap)}getAllItemIds(){return Array.from(this.itemsMap.keys())}hasItem(t){return this.itemsMap.has(t)}getItemCount(){return this.itemsMap.size}getHTMLItem(t){return this.htmlItemsMap.get(t)||null}getAllHTMLItems(){return new Map(this.htmlItemsMap)}getHTMLItemCount(){return this.htmlItemsMap.size}clearHTMLCache(){this.htmlItemsMap.clear();}getDefaultIcon(){return "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iNzIiIHZpZXdCb3g9IjAgMCA3MiA3MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiByeD0iOCIgZmlsbD0iI0YzRjRGNiIvPgo8cGF0aCBkPSJNMzYgMjRDMzAuNDc3MiAyNCAyNiAyOC40NzcyIDI2IDM0QzI2IDM5LjUyMjggMzAuNDc3MiA0NCAzNiA0QzQxLjUyMjggNDQgNDYgMzkuNTIyOCA0NiAzNEM0NiAyOC40NzcyIDQxLjUyMjggMjQgMzYgMjRaIiBmaWxsPSIjNkI3MjgwIi8+CjxwYXRoIGQ9Ik0yNCA0OEg0OFY1MkgyNFY0OFoiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+"}getBoothItem(t){return this.boothItemsMap.get(t)||null}getAllBoothItems(){return new Map(this.boothItemsMap)}getAllBoothItemIds(){return Array.from(this.boothItemsMap.keys())}hasBoothItem(t){return this.boothItemsMap.has(t)}getBoothItemCount(){return this.boothItemsMap.size}clearCache(){this.itemsMap.clear(),this.htmlItemsMap.clear(),this.boothItemsMap.clear(),this.isInitialized=false;}async reload(){this.clearCache(),await this.initialize();}}class Ac{static calculateStats(t){const e=t.filter(t=>"Completed"===t.state);return {totalOrders:e.length,totalRevenue:e.reduce((t,e)=>t+e.totalPrice,0),totalNetRevenue:e.reduce((t,e)=>t+ie(e.totalPrice,e.createdAt),0)}}static filterOrdersByPeriod(t,e,s){const{period:i,customRange:n}=e,r=t.filter(t=>"Completed"===t.state);let a;switch(i){case "all":default:a=r;break;case "today":a=this.filterByToday(r);break;case "yesterday":a=this.filterByYesterday(r);break;case "thisWeek":a=this.filterByThisWeek(r,s);break;case "lastWeek":a=this.filterByLastWeek(r,s);break;case "thisMonth":a=this.filterByThisMonth(r);break;case "lastMonth":a=this.filterByLastMonth(r);break;case "custom":a=n?this.filterByCustomRange(r,n):r;}return a}static generateRevenueTrendData(t){if(!t||0===t.length)return [];const e=new Map;return t.forEach(t=>{const s=this.extractDateFromOrder(t.createdAt);if(!s)return;const i=e.get(s)||{revenue:0,orders:0};i.revenue+=t.totalPrice,i.orders+=1,e.set(s,i);}),Array.from(e.entries()).map(([t,e])=>({date:t,revenue:e.revenue,orders:e.orders})).sort((t,e)=>t.date.localeCompare(e.date))}static generatePaymentMethodData(t){if(!t||0===t.length)return [];const e=new Map,s=t.length;return t.forEach(t=>{const s=t.paymentMethod||"未知";e.set(s,(e.get(s)||0)+1);}),Array.from(e.entries()).map(([t,e])=>({method:t,count:e,percentage:Math.round(e/s*100)})).sort((t,e)=>e.count-t.count)}static generateProductSalesRanking(t){if(!t||0===t.length)return [];const e=Tc.getInstance(),s=new Map;return t.forEach(t=>{t.items.forEach(e=>{const i=s.get(e.itemId)||{name:e.name,totalQuantity:0,totalRevenue:0,orderCount:0};i.totalQuantity+=e.quantity;const n=e.quantity/t.items.reduce((t,e)=>t+e.quantity,0);i.totalRevenue+=t.totalPrice*n,i.orderCount+=1,s.set(e.itemId,i);});}),Array.from(s.entries()).map(([t,s])=>({itemId:t,name:e.getItemName(t)||s.name,totalQuantity:s.totalQuantity,totalRevenue:Math.round(s.totalRevenue),orderCount:s.orderCount,averagePrice:s.totalQuantity>0?Math.round(s.totalRevenue/s.totalQuantity):0})).sort((t,e)=>e.totalQuantity-t.totalQuantity)}static getPeriodDisplayName(t){return {all:"全部",today:"今日",yesterday:"昨日",thisWeek:"本周",lastWeek:"上周",thisMonth:"本月",lastMonth:"上月",custom:"自定义"}[t]}static getAvailablePeriods(){return [{value:"all",label:"全部"},{value:"today",label:"今日"},{value:"yesterday",label:"昨日"},{value:"thisWeek",label:"本周"},{value:"lastWeek",label:"上周"},{value:"thisMonth",label:"本月"},{value:"lastMonth",label:"上月"},{value:"custom",label:"自定义"}]}static formatDateRange(t,e,s){switch(t){case "all":default:return "全部";case "today":return this.getCurrentJSTDate();case "yesterday":return this.getJSTDateWithOffset(-1);case "thisWeek":const t=this.getThisWeekJSTRange(s);return `${t.start.substring(5)} 至 ${t.end.substring(5)}`;case "lastWeek":const i=this.getLastWeekJSTRange(s);return `${i.start.substring(5)} 至 ${i.end.substring(5)}`;case "thisMonth":return this.getCurrentJSTMonth().replace("-","年")+"月";case "lastMonth":return this.getJSTMonthWithOffset(-1).replace("-","年")+"月";case "custom":return e?`${e.startDate} 至 ${e.endDate}`:"自定义"}}static getChartColors(t){const e=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6366f1"],s=[];for(let i=0;t>i;i++)s.push(e[i%e.length]);return s}static formatDateForDisplay(t){try{const e=new Date(t);return `${e.getMonth()+1}/${e.getDate()}`}catch(e){return kc.error("日期格式化失败:",t,e),t}}static filterByToday(t){const e=this.getCurrentJSTDate();return t.filter(t=>this.parseOrderDate(t.createdAt)===e)}static filterByYesterday(t){const e=this.getJSTDateWithOffset(-1);return t.filter(t=>this.parseOrderDate(t.createdAt)===e)}static filterByThisWeek(t,e){const s=this.getThisWeekJSTRange(e);return t.filter(t=>{const e=this.parseOrderDate(t.createdAt);return e>=s.start&&e<=s.end})}static filterByLastWeek(t,e){const s=this.getLastWeekJSTRange(e);return t.filter(t=>{const e=this.parseOrderDate(t.createdAt);return e>=s.start&&e<=s.end})}static filterByThisMonth(t){const e=this.getCurrentJSTMonth();return t.filter(t=>this.parseOrderDate(t.createdAt).substring(0,7)===e)}static filterByLastMonth(t){const e=this.getJSTMonthWithOffset(-1);return t.filter(t=>this.parseOrderDate(t.createdAt).substring(0,7)===e)}static filterByCustomRange(t,e){try{return t.filter(t=>{try{const s=t.createdAt.split(" ")[0];return s>=e.startDate&&s<=e.endDate}catch{return !1}})}catch(s){return kc.error("自定义日期范围解析失败:",s),[]}}static extractDateFromOrder(t){if(!t)return null;const e=t.split(" ");return 2!==e.length?null:e[0]}static getCurrentJSTDate(){return te(new Date,"Asia/Tokyo","yyyy-MM-dd")}static getJSTDateWithOffset(t){return te(new Date((new Date).getTime()+864e5*t),"Asia/Tokyo","yyyy-MM-dd")}static getCurrentJSTMonth(){return te(new Date,"Asia/Tokyo","yyyy-MM")}static getJSTMonthWithOffset(t){const e=new Date;return te(new Date(e.getFullYear(),e.getMonth()+t,1),"Asia/Tokyo","yyyy-MM")}static getThisWeekJSTRange(t){const e=new Date,s=e.getDay();let i;i=t?.mondayAsFirstDay??1?0===s?6:s-1:s;const n=new Date(e.getTime()-864e5*i),r=new Date(n.getTime()+5184e5);return {start:te(n,"Asia/Tokyo","yyyy-MM-dd"),end:te(r,"Asia/Tokyo","yyyy-MM-dd")}}static getLastWeekJSTRange(t){const e=new Date,s=e.getDay();let i;i=t?.mondayAsFirstDay??1?0===s?6:s-1:s;const n=new Date(e.getTime()-864e5*i),r=new Date(n.getTime()-6048e5),a=new Date(r.getTime()+5184e5);return {start:te(r,"Asia/Tokyo","yyyy-MM-dd"),end:te(a,"Asia/Tokyo","yyyy-MM-dd")}}static parseOrderDate(t){try{return t.split(" ")[0]}catch{return ""}}}class Sc{static instance;itemManager;variantCache=new Map;lastProcessedOrders=[];cachedItemsWithStats=null;cachedSalesStats=null;constructor(){this.itemManager=Tc.getInstance();}static getInstance(){return Sc.instance||(Sc.instance=new Sc),Sc.instance}getItemSalesStats(t,e){let s=0,i=0,n=0,r=0;return e.forEach(e=>{e.items?.forEach(a=>{if(a.itemId===t){const t=a.quantity||0;s+=t;const o=e.items.reduce((t,e)=>t+(e.quantity||0),0);if(o>0){const s=t/o*e.totalPrice,r=se(e.totalPrice,e.createdAt);i+=s,n+=t/o*r;}r+=1;}});}),{totalQuantity:s,totalRevenue:i,totalBoothFee:n,totalNetRevenue:i-n,orderCount:r}}getAllItemSalesStats(t){if(this.lastProcessedOrders.length===t.length&&this.cachedSalesStats)return this.cachedSalesStats;const e=new Map;return this.itemManager.getAllBoothItems().forEach((t,s)=>{e.set(s,{totalQuantity:0,totalRevenue:0,totalBoothFee:0,totalNetRevenue:0,orderCount:0});}),t.forEach(t=>{t.items?.forEach(s=>{const i=s.itemId,n=e.get(i);if(n){const e=s.quantity||0,i=t.items.reduce((t,e)=>t+(e.quantity||0),0);if(i>0){const s=e/i*t.totalPrice,r=e/i*se(t.totalPrice,t.createdAt);n.totalQuantity+=e,n.totalRevenue+=s,n.totalBoothFee+=r,n.orderCount+=1;}}});}),e.forEach(t=>{t.totalNetRevenue=t.totalRevenue-t.totalBoothFee;}),this.lastProcessedOrders=[...t],this.cachedSalesStats=e,e}getItemVariantStats(t,e){this.shouldReprocessOrders(e)&&(this.preprocessAllItemVariants(e),this.lastProcessedOrders=[...e]);const s=this.variantCache.get(t);if(s)return s;const i=this.itemManager.getBoothItem(t);return i?this.analyzeVariantsFromOrders(t,i.name,e):[]}shouldReprocessOrders(t){if(this.lastProcessedOrders.length!==t.length)return  true;if(0===this.variantCache.size)return  true;if(0===t.length)return  false;const e=new Set(this.itemManager.getAllBoothItemIds()),s=new Set(this.variantCache.keys());for(const i of e)if(!s.has(i))return  true;return  false}analyzeVariantsFromOrders(t,e,s){const i=this.itemManager.getBoothItem(t);if(!i||!i.variants)return [];const n=[];return i.variants.forEach(i=>{const r=this.calculateVariantStatsFromOrders(t,i.name,e,s);r.totalQuantity>0&&n.push(r);}),n}isVariantOfMainItem(t,e,s){return t.itemId===e||!(!t.name.includes(s)||t.name===s)}calculateVariantStatsFromOrders(t,e,s,i){let n=0,r=0,a=0,o=0;const c=`${s} (${e})`;return i.forEach(e=>{e.items?.forEach(i=>{if(this.isVariantOfMainItem(i,t,s)&&i.name===c){const t=i.quantity||0;n+=t;const s=e.items.reduce((t,e)=>t+(e.quantity||0),0);if(s>0){const i=t/s*e.totalPrice,n=se(e.totalPrice,e.createdAt);r+=i,a+=t/s*n;}o+=1;}});}),{itemId:t,variantName:e,totalQuantity:n,totalRevenue:r,totalBoothFee:a,totalNetRevenue:r-a,orderCount:o}}getItemWithStats(t,e){const s=this.itemManager.getBoothItem(t);return s?{item:s,salesStats:this.getItemSalesStats(t,e),variantStats:this.getItemVariantStats(t,e)}:null}preprocessAllItemVariants(t){this.variantCache.clear();const e=new Map;return this.itemManager.getAllBoothItems().forEach((s,i)=>{const n=this.analyzeVariantsFromOrders(i,s.name,t);n.length>0&&(e.set(i,n),this.variantCache.set(i,n));}),e}getAllItemsWithStats(t){if(this.lastProcessedOrders.length===t.length&&this.cachedItemsWithStats)return this.cachedItemsWithStats;if(!t||0===t.length)return [];const e=this.getAllItemSalesStats(t);this.shouldReprocessOrders(t)&&(this.preprocessAllItemVariants(t),this.lastProcessedOrders=[...t]);const s=[];return this.itemManager.getAllBoothItems().forEach((t,i)=>{const n=e.get(i)||{totalQuantity:0,totalRevenue:0,totalBoothFee:0,totalNetRevenue:0,orderCount:0},r=this.variantCache.get(i)||[];s.push({itemId:i,item:t,salesStats:n,variantStats:r});}),this.lastProcessedOrders=[...t],this.cachedItemsWithStats=s,s}analyzeOrderVariants(t){const e=new Map;return t.forEach(t=>{t.items?.forEach(t=>{if(t.variants&&t.variants.length>0){const s=t.itemId,i=t.variants.map(t=>t.variantName);e.has(s)||e.set(s,[]);const n=e.get(s);i.forEach(t=>{n.includes(t)||n.push(t);});}});}),e}getOrderSummary(t){const e=new Set;let s=0,i=0,n=0;return t.forEach(t=>{i+=t.totalPrice;const r=se(t.totalPrice,t.createdAt);n+=t.totalPrice-r,t.items?.forEach(t=>{e.add(t.itemId),s+=t.quantity||0;});}),{totalOrders:t.length,totalItems:s,totalRevenue:i,totalNetRevenue:n,uniqueItems:e.size}}getVariantSummary(t,e){const s=this.getItemVariantStats(t,e),i={totalVariants:s.length,totalVariantQuantity:0,totalVariantRevenue:0,totalVariantNetRevenue:0};return s.forEach(t=>{i.totalVariantQuantity+=t.totalQuantity,i.totalVariantRevenue+=t.totalRevenue,i.totalVariantNetRevenue+=t.totalNetRevenue;}),i}analyzeAllVariantRelationships(t){const e=new Map;return this.itemManager.getAllItemIds().forEach(s=>{const i=this.getItemVariantStats(s,t);i.length>0&&e.set(s,i);}),e}}var Ec,Dc={exports:{}};const Cc=tn((Ec||(Ec=1,Dc.exports=function t(){var e,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==s?s:{},i=!s.document&&!!s.postMessage,n=s.IS_PAPA_WORKER||false,r={},a=0,o={};function c(t){this.$s=null,this.Ws=false,this.Ys=false,this.Vs=false,this.Gs=null,this.Qs=0,this.Xs="",this.Zs=0,this.Js=0,this.Ks=null,this.isFirstChunk=true,this.ti={data:[],errors:[],meta:{}},function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this.$s=new f(e),(this.$s.streamer=this).ei=e;}.call(this,t),this.parseChunk=function(t,e){var i=parseInt(this.ei.skipFirstNLines)||0;if(this.isFirstChunk&&i>0){let e=this.ei.newline;e||(r=this.ei.quoteChar||'"',e=this.$s.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e);}this.isFirstChunk&&w(this.ei.beforeFirstChunk)&&void 0!==(r=this.ei.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=false,this.Vs=false,i=this.Xs+t;var r=(this.Xs="",this.$s.parse(i,this.Qs,!this.Ws));if(!this.$s.paused()&&!this.$s.aborted()){if(t=r.meta.cursor,this.Ws||(this.Xs=i.substring(t-this.Qs),this.Qs=t),r&&r.data&&(this.Zs+=r.data.length),i=this.Ws||this.ei.preview&&this.Zs>=this.ei.preview,n)s.postMessage({results:r,workerId:o.WORKER_ID,finished:i});else if(w(this.ei.chunk)&&!e){if(this.ei.chunk(r,this.$s),this.$s.paused()||this.$s.aborted())return void(this.Vs=true);this.ti=r=void 0;}return this.ei.step||this.ei.chunk||(this.ti.data=this.ti.data.concat(r.data),this.ti.errors=this.ti.errors.concat(r.errors),this.ti.meta=r.meta),this.Ys||!i||!w(this.ei.complete)||r&&r.meta.aborted||(this.ei.complete(this.ti,this.Gs),this.Ys=true),i||r&&r.meta.paused||this.Ks(),r}this.Vs=true;},this.si=function(t){w(this.ei.error)?this.ei.error(t):n&&this.ei.error&&s.postMessage({workerId:o.WORKER_ID,error:t,finished:false});};}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=o.RemoteChunkSize),c.call(this,t),this.Ks=i?function(){this.ii(),this.ni();}:function(){this.ii();},this.stream=function(t){this.Gs=t,this.Ks();},this.ii=function(){if(this.Ws)this.ni();else {if(e=new XMLHttpRequest,this.ei.withCredentials&&(e.withCredentials=this.ei.withCredentials),i||(e.onload=k(this.ni,this),e.onerror=k(this.ri,this)),e.open(this.ei.downloadRequestBody?"POST":"GET",this.Gs,!i),this.ei.downloadRequestHeaders){var t,s=this.ei.downloadRequestHeaders;for(t in s)e.setRequestHeader(t,s[t]);}var n;this.ei.chunkSize&&(n=this.Js+this.ei.chunkSize-1,e.setRequestHeader("Range","bytes="+this.Js+"-"+n));try{e.send(this.ei.downloadRequestBody);}catch(r){this.ri(r.message);}i&&0===e.status&&this.ri();}},this.ni=function(){var t;4===e.readyState&&(200>e.status||e.status>=400?this.ri():(this.Js+=this.ei.chunkSize||e.responseText.length,this.Ws=!this.ei.chunkSize||this.Js>=(null!==(t=(t=e).getResponseHeader("Content-Range"))?parseInt(t.substring(t.lastIndexOf("/")+1)):-1),this.parseChunk(e.responseText)));},this.ri=function(t){t=e.statusText||t,this.si(Error(t));};}function l(t){(t=t||{}).chunkSize||(t.chunkSize=o.LocalChunkSize),c.call(this,t);var e,s,i="undefined"!=typeof FileReader;this.stream=function(t){this.Gs=t,s=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=k(this.ni,this),e.onerror=k(this.ri,this)):e=new FileReaderSync,this.Ks();},this.Ks=function(){this.Ws||this.ei.preview&&this.Zs>=this.ei.preview||this.ii();},this.ii=function(){var t=this.Gs,n=(this.ei.chunkSize&&(n=Math.min(this.Js+this.ei.chunkSize,this.Gs.size),t=s.call(t,this.Js,n)),e.readAsText(t,this.ei.encoding));i||this.ni({target:{result:n}});},this.ni=function(t){this.Js+=this.ei.chunkSize,this.Ws=!this.ei.chunkSize||this.Js>=this.Gs.size,this.parseChunk(t.target.result);},this.ri=function(){this.si(e.error);};}function u(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this.Ks()},this.Ks=function(){var t,s;if(!this.Ws)return t=this.ei.chunkSize,e=t?(s=e.substring(0,t),e.substring(t)):(s=e,""),this.Ws=!e,this.parseChunk(s)};}function d(t){c.call(this,t=t||{});var e=[],s=true,i=false;this.pause=function(){c.prototype.pause.apply(this,arguments),this.Gs.pause();},this.resume=function(){c.prototype.resume.apply(this,arguments),this.Gs.resume();},this.stream=function(t){this.Gs=t,this.Gs.on("data",this.ai),this.Gs.on("end",this.oi),this.Gs.on("error",this.ci);},this.li=function(){i&&1===e.length&&(this.Ws=true);},this.Ks=function(){this.li(),e.length?this.parseChunk(e.shift()):s=true;},this.ai=k(function(t){try{e.push("string"==typeof t?t:t.toString(this.ei.encoding)),s&&(s=!1,this.li(),this.parseChunk(e.shift()));}catch(i){this.ci(i);}},this),this.ci=k(function(t){this.ui(),this.si(t);},this),this.oi=k(function(){this.ui(),i=true,this.ai("");},this),this.ui=k(function(){this.Gs.removeListener("data",this.ai),this.Gs.removeListener("end",this.oi),this.Gs.removeListener("error",this.ci);},this);}function f(t){var e,s,i,n,r=Math.pow(2,53),a=-r,c=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,h=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,u=0,d=0,f=false,b=false,g=[],y={data:[],errors:[],meta:{}};function k(e){return "greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function x(){if(y&&i&&(_("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),i=false),t.skipEmptyLines&&(y.data=y.data.filter(function(t){return !k(t)})),M()){let s=function(e,s){w(t.transformHeader)&&(e=t.transformHeader(e,s)),g.push(e);};if(y)if(Array.isArray(y.data[0])){for(var e=0;M()&&e<y.data.length;e++)y.data[e].forEach(s);y.data.splice(0,1);}else y.data.forEach(s);}function s(e,s){for(var i=t.header?{}:[],n=0;n<e.length;n++){var o=n,l=e[n];l=((e,s)=>{return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),true===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===s||"TRUE"===s||"false"!==s&&"FALSE"!==s&&((t=>{if(c.test(t)&&(t=parseFloat(t))>a&&r>t)return 1})(s)?parseFloat(s):h.test(s)?new Date(s):""===s?null:s):s;var i;})(o=t.header?n<g.length?g[n]:"__parsed_extra":o,l=t.transform?t.transform(l,o):l),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(l)):i[o]=l;}return t.header&&(n>g.length?_("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+n,d+s):n<g.length&&_("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+n,d+s)),i}var n;y&&(t.header||t.dynamicTyping||t.transform)&&(n=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(s),n=y.data.length):y.data=s(y.data,0),t.header&&y.meta&&(y.meta.fields=g),d+=n);}function M(){return t.header&&0===g.length}function _(t,e,s,i){t={type:t,code:e,message:s},void 0!==i&&(t.row=i),y.errors.push(t);}w(t.step)&&(n=t.step,t.step=function(e){y=e,M()?x():(x(),0!==y.data.length&&(u+=e.data.length,t.preview&&u>t.preview?s.abort():(y.data=y.data[0],n(y,l))));}),this.parse=function(n,r,a){var c=t.quoteChar||'"';return t.newline||(t.newline=this.guessLineEndings(n,c)),i=false,t.delimiter?w(t.delimiter)&&(t.delimiter=t.delimiter(n),y.meta.delimiter=t.delimiter):((c=((e,s,i,n,r)=>{var a,c,h,l;r=r||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var u=0;u<r.length;u++){for(var d,f=r[u],p=0,b=0,g=0,y=(h=void 0,new m({comments:n,delimiter:f,newline:s,preview:10}).parse(e)),v=0;v<y.data.length;v++)i&&k(y.data[v])?g++:(b+=d=y.data[v].length,void 0===h?h=d:d>0&&(p+=Math.abs(d-h),h=d));y.data.length>0&&(b/=y.data.length-g),(void 0===c||c>=p)&&(void 0===l||b>l)&&b>1.99&&(c=p,a=f,l=b);}return {successful:!!(t.delimiter=a),bestDelimiter:a}})(n,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess)).successful?t.delimiter=c.bestDelimiter:(i=true,t.delimiter=o.DefaultDelimiter),y.meta.delimiter=t.delimiter),c=v(t),t.preview&&t.header&&c.preview++,e=n,s=new m(c),y=s.parse(e,r,a),x(),f?{meta:{paused:true}}:y||{meta:{paused:false}}},this.paused=function(){return f},this.pause=function(){f=true,s.abort(),e=w(t.chunk)?"":e.substring(s.getCharIndex());},this.resume=function(){l.streamer.Vs?(f=false,l.streamer.parseChunk(e,true)):setTimeout(l.resume,3);},this.aborted=function(){return b},this.abort=function(){b=true,s.abort(),y.meta.aborted=true,w(t.complete)&&t.complete(y),e="";},this.guessLineEndings=function(t,e){t=t.substring(0,1048576),e=RegExp(p(e)+"([^]*?)"+p(e),"gm");var s=(t=t.replace(e,"")).split("\r");if(t=(e=t.split("\n")).length>1&&e[0].length<s[0].length,1===s.length||t)return "\n";for(var i=0,n=0;n<s.length;n++)"\n"===s[n][0]&&i++;return i<s.length/2?"\r":"\r\n"};}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e=(t=t||{}).delimiter,s=t.newline,i=t.comments,n=t.step,r=t.preview,a=t.fastMode,c=null,h=false,l=null==t.quoteChar?'"':t.quoteChar,u=l;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof e||o.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),i===e)throw Error("Comment character same as delimiter");true===i?i="#":("string"!=typeof i||o.BAD_DELIMITERS.indexOf(i)>-1)&&(i=false),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var d=0,f=false;this.parse=function(o,m,b){if("string"!=typeof o)throw Error("Input must be a string");var g=o.length,y=e.length,v=s.length,k=i.length,x=w(n),M=[],_=[],T=[],A=d=0;if(!o)return F();if(a||false!==a&&-1===o.indexOf(l)){for(var S=o.split(s),E=0;E<S.length;E++){if(T=S[E],d+=T.length,E!==S.length-1)d+=s.length;else if(b)return F();if(!i||T.substring(0,k)!==i){if(x){if(M=[],R(T.split(e)),j(),f)return F()}else R(T.split(e));if(r&&E>=r)return M=M.slice(0,r),F(true)}}return F()}for(var D=o.indexOf(e,d),C=o.indexOf(s,d),N=RegExp(p(u)+p(l),"g"),I=o.indexOf(l,d);;)if(o[d]===l)for(I=d,d++;;){if(-1===(I=o.indexOf(l,I+1)))return b||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:M.length,index:d}),L();if(I===g-1)return L(o.substring(d,I).replace(N,l));if(l===u&&o[I+1]===u)I++;else if(l===u||0===I||o[I-1]!==u){ -1!==D&&I+1>D&&(D=o.indexOf(e,I+1));var O=P(-1===(C=-1!==C&&I+1>C?o.indexOf(s,I+1):C)?D:Math.min(D,C));if(o.substr(I+1+O,y)===e){T.push(o.substring(d,I).replace(N,l)),o[d=I+1+O+y]!==l&&(I=o.indexOf(l,d)),D=o.indexOf(e,d),C=o.indexOf(s,d);break}if(O=P(C),o.substring(I+1+O,I+1+O+v)===s){if(T.push(o.substring(d,I).replace(N,l)),B(I+1+O+v),D=o.indexOf(e,d),I=o.indexOf(l,d),x&&(j(),f))return F();if(r&&M.length>=r)return F(true);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:M.length,index:d}),I++;}}else if(i&&0===T.length&&o.substring(d,d+k)===i){if(-1===C)return F();d=C+v,C=o.indexOf(s,d),D=o.indexOf(e,d);}else if(-1===D||D>=C&&-1!==C){if(-1===C)break;if(T.push(o.substring(d,C)),B(C+v),x&&(j(),f))return F();if(r&&M.length>=r)return F(true)}else T.push(o.substring(d,D)),d=D+y,D=o.indexOf(e,d);return L();function R(t){M.push(t),A=d;}function P(t){return  -1!==t&&(t=o.substring(I+1,t))&&""===t.trim()?t.length:0}function L(t){return b||(void 0===t&&(t=o.substring(d)),T.push(t),d=g,R(T),x&&j()),F()}function B(t){d=t,R(T),T=[],C=o.indexOf(s,d);}function F(i){if(t.header&&!m&&M.length&&!h){var n=M[0],r=Object.create(null),a=new Set(n);for(let s=0;s<n.length;s++){let i=n[s];if(r[i=w(t.transformHeader)?t.transformHeader(i,s):i]){let t,o=r[i];for(;t=i+"_"+o,o++,a.has(t););a.add(t),n[s]=t,r[i]++,(c=null===c?{}:c)[t]=i;}else r[i]=1,n[s]=i;a.add(i);}h=true;}return {data:M,errors:_,meta:{delimiter:e,linebreak:s,aborted:f,truncated:!!i,cursor:A+(m||0),renamedHeaders:c}}}function j(){n(F()),M=[],_=[];}},this.abort=function(){f=true;},this.getCharIndex=function(){return d};}function b(t){var e=t.data,s=r[e.workerId],i=false;if(e.error)s.userError(e.error,e.file);else if(e.results&&e.results.data){var n={abort:function(){i=true,g(e.workerId,{data:[],errors:[],meta:{aborted:true}});},pause:y,resume:y};if(w(s.userStep)){for(var a=0;a<e.results.data.length&&(s.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},n),!i);a++);delete e.results;}else w(s.userChunk)&&(s.userChunk(e.results,n,e.file),delete e.results);}e.finished&&!i&&g(e.workerId,e.results);}function g(t,e){var s=r[t];w(s.userComplete)&&s.userComplete(e),s.terminate(),delete r[t];}function y(){throw Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e,s=Array.isArray(t)?[]:{};for(e in t)s[e]=v(t[e]);return s}function k(t,e){return function(){t.apply(e,arguments);}}function w(t){return "function"==typeof t}return o.parse=function(e,i){var n,c=(i=i||{}).dynamicTyping||false;if(w(c)&&(i.dynamicTypingFunction=c,c={}),i.dynamicTyping=c,i.transform=!!w(i.transform)&&i.transform,!i.worker||!o.WORKERS_SUPPORTED)return c=null,o.NODE_STREAM_INPUT,"string"==typeof e?(e=65279!==(n=e).charCodeAt(0)?n:n.slice(1),c=new(i.download?h:u)(i)):true===e.readable&&w(e.read)&&w(e.on)?c=new d(i):(s.File&&e instanceof File||e instanceof Object)&&(c=new l(i)),c.stream(e);(c=(()=>{var e,i,n;return !!o.WORKERS_SUPPORTED&&(i=s.URL||s.webkitURL||null,n=""+t,e=o.BLOB_URL||(o.BLOB_URL=i.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"}))),(e=new s.Worker(e)).onmessage=b,e.id=a++,r[e.id]=e)})()).userStep=i.step,c.userChunk=i.chunk,c.userComplete=i.complete,c.userError=i.error,i.step=w(i.step),i.chunk=w(i.chunk),i.complete=w(i.complete),i.error=w(i.error),delete i.worker,c.postMessage({input:e,config:i,workerId:c.id});},o.unparse=function(t,e){var s=false,i=true,n=",",r="\r\n",a='"',c=a+a,h=false,l=null,u=false,d=((()=>{if("object"==typeof e){if("string"!=typeof e.delimiter||o.BAD_DELIMITERS.filter(function(t){return  -1!==e.delimiter.indexOf(t)}).length||(n=e.delimiter),"boolean"!=typeof e.quotes&&"function"!=typeof e.quotes&&!Array.isArray(e.quotes)||(s=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(h=e.skipEmptyLines),"string"==typeof e.newline&&(r=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw Error("Option columns is empty");l=e.columns;} void 0!==e.escapeChar&&(c=e.escapeChar+a),e.escapeFormulae instanceof RegExp?u=e.escapeFormulae:"boolean"==typeof e.escapeFormulae&&e.escapeFormulae&&(u=/^[=+\-@\t\r].*$/);}})(),RegExp(p(a),"g"));if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return f(null,t,h);if("object"==typeof t[0])return f(l||Object.keys(t[0]),t,h)}else if("object"==typeof t)return "string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||l),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),f(t.fields||[],t.data||[],h);throw Error("Unable to serialize unrecognized input");function f(t,e,s){var a="",o=("string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t)&&t.length>0),c=!Array.isArray(e[0]);if(o&&i){for(var h=0;h<t.length;h++)h>0&&(a+=n),a+=m(t[h],h);e.length>0&&(a+=r);}for(var l=0;l<e.length;l++){var u=(o?t:e[l]).length,d=false,f=o?0===Object.keys(e[l]).length:0===e[l].length;if(s&&!o&&(d="greedy"===s?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===s&&o){for(var p=[],b=0;u>b;b++){var g=c?t[b]:b;p.push(e[l][g]);}d=""===p.join("").trim();}if(!d){for(var y=0;u>y;y++){y>0&&!f&&(a+=n);var v=o&&c?t[y]:y;a+=m(e[l][v],y);}l<e.length-1&&(!s||u>0&&!f)&&(a+=r);}}return a}function m(t,e){var i,r;return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(r=false,u&&"string"==typeof t&&u.test(t)&&(t="'"+t,r=true),i=t.toString().replace(d,c),(r=r||true===s||"function"==typeof s&&s(t,e)||Array.isArray(s)&&s[e]||((t,e)=>{for(var s=0;s<e.length;s++)if(t.indexOf(e[s])>-1)return  true;return  false})(i,o.BAD_DELIMITERS)||i.indexOf(n)>-1||" "===i.charAt(0)||" "===i.charAt(i.length-1))?a+i+a:i)}},o.RECORD_SEP="",o.UNIT_SEP="",o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!i&&!!s.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=f,o.NetworkStreamer=h,o.FileStreamer=l,o.StringStreamer=u,o.ReadableStreamStreamer=d,s.jQuery&&((e=s.jQuery).fn.parse=function(t){var i=t.config||{},n=[];return this.each(function(t){if("INPUT"!==e(this).prop("tagName").toUpperCase()||"file"!==e(this).attr("type").toLowerCase()||!s.FileReader||!this.files||0===this.files.length)return  true;for(var r=0;r<this.files.length;r++)n.push({file:this.files[r],inputElem:this,instanceConfig:e.extend({},i)});}),r(),this;function r(){if(0===n.length)w(t.complete)&&t.complete();else {var s,i,r,c=n[0];if(w(t.before)){var h=t.before(c.file,c.inputElem);if("object"==typeof h){if("abort"===h.action)return s=c.file,i=c.inputElem,r=h.reason,void(w(t.error)&&t.error({name:"AbortError"},s,i,r));if("skip"===h.action)return void a();"object"==typeof h.config&&(c.instanceConfig=e.extend(c.instanceConfig,h.config));}else if("skip"===h)return void a()}var l=c.instanceConfig.complete;c.instanceConfig.complete=function(t){w(l)&&l(t,c.file,c.inputElem),a();},o.parse(c.file,c.instanceConfig);}}function a(){n.splice(0,1),r();}}),n&&(s.onmessage=function(t){t=t.data,void 0===o.WORKER_ID&&t&&(o.WORKER_ID=t.workerId),"string"==typeof t.input?s.postMessage({workerId:o.WORKER_ID,results:o.parse(t.input,t.config),finished:true}):(s.File&&t.input instanceof File||t.input instanceof Object)&&(t=o.parse(t.input,t.config))&&s.postMessage({workerId:o.WORKER_ID,results:t,finished:true});}),(h.prototype=Object.create(c.prototype)).constructor=h,(l.prototype=Object.create(c.prototype)).constructor=l,(u.prototype=Object.create(u.prototype)).constructor=u,(d.prototype=Object.create(c.prototype)).constructor=d,o}()),Dc.exports)),Nc={orderNumber:["Order Number","注文番号"],identificationCode:["Identification Code","ユーザー識別コード"],paymentMethod:["Payment type","お支払方法","支付方式","신용카드"],state:["State","注文状況"],createdAt:["Created At","注文日時"],paidAt:["Paid At","支払い日時"],completedAt:["Completed At","発送日時"],totalPrice:["Total Price","合計金額"],postalCode:["ZIP code","郵便番号","邮编","郵編","우편번호"],prefecture:["State / Province / Region / Prefecture","都道府県","都道府县","都道府縣","도도부현(광역 주소)"],city:["Address Line 1","市区町村・丁目・番地","市区町村、丁目、番地","市區釘村、丁目、番地","시구정촌·초메·번지(상세 주소)"],building:["Address Line 2","マンション・建物名・部屋番号","公寓、建筑物名、房间号","公寓、建築物名、房間號","아파트 건물명 호수"],customerName:["Name","氏名","姓名","이름"],phoneNumber:["Phone number","電話番号","电话号码","電話號碼","전화번호"],items:["Item ID / Quantity / Name","商品ID / 数量 / 商品名"]},Ic=[/Item ID : (\d+) \/ Quantity : (\d+) \/ (.+)/,/商品ID : (\d+) \/ 数量 : (\d+) \/ (.+)/,/(\d+) \/ (\d+) \/ (.+)/],Oc={"発送完了":"Completed","キャンセル":"Cancelled","支払待ち":"Pending",Completed:"Completed",Cancelled:"Cancelled",Pending:"Pending"};class Rc{static findHeaderField(t,e){const s=Nc[e];for(const i of t)if(s.includes(i))return i;return null}static parseItemsMultiLanguage(t){const e=[];if(!t)return e;const s=t.split("\n").filter(t=>t.trim());for(const i of s)for(const t of Ic){const s=i.match(t);if(s){e.push({itemId:s[1],quantity:parseInt(s[2],10),name:s[3].trim()});break}}return e}static normalizeOrderState(t){const e=t.trim();return Oc[e]?Oc[e]:"Pending"}static getSupportedOrderStates(){return Object.keys(Oc)}static isValidOrderState(t){return Object.keys(Oc).includes(t)}static getHeaderMapping(){return Nc}static getOrderStatusMapping(){return Oc}}class Pc{static parse(t){try{const e=Cc.parse(t,{header:!0,skipEmptyLines:!0,transformHeader:t=>t.trim(),transform:t=>t.trim()});if(e.errors.length>0)return kc.error("CSV解析错误:",e.errors),{success:!1,error:"CSV解析错误: "+e.errors.map(t=>t.message).join(", ")};if(!e.data||0===e.data.length)return {success:!1,error:"CSV文件为空或格式错误"};const s=e.meta.fields||[];if(0===s.length)return {success:!1,error:"CSV文件缺少表头"};const i=[];let n=0,r=0;for(const t of e.data){const e=this.parseOrderRow(s,t);e?(i.push(e),n++):r++;}return 0===i.length?{success:!1,error:"没有成功解析任何订单数据"}:{success:!0,data:i}}catch(e){return kc.error("CSV解析失败:",e),{success:false,error:"解析CSV失败: "+e}}}static parseOrderRow(t,e){try{const s=Rc.findHeaderField(t,"orderNumber"),i=Rc.findHeaderField(t,"identificationCode"),n=Rc.findHeaderField(t,"paymentMethod"),r=Rc.findHeaderField(t,"state"),a=Rc.findHeaderField(t,"createdAt"),o=Rc.findHeaderField(t,"paidAt"),c=Rc.findHeaderField(t,"completedAt"),h=Rc.findHeaderField(t,"totalPrice"),l=Rc.findHeaderField(t,"postalCode"),u=Rc.findHeaderField(t,"prefecture"),d=Rc.findHeaderField(t,"city"),f=Rc.findHeaderField(t,"building"),p=Rc.findHeaderField(t,"customerName"),m=Rc.findHeaderField(t,"phoneNumber"),b=Rc.findHeaderField(t,"items"),g=b?Rc.parseItemsMultiLanguage(e[b]||""):[],y=(h&&e[h]||"0").replace(/[^\d.-]/g,""),v=parseFloat(y)||0,k=r&&e[r]||"",w=Rc.normalizeOrderState(k);return {orderNumber:s&&e[s]||"",identificationCode:i&&e[i]||"",paymentMethod:n?e[n]:"",state:w,createdAt:a&&e[a]||"",paidAt:o&&e[o]||"",completedAt:c&&e[c]||"",totalPrice:v,postalCode:l&&e[l]||"",prefecture:u&&e[u]||"",city:d&&e[d]||"",building:f&&e[f]||"",customerName:p&&e[p]||"",phoneNumber:m&&e[m]||"",items:g}}catch(s){return kc.error("解析订单行失败:",s),null}}static parseStream(t,e,s,i){try{Cc.parse(t,{header:!0,skipEmptyLines:!0,transformHeader:t=>t.trim(),transform:t=>t.trim(),chunk:t=>{const s=[];for(const e of t.data){const i=this.parseOrderRow(t.meta.fields||[],e);i&&s.push(i);}s.length>0&&e(s);},complete:()=>{s();},error:t=>{kc.error("流式解析错误:",t),i(t.message);}});}catch(n){kc.error("流式解析失败:",n),i("流式解析失败: "+n);}}}class Lc{static instance;orders=[];isLoading=false;lastLoadTime=null;constructor(){}static getInstance(){return Lc.instance||(Lc.instance=new Lc),Lc.instance}getOrders(){return this.orders}hasData(){return this.orders.length>0}isCurrentlyLoading(){return this.isLoading}getLastLoadTime(){return this.lastLoadTime}async loadOrdersFromCSV(){if(this.isLoading)return {success:false,error:"正在加载中，请稍候..."};this.isLoading=true;try{const t=await this.downloadCSV();if(!t.success)return this.isLoading=!1,{success:!1,error:t.error};const e=Pc.parse(t.data||"");return e.success&&e.data?(this.orders=e.data,this.lastLoadTime=new Date,this.preprocessAllItemVariants(),this.isLoading=!1,{success:!0,data:this.orders}):(this.isLoading=!1,{success:!1,error:e.error||"解析CSV数据失败"})}catch(t){return this.isLoading=false,{success:false,error:"加载失败: "+t}}}async downloadCSV(){try{const t=_c.getInstance(),e=await t.getValidSession(),s={Accept:"text/csv,application/csv,text/plain","Content-Type":"text/csv; charset=utf-8"};e?s.Cookie="_plaza_session_nktz7u="+e:kc.warn("未找到有效 Session，将尝试无认证请求");const i=await fetch("https://manage.booth.pm/orders/csv",{method:"GET",headers:s});return 401===i.status?(e&&(t.clearSession(),kc.warn("Session 已失效，已清除")),{success:!1,error:"认证失败 (401): "+(e?"Session 已失效，请重新登录":"请先登录 Booth 账户")}):i.ok?{success:!0,data:await i.text()}:{success:!1,error:`下载失败: HTTP ${i.status} - ${i.statusText}`}}catch(t){let e="网络错误";return 401===t.status?e="认证失败: 请先登录 Booth 账户":403===t.status?e="访问被拒绝: 可能没有权限访问此页面":404===t.status&&(e="页面不存在: 请检查 URL 是否正确"),{success:false,error:`${e}: ${JSON.stringify(t)}`}}}getSessionStatus(){return _c.getInstance().getSessionStatus()}async refreshSession(){const t=_c.getInstance();return await t.refreshSession()}clearData(){this.orders=[],this.lastLoadTime=null;}getDataStats(){return {totalOrders:this.orders.length,lastLoadTime:this.lastLoadTime?this.lastLoadTime.toISOString():null}}preprocessAllItemVariants(){try{Sc.getInstance().preprocessAllItemVariants(this.orders);}catch(t){kc.warn("预处理商品变体数据失败:",t);}}}const Bc=(t,e)=>e.split(".").reduce((t,e)=>t&&void 0!==t[e]?t[e]:void 0,t);let Fc={},jc=0,Uc=null;class qc{static async convertFromJPY(t,e){if("JPY"===e)return t;const s=await this.getExchangeRate(e);if(!s)throw Error(`无法获取 ${e} 的汇率`);return t*s}static convertFromJPYSync(t,e){if("JPY"===e)return t;const s=this.getExchangeRateSync(e);if(!s)throw Error(`无法获取 ${e} 的汇率`);return t*s}static formatCurrency(t,e){return {JPY:new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}),CNY:new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),USD:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),EUR:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),GBP:new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}),KRW:new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}),HKD:new Intl.NumberFormat("zh-HK",{style:"currency",currency:"HKD"}),TWD:new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD"})}[e].format(t)}static formatCurrencyWithCode(t,e){return `${this.getCurrencySymbol(e)}${t.toLocaleString()}`}static getCurrencySymbol(t){return {JPY:"¥",CNY:"¥",USD:"$",EUR:"€",GBP:"£",KRW:"₩",HKD:"HK$",TWD:"NT$"}[t]}static formatJPY(t){return "¥"+t.toLocaleString()}static formatConverted(t,e){if("JPY"===e)return null;try{const s=this.convertFromJPYSync(t,e);return this.formatCurrencyWithCode(s,e)}catch{return null}}static updateExchangeRates(t){Fc={...Fc,...t},jc=Date.now();}static getExchangeRateSync(t){return Fc[t]||null}static async getExchangeRate(t){if(36e5>Date.now()-jc&&Fc[t])return Fc[t];const e=await this.fetchExchangeRates();return this.updateExchangeRates(e),e[t]||0}static async initializeRates(){try{const t=await this.fetchExchangeRates();this.updateExchangeRates(t);}catch(t){kc.error("初始化汇率失败:",t);}}static async fetchExchangeRates(){try{const t=await new Promise((t,e)=>{Mc({method:"GET",url:"https://api.exchangerate-api.com/v4/latest/JPY",onload:function(s){if(200===s.status)try{const e=JSON.parse(s.responseText);t(e);}catch(i){e(Error("解析汇率响应失败"));}else e(Error(`HTTP ${s.status}: ${s.statusText}`));},onerror:function(t){e(t);}});});if(!t.rates)throw Error("无效的汇率响应");const e={JPY:1,CNY:t.rates.CNY||0,USD:t.rates.USD||0,EUR:t.rates.EUR||0,GBP:t.rates.GBP||0,KRW:t.rates.KRW||0,HKD:t.rates.HKD||0,TWD:t.rates.TWD||0};return Uc=t.date,e}catch(t){return kc.error("获取汇率失败:",t),{JPY:1,CNY:.048,USD:.0067,EUR:.0062,GBP:.0053,KRW:8.5,HKD:.052,TWD:.21}}}static getCacheStatus(){const t=Date.now()-jc,e=36e5>t;return {hasCache:Object.keys(Fc).length>0,age:t,isValid:e,updateTime:Uc}}static clearCache(){Fc={},jc=0,Uc=null;}}const Hc={key:0},zc={key:1},$c=vue.defineComponent({di:"TableCell",props:{item:{},column:{},privacyMode:{type:Boolean}},setup(t){const a=t;return (t,o)=>t.column.render?(vue.openBlock(),vue.createElementBlock("span",Hc,[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(t.column.render),{item:t.item,column:t.column,"privacy-mode":t.privacyMode},null,8,["item","column","privacy-mode"]))])):(vue.openBlock(),vue.createElementBlock("span",zc,vue.toDisplayString((()=>{const t=a.item[a.column.key];return a.privacyMode?"****":t})()),1))}}),Wc={class:"table-content"},Yc=(t,e)=>{const s=t.fi||t;for(const[i,n]of e)s[i]=n;return s},Vc=Yc(vue.defineComponent({di:"TableBody",props:{data:{},columns:{},privacyMode:{type:Boolean},getItemKey:{type:Function}},setup:t=>(t,i)=>(vue.openBlock(),vue.createElementBlock("div",Wc,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(t.data,(i,n)=>(vue.openBlock(),vue.createElementBlock("div",{key:t.getItemKey(i,n),class:"table-row"},[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(t.columns,r=>{return vue.openBlock(),vue.createElementBlock("div",{key:r.key,class:vue.normalizeClass(["table-cell",(a=r.key,"cell-"+a)]),style:vue.normalizeStyle({width:r.width,textAlign:r.align||"left"})},[vue.renderSlot(t.$slots,"cell",{item:i,column:r,index:n},()=>[vue.createVNode($c,{item:i,column:r,"privacy-mode":t.privacyMode},null,8,["item","column","privacy-mode"])],true)],6);var a;}),128))]))),128))]))}),[["__scopeId","data-v-a9fcc20e"]]),Gc={class:"empty-state"},Qc={class:"empty-icon"},Xc={class:"empty-text"},Zc={class:"empty-hint"},Jc=Yc(vue.defineComponent({di:"TableEmptyState",props:{config:{}},setup:t=>(t,i)=>(vue.openBlock(),vue.createElementBlock("div",Gc,[vue.createElementVNode("div",Qc,vue.toDisplayString(t.config.icon),1),vue.createElementVNode("div",Xc,vue.toDisplayString(t.config.text),1),vue.createElementVNode("div",Zc,vue.toDisplayString(t.config.hint),1)]))}),[["__scopeId","data-v-09fe5d20"]]),Kc=Yc(vue.defineComponent({di:"index",props:{value:{},masked:{type:Boolean,default:false},maskChar:{default:"*"},class:{default:""}},setup(t){const i=t,n=vue.computed(()=>i.class),a=vue.computed(()=>{if(!i.masked)return i.value+"";const t=(i.value+"").length;return t>2?t>4?i.maskChar.repeat(6):i.maskChar.repeat(4):i.maskChar.repeat(2)});return (t,i)=>(vue.openBlock(),vue.createElementBlock("span",{class:vue.normalizeClass(n.value)},vue.toDisplayString(a.value),3))}}),[["__scopeId","data-v-38e65878"]]),th={class:"table-header"},eh={class:"table-info"},sh={class:"item-count"},ih=Yc(vue.defineComponent({di:"TableHeader",props:{title:{},info:{},privacyMode:{type:Boolean}},setup:t=>(t,i)=>(vue.openBlock(),vue.createElementBlock("div",th,[vue.createElementVNode("h3",null,vue.toDisplayString(t.title),1),vue.createElementVNode("div",eh,[vue.createElementVNode("span",sh,[vue.createVNode(Kc,{value:t.info.totalItems,masked:t.privacyMode},null,8,["value","masked"]),vue.createTextVNode(" "+vue.toDisplayString(t.info.itemLabel),1)]),vue.renderSlot(t.$slots,"controls",{},void 0,true)])]))}),[["__scopeId","data-v-2985fc97"]]),nh={class:"table-header-row"},rh=Yc(vue.defineComponent({di:"TableHeaderRow",props:{columns:{}},setup:t=>(t,i)=>(vue.openBlock(),vue.createElementBlock("div",nh,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(t.columns,t=>(vue.openBlock(),vue.createElementBlock("div",{key:t.key,class:"table-header-cell",style:vue.normalizeStyle({width:t.width,textAlign:t.align||"left"})},vue.toDisplayString(t.label),5))),128))]))}),[["__scopeId","data-v-d01cfb85"]]),ah={class:"pagination"},oh={class:"pagination-controls"},ch=["disabled"],hh={class:"page-numbers"},lh=["onClick"],uh=["disabled"],dh={class:"pagination-info"},fh={key:0,class:"page-info"},ph={class:"page-current"},mh={class:"page-total"},bh=vue.defineComponent({di:"TablePagination",props:{currentPage:{},totalPages:{},goToPage:{},goToPrevPage:{},goToNextPage:{},privacyMode:{type:Boolean,default:false}},setup(t){const i=t,n=()=>{const t=[],e=i.totalPages,s=i.currentPage;if(e>7){const i=Math.max(1,s-2),n=Math.min(e,s+2);i>1&&(t.push(1),i>2&&t.push(-1));for(let e=i;n>=e;e++)t.push(e);e>n&&(e-1>n&&t.push(-1),t.push(e));}else for(let i=1;e>=i;i++)t.push(i);return t};return (t,i)=>(vue.openBlock(),vue.createElementBlock("div",ah,[vue.createElementVNode("div",oh,[vue.createElementVNode("button",{onClick:i[0]||(i[0]=(...e)=>t.goToPrevPage&&t.goToPrevPage(...e)),disabled:1===t.currentPage,class:"booth-btn booth-btn-secondary booth-btn-sm",title:"上一页"}," ‹ ",8,ch),vue.createElementVNode("div",hh,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(n(),i=>(vue.openBlock(),vue.createElementBlock("button",{key:i,class:vue.normalizeClass(["booth-btn","booth-btn-sm",{"booth-btn-primary":t.currentPage===i,"booth-btn-ghost":-1===i,"booth-btn-secondary":-1!==i&&t.currentPage!==i}]),onClick:e=>-1===i?null:t.goToPage(i)},vue.toDisplayString(-1===i?"...":t.privacyMode?"***":i),11,lh))),128))]),vue.createElementVNode("button",{onClick:i[1]||(i[1]=(...e)=>t.goToNextPage&&t.goToNextPage(...e)),disabled:t.currentPage===t.totalPages,class:"booth-btn booth-btn-secondary booth-btn-sm",title:"下一页"}," › ",8,uh)]),vue.createElementVNode("div",dh,[t.totalPages>0?(vue.openBlock(),vue.createElementBlock("span",fh,[i[2]||(i[2]=vue.createTextVNode(" 第 ",-1)),vue.createElementVNode("span",ph,vue.toDisplayString(t.privacyMode?"***":t.currentPage),1),i[3]||(i[3]=vue.createTextVNode(" 页，共 ",-1)),vue.createElementVNode("span",mh,vue.toDisplayString(t.privacyMode?"***":t.totalPages),1),i[4]||(i[4]=vue.createTextVNode(" 页 ",-1))])):vue.createCommentVNode("",true)])]))}}),gh=Yc(bh,[["__scopeId","data-v-8cac1dac"]]),yh=Yc(vue.defineComponent({di:"index",props:{data:{},columns:{},config:{default:()=>({pageSize:50,privacyMode:false,scrollable:false,showPagination:true,getItemKey:(t,e)=>t.id||t.orderNumber||t.itemId||e})},display:{default:()=>({title:"数据表格",itemLabel:"条记录",emptyIcon:"📋",emptyText:"暂无数据",emptyHint:"请先加载数据或调整筛选条件"})}},setup(t){const n=t,{currentPage:r,totalPages:a,paginatedData:o,goToPage:c,goToPrevPage:p,goToNextPage:k}=function(t,e){const s=vue.ref(1),i=vue.computed(()=>t.value.length),n=vue.computed(()=>Math.ceil(i.value/e.value)),r=vue.computed(()=>{const i=(s.value-1)*e.value,n=i+e.value;return t.value.slice(i,n)});return vue.watch(t,()=>{s.value=1;},{deep:true}),{currentPage:s,totalPages:n,paginatedData:r,goToPage:t=>{1>t||t>n.value||(s.value=t);},goToPrevPage:()=>{s.value>1&&s.value--;},goToNextPage:()=>{s.value<n.value&&s.value++;}}}(vue.computed(()=>n.data),vue.computed(()=>n.config?.pageSize||50));vue.computed(()=>n.config?.privacyMode||false);const{tableClasses:w,tableInfo:x,emptyConfig:M,paginationInfo:_}=function(t,e,s,i,n,r,a,o){return {tableClasses:vue.computed(()=>{const t=["data-table"];return s.value?.scrollable&&t.push("table-scrollable"),t}),tableInfo:vue.computed(()=>({totalItems:t.value.length,currentPage:i.value,totalPages:n.value,itemLabel:e.value?.itemLabel||"条记录"})),emptyConfig:vue.computed(()=>({icon:e.value?.emptyIcon||"📋",text:e.value?.emptyText||"暂无数据",hint:e.value?.emptyHint||"请先加载数据或调整筛选条件"})),paginationInfo:vue.computed(()=>({currentPage:i.value,totalPages:n.value,goToPage:r,goToPrevPage:a,goToNextPage:o}))}}(vue.computed(()=>n.data),vue.computed(()=>n.display),vue.computed(()=>n.config),r,a,c,p,k),T=vue.computed(()=>n.config?.privacyMode||false),A=vue.computed(()=>n.config?.scrollable||false),S=vue.computed(()=>false!==n.config?.showPagination),E=vue.computed(()=>n.config?.getItemKey||((t,e)=>t.id||t.orderNumber||t.itemId||e));return vue.watch(()=>n.data,()=>{r.value=1;},{deep:true}),(t,n)=>(vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["data-table",vue.unref(w)])},[vue.renderSlot(t.$slots,"header",{title:t.display?.title,info:vue.unref(x)},()=>[vue.createVNode(ih,{title:t.display?.title,info:vue.unref(x),"privacy-mode":T.value},{controls:vue.withCtx(()=>[vue.renderSlot(t.$slots,"header-controls",{},void 0,true)]),pi:3},8,["title","info","privacy-mode"])],true),vue.createElementVNode("div",{class:vue.normalizeClass(["table-container",{"table-scrollable":A.value}])},[vue.renderSlot(t.$slots,"table-header",{columns:t.columns},()=>[vue.createVNode(rh,{columns:t.columns},null,8,["columns"])],true),vue.renderSlot(t.$slots,"table-body",{data:vue.unref(o),columns:t.columns},()=>[vue.unref(o).length>0?(vue.openBlock(),vue.createBlock(Vc,{key:0,data:vue.unref(o),columns:t.columns,"privacy-mode":T.value,"get-item-key":E.value},{cell:vue.withCtx(({item:e,column:s,index:i})=>[vue.renderSlot(t.$slots,"cell",{item:e,column:s,index:i},()=>[vue.createVNode($c,{item:e,column:s,"privacy-mode":T.value},null,8,["item","column","privacy-mode"])],true)]),pi:3},8,["data","columns","privacy-mode","get-item-key"])):(vue.openBlock(),vue.createBlock(Jc,{key:1,config:vue.unref(M)},null,8,["config"]))],true)],2),vue.renderSlot(t.$slots,"pagination",{pagination:vue.unref(_)},()=>[S.value?(vue.openBlock(),vue.createBlock(gh,{key:0,"current-page":vue.unref(r),"total-pages":vue.unref(a),"go-to-page":vue.unref(c),"go-to-prev-page":vue.unref(p),"go-to-next-page":vue.unref(k),"privacy-mode":T.value},null,8,["current-page","total-pages","go-to-page","go-to-prev-page","go-to-next-page","privacy-mode"])):vue.createCommentVNode("",true)],true)],2))}}),[["__scopeId","data-v-d200fb90"]]),vh={class:"item-icon-container"},kh=["src","alt"],wh={key:1,class:"privacy-icon"},xh=["width","height"],Mh=Yc(vue.defineComponent({di:"index",props:{itemId:{},items:{},size:{default:"32px"},alt:{default:"商品图标"},privacyMode:{type:Boolean,default:false}},setup(t){vue.useCssVars(t=>({"4fe4d4ec":t.size}));const i=t,n=vue.ref(""),r=vue.computed(()=>parseInt(i.size)),a=()=>{if(!(i.itemId||i.items&&0!==i.items.length))return void(n.value="");let t=i.itemId;if(!t&&i.items&&i.items.length>0&&(t=i.items[0].itemId),t){const e=Tc.getInstance().getItemIcon(t);n.value=e;}else n.value="";},o=()=>{n.value="";};return vue.watch(()=>[i.itemId,i.items],()=>{a();},{deep:true}),vue.onMounted(()=>{a();}),(t,a)=>(vue.openBlock(),vue.createElementBlock("div",vh,[!i.privacyMode&&n.value?(vue.openBlock(),vue.createElementBlock("img",{key:0,src:n.value,alt:t.alt,onError:o,class:"item-icon"},null,40,kh)):(vue.openBlock(),vue.createElementBlock("div",wh,[(vue.openBlock(),vue.createElementBlock("svg",{width:r.value,height:r.value,viewBox:"0 0 16 16",fill:"none"},a[0]||(a[0]=[vue.createElementVNode("rect",{width:"16",height:"16",rx:"2",fill:"#f3f4f6"},null,-1),vue.createElementVNode("path",{d:"M8 3c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 7.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fill:"#9ca3af"},null,-1)]),8,xh))]))]))}}),[["__scopeId","data-v-d70e735f"]]),_h={class:"modal-header"},Th={class:"modal-title"},Ah=["title"],Sh={class:"modal-body"},Eh={key:0,class:"modal-footer"},Dh=Yc(vue.defineComponent({di:"index",props:{visible:{type:Boolean},title:{default:""},closeButtonTitle:{default:"关闭"},closeOnOverlayClick:{type:Boolean,default:true},size:{default:"medium"}},emits:["close","update:visible"],setup(t,{emit:i}){const n=t,a=i,o=vue.useSlots(),c=()=>{a("close"),a("update:visible",false);},u=()=>{n.closeOnOverlayClick&&c();},p=vue.computed(()=>"modal-"+n.size);return (t,i)=>t.visible?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:"modal-overlay",onClick:u},[vue.createElementVNode("div",{class:vue.normalizeClass(["modal-content",p.value]),onClick:i[0]||(i[0]=vue.withModifiers(()=>{},["stop"]))},[vue.createElementVNode("div",_h,[vue.createElementVNode("h3",Th,vue.toDisplayString(t.title),1),vue.createElementVNode("button",{onClick:c,class:"booth-btn booth-btn-ghost booth-btn-icon booth-btn-sm",title:t.closeButtonTitle}," × ",8,Ah)]),vue.createElementVNode("div",Sh,[vue.renderSlot(t.$slots,"default",{},void 0,true)]),vue.unref(o).footer?(vue.openBlock(),vue.createElementBlock("div",Eh,[vue.renderSlot(t.$slots,"footer",{},void 0,true)])):vue.createCommentVNode("",true)],2)])):vue.createCommentVNode("",true)}}),[["__scopeId","data-v-45c66fea"]]),Ch={class:"selector-container"},Nh={class:"selector-controls"},Ih=["disabled","onClick"],Oh=Yc(vue.defineComponent({di:"index",props:{options:{},modelValue:{},multiple:{type:Boolean,default:false},allowDeselect:{type:Boolean,default:false},class:{default:""}},emits:["update:modelValue","change"],setup(t,{emit:i}){const n=t,c=i,l=t=>n.multiple?Array.isArray(n.modelValue)&&n.modelValue.includes(t):n.modelValue===t;return (t,i)=>(vue.openBlock(),vue.createElementBlock("div",Ch,[vue.createElementVNode("div",Nh,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(t.options,(t,i)=>(vue.openBlock(),vue.createElementBlock("button",{key:t.value,class:vue.normalizeClass(["booth-btn","booth-btn-sm",{"booth-btn-primary":l(t.value),"booth-btn-ghost":!l(t.value),disabled:t.disabled}]),disabled:t.disabled,onClick:e=>(t=>{let e;if(n.multiple){const s=Array.isArray(n.modelValue)?n.modelValue:[];if(s.includes(t)){if(!n.allowDeselect)return;e=s.filter(e=>e!==t);}else e=[...s,t];}else if(n.modelValue===t){if(!n.allowDeselect)return;e="";}else e=t;c("update:modelValue",e),c("change",e);})(t.value)},vue.toDisplayString(t.label),11,Ih))),128))])]))}}),[["__scopeId","data-v-595fdcdb"]]),Rh={key:0,class:"favorites-cell"},Ph={key:1,class:"no-favorites"},Lh={key:5,class:"price-cell"},Bh={class:"price-main"},Fh={key:0,class:"price-converted"},jh={key:6,class:"price-cell"},Uh={class:"price-main"},qh={key:0,class:"price-converted"},Hh={key:7,class:"price-cell"},zh={class:"price-main"},$h={key:0,class:"price-converted"},Wh=["href"],Yh={key:1,class:"item-link-masked"},Vh={key:2,class:"no-link"},Gh=["disabled","onClick"],Qh={key:0,class:"sales-details"},Xh={class:"item-info"},Zh={class:"item-icon"},Jh={class:"item-details"},Kh={class:"item-header"},tl={class:"item-id"},el={class:"item-meta"},sl={class:"meta-left"},il={key:0,class:"item-state"},nl=["href"],rl={key:0,class:"meta-right"},al={class:"favorites-item"},ol={class:"sales-summary"},cl={class:"summary-item"},hl={class:"summary-value"},ll={class:"summary-item"},ul={class:"summary-value"},dl={class:"summary-item"},fl={class:"summary-value"},pl={key:0,class:"variant-sales"},ml={class:"variant-summary"},bl={class:"summary-stats"},gl={class:"summary-stat"},yl={class:"summary-stat"},vl={class:"summary-stat"},kl={class:"variant-list"},wl={class:"variant-info"},xl={class:"variant-details"},Ml={class:"variant-name"},_l={key:0,class:"variant-source"},Tl={class:"variant-stats"},Al={class:"variant-quantity"},Sl={class:"variant-revenue"},El=Yc(vue.defineComponent({di:"index",props:{userSettings:{},selectedPeriod:{},customRange:{},targetCurrency:{}},setup(t){const n=t,c=vue.ref(false),h=vue.ref(null),l=vue.ref("original"),g=Lc.getInstance(),k=vue.computed(()=>g.getOrders()),w=vue.computed(()=>0===k.value.length?[]:Ac.filterOrdersByPeriod(k.value,{period:n.selectedPeriod||"all",customRange:n.customRange},n.userSettings)),x=vue.computed(()=>{const t=Tc.getInstance(),e=Sc.getInstance(),s=t.getAllBoothItems(),i=e.getAllItemSalesStats(w.value),n=e.preprocessAllItemVariants(w.value),r=[];return s.forEach((t,e)=>{const s=i.get(e)||{totalQuantity:0,totalRevenue:0,totalBoothFee:0,totalNetRevenue:0,orderCount:0},a=n.get(e)||[];r.push({itemId:e,item:t,salesStats:s,variantStats:a});}),r}),M=vue.computed(()=>"original"===l.value?x.value:"sales"===l.value?[...x.value].sort((t,e)=>e.salesStats.totalQuantity-t.salesStats.totalQuantity):"revenue"===l.value?[...x.value].sort((t,e)=>e.salesStats.totalRevenue-t.salesStats.totalRevenue):x.value),_=[{value:"original",label:"默认"},{value:"sales",label:"销量"},{value:"revenue",label:"收入"}],T=t=>{"string"!=typeof t&&"number"!=typeof t||(l.value=t);},A=[{key:"itemId",label:"商品ID",width:"80px"},{key:"icon",label:"图标",width:"60px"},{key:"name",label:"商品名称",width:"300px"},{key:"favorites",label:"点赞数",width:"80px"},{key:"totalQuantity",label:"销量",width:"80px"},{key:"totalRevenue",label:"总收入",width:"100px"},{key:"totalBoothFee",label:"手续费",width:"80px"},{key:"totalNetRevenue",label:"净收入",width:"100px"},{key:"link",label:"链接",width:"120px"},{key:"action",label:"操作",width:"100px"}],S=vue.computed(()=>({pageSize:50,privacyMode:n.userSettings?.privacyMode||false,scrollable:false,showPagination:true,getItemKey:t=>t.itemId})),E={title:"商品列表",itemLabel:"个商品",emptyIcon:"📦",emptyText:"暂无商品数据",emptyHint:"请先加载数据"},D=t=>{const e=x.value.find(e=>e.itemId===t);return e?.variantStats||[]},C=t=>D(t).reduce((t,e)=>t+e.totalRevenue,0),N=(t,e)=>D(t).find(t=>t.variantName===e),I=()=>{c.value=false,h.value=null;},O=t=>qc.formatCurrencyWithCode(t,"JPY");return (t,f)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(yh,{data:M.value,columns:A,config:S.value,display:E},{"header-controls":vue.withCtx(()=>[vue.createVNode(Oh,{modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=t=>l.value=t),options:_,onChange:T},null,8,["modelValue"])]),cell:vue.withCtx(({item:o,column:l})=>["itemId"===l.key?(vue.openBlock(),vue.createBlock(Kc,{key:0,value:o.itemId,masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])):"icon"===l.key?(vue.openBlock(),vue.createBlock(Mh,{key:1,"item-id":o.itemId,size:"40px","privacy-mode":n.userSettings?.privacyMode||false},null,8,["item-id","privacy-mode"])):"name"===l.key?(vue.openBlock(),vue.createBlock(Kc,{key:2,value:o.item.name,masked:n.userSettings?.privacyMode||false,"mask-char":"商品"},null,8,["value","masked"])):"favorites"===l.key?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:3},[o.item.favorites>0?(vue.openBlock(),vue.createElementBlock("div",Rh,[f[1]||(f[1]=vue.createElementVNode("svg",{class:"heart-icon",viewBox:"0 0 16 16",fill:"currentColor"},[vue.createElementVNode("path",{d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1)),vue.createVNode(Kc,{value:o.item.favorites||0,masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])])):(vue.openBlock(),vue.createElementBlock("span",Ph,"-"))],64)):"totalQuantity"===l.key?(vue.openBlock(),vue.createBlock(Kc,{key:4,value:vue.unref(Bc)(o,"salesStats.totalQuantity")||0,masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])):"totalRevenue"===l.key?(vue.openBlock(),vue.createElementBlock("div",Lh,[vue.createElementVNode("div",Bh,[vue.createVNode(Kc,{value:O(vue.unref(Bc)(o,"salesStats.totalRevenue")||0),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&vue.unref(Bc)(o,"salesStats.totalRevenue")&&t.targetCurrency&&vue.unref(qc).formatConverted(vue.unref(Bc)(o,"salesStats.totalRevenue"),t.targetCurrency)?(vue.openBlock(),vue.createElementBlock("div",Fh,vue.toDisplayString(vue.unref(qc).formatConverted(vue.unref(Bc)(o,"salesStats.totalRevenue"),t.targetCurrency)),1)):vue.createCommentVNode("",true)])):"totalBoothFee"===l.key?(vue.openBlock(),vue.createElementBlock("div",jh,[vue.createElementVNode("div",Uh,[vue.createVNode(Kc,{value:O(vue.unref(Bc)(o,"salesStats.totalBoothFee")||0),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&vue.unref(Bc)(o,"salesStats.totalBoothFee")&&t.targetCurrency&&vue.unref(qc).formatConverted(vue.unref(Bc)(o,"salesStats.totalBoothFee"),t.targetCurrency)?(vue.openBlock(),vue.createElementBlock("div",qh,vue.toDisplayString(vue.unref(qc).formatConverted(vue.unref(Bc)(o,"salesStats.totalBoothFee"),t.targetCurrency)),1)):vue.createCommentVNode("",true)])):"totalNetRevenue"===l.key?(vue.openBlock(),vue.createElementBlock("div",Hh,[vue.createElementVNode("div",zh,[vue.createVNode(Kc,{value:O(vue.unref(Bc)(o,"salesStats.totalNetRevenue")||0),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&vue.unref(Bc)(o,"salesStats.totalNetRevenue")&&t.targetCurrency&&vue.unref(qc).formatConverted(vue.unref(Bc)(o,"salesStats.totalNetRevenue"),t.targetCurrency)?(vue.openBlock(),vue.createElementBlock("div",$h,vue.toDisplayString(vue.unref(qc).formatConverted(vue.unref(Bc)(o,"salesStats.totalNetRevenue"),t.targetCurrency)),1)):vue.createCommentVNode("",true)])):"link"===l.key?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:8},[!n.userSettings?.privacyMode&&o.item.url?(vue.openBlock(),vue.createElementBlock("a",{key:0,href:o.item.url,target:"_blank",class:"item-link"}," 查看商品 ",8,Wh)):n.userSettings?.privacyMode?(vue.openBlock(),vue.createElementBlock("span",Yh," **** ")):(vue.openBlock(),vue.createElementBlock("span",Vh," 无链接 "))],64)):"action"===l.key?(vue.openBlock(),vue.createElementBlock("button",{key:9,class:"booth-btn booth-btn-primary booth-btn-sm",disabled:n.userSettings?.privacyMode||false,onClick:t=>(t=>{h.value=t,c.value=true;})(o)}," 查看详情 ",8,Gh)):vue.createCommentVNode("",true)]),pi:1},8,["data","config"]),vue.createVNode(Dh,{visible:c.value,title:"销量详情",size:"large",onClose:I},{default:vue.withCtx(()=>{return [h.value?(vue.openBlock(),vue.createElementBlock("div",Qh,[vue.createElementVNode("div",Xh,[vue.createElementVNode("div",Zh,[vue.createVNode(Mh,{"item-id":h.value.itemId,size:"60px","privacy-mode":t.userSettings?.privacyMode||false},null,8,["item-id","privacy-mode"])]),vue.createElementVNode("div",Jh,[vue.createElementVNode("div",Kh,[vue.createElementVNode("h4",null,vue.toDisplayString(t.userSettings?.privacyMode?"商品":h.value.item.name),1),vue.createElementVNode("span",tl,"ID: "+vue.toDisplayString(t.userSettings?.privacyMode?"****":h.value.itemId),1)]),vue.createElementVNode("div",el,[vue.createElementVNode("div",sl,[h.value.item.state?(vue.openBlock(),vue.createElementBlock("span",il,[f[2]||(f[2]=vue.createElementVNode("span",{class:"state-dot"},null,-1)),vue.createTextVNode(" "+vue.toDisplayString(t.userSettings?.privacyMode?"****":h.value.item.state),1)])):vue.createCommentVNode("",true),!t.userSettings?.privacyMode&&h.value.item.url?(vue.openBlock(),vue.createElementBlock("a",{key:1,href:h.value.item.url,target:"_blank",class:"item-link"}," 查看商品页面 ",8,nl)):vue.createCommentVNode("",true)]),h.value.item.favorites>0?(vue.openBlock(),vue.createElementBlock("div",rl,[vue.createElementVNode("span",al,[f[3]||(f[3]=vue.createElementVNode("svg",{class:"heart-icon",viewBox:"0 0 16 16",fill:"currentColor"},[vue.createElementVNode("path",{d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1)),vue.createVNode(Kc,{value:h.value.item.favorites||0,masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])])):vue.createCommentVNode("",true)])])]),vue.createElementVNode("div",ol,[vue.createElementVNode("div",cl,[f[4]||(f[4]=vue.createElementVNode("span",{class:"summary-label"},"总销量:",-1)),vue.createElementVNode("span",hl,[vue.createVNode(Kc,{value:h.value.salesStats.totalQuantity,masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])]),vue.createElementVNode("div",ll,[f[5]||(f[5]=vue.createElementVNode("span",{class:"summary-label"},"总收入:",-1)),vue.createElementVNode("span",ul,[vue.createVNode(Kc,{value:O(h.value.salesStats.totalRevenue),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])]),vue.createElementVNode("div",dl,[f[6]||(f[6]=vue.createElementVNode("span",{class:"summary-label"},"净收入:",-1)),vue.createElementVNode("span",fl,[vue.createVNode(Kc,{value:O(h.value.salesStats.totalNetRevenue),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])])]),h.value.item.variants&&h.value.item.variants.length>1?(vue.openBlock(),vue.createElementBlock("div",pl,[f[12]||(f[12]=vue.createElementVNode("h5",null,"变体销量详情",-1)),vue.createElementVNode("div",ml,[vue.createElementVNode("div",bl,[vue.createElementVNode("span",gl,[f[7]||(f[7]=vue.createTextVNode(" 变体数量: ",-1)),vue.createElementVNode("strong",null,[vue.createVNode(Kc,{value:h.value.item.variants.length,masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])]),vue.createElementVNode("span",yl,[f[8]||(f[8]=vue.createTextVNode(" 变体总销量: ",-1)),vue.createElementVNode("strong",null,[vue.createVNode(Kc,{value:(i=h.value.itemId,D(i).reduce((t,e)=>t+e.totalQuantity,0)),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])]),vue.createElementVNode("span",vl,[f[9]||(f[9]=vue.createTextVNode(" 变体总收入: ",-1)),vue.createElementVNode("strong",null,[vue.createVNode(Kc,{value:O(C(h.value.itemId)),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])])])]),vue.createElementVNode("div",kl,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(h.value.item.variants,i=>(vue.openBlock(),vue.createElementBlock("div",{key:i.name,class:"variant-item"},[vue.createElementVNode("div",wl,[vue.createElementVNode("div",xl,[vue.createElementVNode("span",Ml,vue.toDisplayString(t.userSettings?.privacyMode?"变体商品":i.name),1),t.userSettings?.privacyMode?vue.createCommentVNode("",true):(vue.openBlock(),vue.createElementBlock("span",_l," 变体价格: "+vue.toDisplayString(O(i.price)),1))])]),vue.createElementVNode("div",Tl,[vue.createElementVNode("span",Al,[f[10]||(f[10]=vue.createTextVNode(" 销量: ",-1)),vue.createVNode(Kc,{value:N(h.value.itemId,i.name)?.totalQuantity||0,masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])]),vue.createElementVNode("span",Sl,[f[11]||(f[11]=vue.createTextVNode(" 收入: ",-1)),vue.createVNode(Kc,{value:O(N(h.value.itemId,i.name)?.totalRevenue||0),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])])]))),128))])])):vue.createCommentVNode("",true)])):vue.createCommentVNode("",true)];var i;}),pi:1},8,["visible"])],64))}}),[["__scopeId","data-v-e9d2de24"]]),Dl=t=>{if(!t)return "";const e=t.split(" ");if(2!==e.length)return t;const[s,i]=e,[n,r,a]=s.split("-"),[o,c]=i.split(":");return `${r}/${a} ${o}:${c}`},Cl=(t,e)=>{if(!t||!e)return "";if("Asia/Tokyo"===e.timezone)return "";try{const s=((t,e)=>{try{const s=function(t,e){const s=()=>$(e?.in,NaN),i=function(t){const e={},s=t.split(gt.dateTimeDelimiter);let i;if(s.length>2)return e;if(/:/.test(s[0])?i=s[0]:(e.date=s[0],i=s[1],gt.timeZoneDelimiter.test(e.date)&&(e.date=t.split(gt.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){const t=gt.timezone.exec(i);t?(e.time=i.replace(t[1],""),e.timezone=t[1]):e.time=i;}return e}(t);let n;if(i.date){const t=function(t){const e=RegExp("^(?:(\\d{4}|[+-]\\d{6})|(\\d{2}|[+-]\\d{4})$)"),s=t.match(e);if(!s)return {year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,n=s[2]?parseInt(s[2]):null;return {year:null===n?i:100*n,restDateString:t.slice((s[1]||s[2]).length)}}(i.date);n=function(t,e){if(null===e)return new Date(NaN);const s=t.match(yt);if(!s)return new Date(NaN);const i=!!s[4],n=wt(s[1]),r=wt(s[2])-1,a=wt(s[3]),o=wt(s[4]),c=wt(s[5])-1;if(i)return function(t,e,s){return !(1>e||e>53||0>s||s>6)}(0,o,c)?function(t,e,s){const i=new Date(0);i.setUTCFullYear(t,0,4);const n=7*(e-1)+s+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+n),i}(e,o,c):new Date(NaN);{const t=new Date(0);return function(t,e,s){return !(0>e||e>11||1>s||s>(Mt[e]||(_t(t)?29:28)))}(e,r,a)&&function(t,e){return e>=1&&e<=(_t(t)?366:365)}(e,n)?(t.setUTCFullYear(e,r,Math.max(n,a)),t):new Date(NaN)}}(t.restDateString,t.year);}if(!n||isNaN(+n))return s();const r=+n;let a,o=0;if(i.time&&(o=function(t){const e=t.match(vt);if(!e)return NaN;const s=xt(e[1]),i=xt(e[2]),n=xt(e[3]);return function(t,e,s){return 24===t?0===e&&0===s:s>=0&&60>s&&e>=0&&60>e&&t>=0&&25>t}(s,i,n)?s*H+6e4*i+1e3*n:NaN}(i.time),isNaN(o)))return s();if(!i.timezone){const t=new Date(r+o),s=W(0,e?.in);return s.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),s.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),s}return a=function(t){if("Z"===t)return 0;const e=t.match(kt);if(!e)return 0;const s="+"===e[1]?-1:1,i=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&59>=e}(0,n)?s*(i*H+6e4*n):NaN}(i.timezone),isNaN(a)?s():W(r+o+a,e?.in)}(t+"+09:00");return lt(s)?te(s,e,"yyyy-MM-dd HH:mm:ss"):(kc.error("无效的JST时间格式:",t),t)}catch(s){return kc.error("时区转换失败:",s),t}})(t,e.timezone),[i,n]=s.split(" "),[r,a,o]=i.split("-"),[c,h]=n.split(":");return `${a}/${o} ${c}:${h} (${e.displayName})`}catch(s){return ""}},Nl={class:"item-name"},Il={class:"tooltip-header"},Ol=["src","alt"],Rl={key:1,class:"tooltip-icon-placeholder"},Pl={class:"tooltip-title"},Ll={class:"tooltip-content"},Bl={class:"tooltip-row"},Fl={class:"tooltip-value"},jl={class:"tooltip-row"},Ul={class:"tooltip-value"},ql={class:"tooltip-row"},Hl={class:"tooltip-value"},zl={class:"tooltip-row"},$l={class:"tooltip-value sales-highlight"},Wl={class:"tooltip-row"},Yl={class:"tooltip-value favorites-display"},Vl={class:"tooltip-row"},Gl=["href"],Ql={key:1,class:"tooltip-value"},Xl=Yc(vue.defineComponent({di:"ItemEntry",props:{item:{},size:{default:"20px"},allOrders:{},privacyMode:{type:Boolean,default:false}},setup(t){const i=t,n=vue.ref(false),r=vue.ref({x:0,y:0}),a=vue.computed(()=>{const t=Tc.getInstance(),e=t.getItem(i.item.itemId),s=t.getBoothItem(i.item.itemId);let n=0;return i.allOrders&&i.allOrders.forEach(t=>{t.items&&Array.isArray(t.items)&&t.items.forEach(t=>{t.itemId===i.item.itemId&&(n+=t.quantity);});}),{name:s?.name||e?.name||i.item.name,state:s?.state||e?.state||"",stateLabel:s?.state||e?.state_label||"",url:s?.url||e?.url||"",iconUrl:s?.iconUrl||e?.iconUrl||"",totalSales:n,favorites:s?.favorites||0}}),o=t=>{n.value=true,r.value={x:t.clientX+10,y:t.clientY-10};},h=()=>{n.value=false;};return (t,l)=>(vue.openBlock(),vue.createElementBlock("div",{class:"item-entry",onMouseenter:o,onMouseleave:h},[vue.createVNode(Mh,{itemId:t.item.itemId,size:t.size,"privacy-mode":i.privacyMode},null,8,["itemId","size","privacy-mode"]),vue.createElementVNode("span",Nl,[vue.createVNode(Kc,{value:t.item.name,masked:i.privacyMode,"mask-char":"商品"},null,8,["value","masked"]),l[0]||(l[0]=vue.createTextVNode(" × ",-1)),vue.createVNode(Kc,{value:t.item.quantity,masked:i.privacyMode},null,8,["value","masked"])]),n.value?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:"tooltip",style:vue.normalizeStyle({left:r.value.x+"px",top:r.value.y+"px"})},[vue.createElementVNode("div",Il,[!i.privacyMode&&a.value.iconUrl?(vue.openBlock(),vue.createElementBlock("img",{key:0,src:a.value.iconUrl,alt:a.value.name,class:"tooltip-icon"},null,8,Ol)):i.privacyMode?(vue.openBlock(),vue.createElementBlock("div",Rl,l[1]||(l[1]=[vue.createElementVNode("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},[vue.createElementVNode("rect",{width:"32",height:"32",rx:"4",fill:"#f3f4f6"}),vue.createElementVNode("path",{d:"M16 8c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z",fill:"#9ca3af"})],-1)]))):vue.createCommentVNode("",true),vue.createElementVNode("div",Pl,[vue.createVNode(Kc,{value:a.value.name,masked:i.privacyMode,"mask-char":"商品"},null,8,["value","masked"])])]),vue.createElementVNode("div",Ll,[vue.createElementVNode("div",Bl,[l[2]||(l[2]=vue.createElementVNode("span",{class:"tooltip-label"},"商品ID:",-1)),vue.createElementVNode("span",Fl,[vue.createVNode(Kc,{value:t.item.itemId,masked:i.privacyMode},null,8,["value","masked"])])]),vue.createElementVNode("div",jl,[l[3]||(l[3]=vue.createElementVNode("span",{class:"tooltip-label"},"状态:",-1)),vue.createElementVNode("span",Ul,[vue.createVNode(Kc,{value:a.value.stateLabel,masked:i.privacyMode},null,8,["value","masked"])])]),vue.createElementVNode("div",ql,[l[4]||(l[4]=vue.createElementVNode("span",{class:"tooltip-label"},"订单数量:",-1)),vue.createElementVNode("span",Hl,[vue.createVNode(Kc,{value:t.item.quantity,masked:i.privacyMode},null,8,["value","masked"])])]),vue.createElementVNode("div",zl,[l[5]||(l[5]=vue.createElementVNode("span",{class:"tooltip-label"},"总销量:",-1)),vue.createElementVNode("span",$l,[vue.createVNode(Kc,{value:a.value.totalSales,masked:i.privacyMode},null,8,["value","masked"])])]),vue.createElementVNode("div",Wl,[l[7]||(l[7]=vue.createElementVNode("span",{class:"tooltip-label"},"点赞数:",-1)),vue.createElementVNode("span",Yl,[l[6]||(l[6]=vue.createElementVNode("svg",{class:"heart-icon",viewBox:"0 0 16 16",fill:"currentColor"},[vue.createElementVNode("path",{d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1)),vue.createVNode(Kc,{value:a.value.favorites,masked:i.privacyMode},null,8,["value","masked"])])]),vue.createElementVNode("div",Vl,[l[8]||(l[8]=vue.createElementVNode("span",{class:"tooltip-label"},"链接:",-1)),!i.privacyMode&&a.value.url?(vue.openBlock(),vue.createElementBlock("a",{key:0,href:a.value.url,target:"_blank",class:"tooltip-link"}," 查看商品 ",8,Gl)):i.privacyMode?(vue.openBlock(),vue.createElementBlock("span",Ql,"****")):vue.createCommentVNode("",true)])])],4)):vue.createCommentVNode("",true)],32))}}),[["__scopeId","data-v-bc9a52c5"]]),Zl={key:0,class:"order-number"},Jl={key:1,class:"date-cell"},Kl={class:"date-main"},tu={key:0,class:"date-converted"},eu={key:2,class:"items"},su={key:0,class:"item-list"},iu={key:1,class:"no-items"},nu={key:3,class:"payment-method"},ru={key:4,class:"price-cell"},au={class:"price-main"},ou={key:0,class:"price-converted"},cu={key:5,class:"booth-fee-cell"},hu={class:"price-main"},lu={key:0,class:"price-converted"},uu={key:6,class:"net-amount-cell"},du={class:"price-main"},fu={key:0,class:"price-converted"},pu=Yc(vue.defineComponent({di:"index",props:{orders:{},targetCurrency:{},userSettings:{}},setup(t){const n=t,c=[{key:"orderNumber",label:"订单编号",width:"120px"},{key:"createdAt",label:"订单时间",width:"192px"},{key:"items",label:"商品",width:"300px"},{key:"paymentMethod",label:"支付方式",width:"120px"},{key:"totalPrice",label:"金额",width:"120px"},{key:"boothFee",label:"手续费",width:"120px"},{key:"netAmount",label:"净收入",width:"120px"}],h=t=>"¥"+ie(t.totalPrice,t.createdAt).toLocaleString(),l=vue.computed(()=>({pageSize:50,privacyMode:n.userSettings?.privacyMode||false,scrollable:false,showPagination:true,getItemKey:t=>t.orderNumber})),p={title:"订单列表",itemLabel:"条订单",emptyIcon:"📋",emptyText:"暂无订单数据",emptyHint:"请先加载数据或调整筛选条件"};return (t,f)=>(vue.openBlock(),vue.createBlock(yh,{data:t.orders,columns:c,config:l.value,display:p},{cell:vue.withCtx(({item:c,column:l})=>{return ["orderNumber"===l.key?(vue.openBlock(),vue.createElementBlock("span",Zl,[vue.createVNode(Kc,{value:c.orderNumber,masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])])):"createdAt"===l.key?(vue.openBlock(),vue.createElementBlock("div",Jl,[vue.createElementVNode("div",Kl,[vue.createVNode(Kc,{value:vue.unref(Dl)(c.createdAt),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&t.userSettings&&vue.unref(Cl)(c.createdAt,t.userSettings)?(vue.openBlock(),vue.createElementBlock("div",tu,vue.toDisplayString(vue.unref(Cl)(c.createdAt,t.userSettings)),1)):vue.createCommentVNode("",true)])):"items"===l.key?(vue.openBlock(),vue.createElementBlock("div",eu,[c.items&&c.items.length>0?(vue.openBlock(),vue.createElementBlock("div",su,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(c.items,e=>(vue.openBlock(),vue.createBlock(Xl,{key:e.id,item:e,"all-orders":t.orders,size:"20px","privacy-mode":n.userSettings?.privacyMode||false},null,8,["item","all-orders","privacy-mode"]))),128))])):(vue.openBlock(),vue.createElementBlock("div",iu," 无商品信息 "))])):"paymentMethod"===l.key?(vue.openBlock(),vue.createElementBlock("span",nu,[vue.createVNode(Kc,{value:c.paymentMethod,masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])])):"totalPrice"===l.key?(vue.openBlock(),vue.createElementBlock("div",ru,[vue.createElementVNode("div",au,[vue.createVNode(Kc,{value:vue.unref(qc).formatJPY(c.totalPrice||0),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&c.totalPrice&&t.targetCurrency&&vue.unref(qc).formatConverted(c.totalPrice,t.targetCurrency)?(vue.openBlock(),vue.createElementBlock("div",ou,vue.toDisplayString(vue.unref(qc).formatConverted(c.totalPrice,t.targetCurrency)),1)):vue.createCommentVNode("",true)])):"boothFee"===l.key?(vue.openBlock(),vue.createElementBlock("div",cu,[vue.createElementVNode("div",hu,[vue.createVNode(Kc,{value:(f=c,"¥"+se(f.totalPrice,f.createdAt).toLocaleString()),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&c.totalPrice&&t.targetCurrency?(vue.openBlock(),vue.createElementBlock("div",lu,vue.toDisplayString(vue.unref(qc).formatConverted(vue.unref(se)(c.totalPrice,c.createdAt),t.targetCurrency)),1)):vue.createCommentVNode("",true)])):"netAmount"===l.key?(vue.openBlock(),vue.createElementBlock("div",uu,[vue.createElementVNode("div",du,[vue.createVNode(Kc,{value:h(c),masked:n.userSettings?.privacyMode||false},null,8,["value","masked"])]),!n.userSettings?.privacyMode&&c.totalPrice&&t.targetCurrency?(vue.openBlock(),vue.createElementBlock("div",fu,vue.toDisplayString(vue.unref(qc).formatConverted(vue.unref(ie)(c.totalPrice,c.createdAt),t.targetCurrency)),1)):vue.createCommentVNode("",true)])):vue.createCommentVNode("",true)];var f;}),pi:1},8,["data","config"]))}}),[["__scopeId","data-v-19177af7"]]),mu={timezone:"Asia/Shanghai",displayName:"中国标准时间",targetCurrency:"CNY",privacyMode:false,mondayAsFirstDay:true,defaultTimeFilter:"all"},bu=[{value:"Asia/Shanghai",label:"中国标准时间 (UTC+8)"},{value:"Asia/Tokyo",label:"日本标准时间 (UTC+9)"},{value:"America/New_York",label:"美国东部时间 (UTC-5)"},{value:"America/Los_Angeles",label:"美国太平洋时间 (UTC-8)"},{value:"Europe/London",label:"英国时间 (UTC+0)"},{value:"Europe/Paris",label:"欧洲中部时间 (UTC+1)"},{value:"Asia/Seoul",label:"韩国标准时间 (UTC+9)"},{value:"Asia/Singapore",label:"新加坡时间 (UTC+8)"},{value:"Australia/Sydney",label:"澳大利亚东部时间 (UTC+10)"},{value:"UTC",label:"协调世界时 (UTC+0)"}],gu=[{value:"CNY",label:"人民币 (CNY)",symbol:"¥"},{value:"JPY",label:"日元 (JPY)",symbol:"¥"},{value:"USD",label:"美元 (USD)",symbol:"$"},{value:"EUR",label:"欧元 (EUR)",symbol:"€"},{value:"GBP",label:"英镑 (GBP)",symbol:"£"},{value:"KRW",label:"韩元 (KRW)",symbol:"₩"},{value:"HKD",label:"港币 (HKD)",symbol:"HK$"},{value:"TWD",label:"台币 (TWD)",symbol:"NT$"}];class yu{static SETTINGS_KEY="booth_order_analysis_settings";static getSettings(){try{const t=wc(this.SETTINGS_KEY,null);if(t&&"object"==typeof t)return {...mu,...t}}catch(t){kc.error("读取设置失败:",t);}return {...mu}}static saveSettings(t){try{xc(this.SETTINGS_KEY,t),kc.info("设置已保存");}catch(e){kc.error("保存设置失败:",e);}}static updateSettings(t){const e={...this.getSettings(),...t};this.saveSettings(e);}static resetSettings(){this.saveSettings(mu),kc.info("设置已重置为默认值");}}const vu={class:"settings-content"},ku={class:"setting-section"},wu={class:"setting-item"},xu=["value"],Mu={class:"current-time"},_u={class:"setting-section"},Tu={class:"setting-item"},Au=["value"],Su={class:"exchange-rate-info"},Eu={class:"update-time"},Du={class:"setting-section"},Cu={class:"setting-description"},Nu={class:"setting-section"},Iu={class:"setting-item"},Ou={class:"booth-toggle"},Ru={class:"setting-section"},Pu={class:"setting-item"},Lu={class:"booth-toggle"},Bu={class:"setting-item"},Fu=["value"],ju={class:"setting-section"},Uu={class:"setting-actions"},qu=["disabled"],Hu=Yc(vue.defineComponent({di:"index",props:{visible:{type:Boolean}},emits:["close","settings-changed"],setup(t,{emit:n}){const c=n,h=vue.ref({timezone:"Asia/Shanghai",displayName:"中国标准时间",targetCurrency:"CNY",privacyMode:false,mondayAsFirstDay:true,defaultTimeFilter:"thisWeek"}),l=vue.ref(false),u=()=>{h.value=yu.getSettings();},p=async()=>{l.value=true;try{yu.saveSettings(h.value),c("settings-changed",h.value),setTimeout(()=>{l.value=!1;},1e3);}catch(t){l.value=false;}},m=()=>{yu.resetSettings(),u(),c("settings-changed",h.value);},g=t=>{const e=t.target,s=bu.find(t=>t.value===e.value);s&&(h.value.timezone=s.value,h.value.displayName=s.label.split(" ")[0]),c("settings-changed",h.value);},k=vue.computed(()=>{const t=h.value.targetCurrency;if("JPY"===t)return "¥1.0000";const e=qc.getExchangeRateSync(t);return `${gu.find(e=>e.value===t)?.symbol||""}${e?.toFixed(4)||"0.0000"}`}),x=vue.computed(()=>{const t=qc.getCacheStatus();return t.updateTime?"更新时间: "+t.updateTime:"实时更新"}),M=()=>{c("settings-changed",h.value);},S=()=>{c("settings-changed",h.value);},E=()=>{c("settings-changed",h.value);},D=()=>{c("settings-changed",h.value);},C=()=>{c("close");};return vue.onMounted(()=>{u();}),(t,n)=>(vue.openBlock(),vue.createBlock(Dh,{visible:t.visible,title:"设置",size:"medium",onClose:C},{default:vue.withCtx(()=>[vue.createElementVNode("div",vu,[vue.createElementVNode("div",ku,[n[6]||(n[6]=vue.createElementVNode("h3",null,"时区设置",-1)),n[7]||(n[7]=vue.createElementVNode("p",{class:"setting-description"}," 选择您的时区，系统会将Booth的JST时间转换为您的本地时间显示。 ",-1)),vue.createElementVNode("div",wu,[n[5]||(n[5]=vue.createElementVNode("label",{for:"timezone-select"},"时区：",-1)),vue.withDirectives(vue.createElementVNode("select",{id:"timezone-select","onUpdate:modelValue":n[0]||(n[0]=t=>h.value.timezone=t),onChange:g,class:"timezone-select"},[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(bu),t=>(vue.openBlock(),vue.createElementBlock("option",{key:t.value,value:t.value},vue.toDisplayString(t.label),9,xu))),128))],544),[[vue.vModelSelect,h.value.timezone]])]),vue.createElementVNode("div",Mu,[vue.createElementVNode("span",null,"当前时间："+vue.toDisplayString((new Date).toLocaleString("zh-CN",{timeZone:h.value.timezone})),1)])]),vue.createElementVNode("div",_u,[n[9]||(n[9]=vue.createElementVNode("h3",null,"货币设置",-1)),n[10]||(n[10]=vue.createElementVNode("p",{class:"setting-description"}," 选择目标货币，系统会将日元金额转换为您选择的货币显示。 ",-1)),vue.createElementVNode("div",Tu,[n[8]||(n[8]=vue.createElementVNode("label",{for:"currency-select"},"目标货币：",-1)),vue.withDirectives(vue.createElementVNode("select",{id:"currency-select","onUpdate:modelValue":n[1]||(n[1]=t=>h.value.targetCurrency=t),onChange:S,class:"currency-select"},[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(gu),t=>(vue.openBlock(),vue.createElementBlock("option",{key:t.value,value:t.value},vue.toDisplayString(t.label),9,Au))),128))],544),[[vue.vModelSelect,h.value.targetCurrency]])]),vue.createElementVNode("div",Su,[vue.createElementVNode("span",null,"当前汇率：1 JPY = "+vue.toDisplayString(k.value),1),vue.createElementVNode("span",Eu,vue.toDisplayString(x.value),1)])]),vue.createElementVNode("div",Du,[n[11]||(n[11]=vue.createElementVNode("h3",null,"手续费说明",-1)),vue.createElementVNode("p",Cu," Booth平台手续费计算公式："+vue.toDisplayString(vue.unref(ne)()),1),n[12]||(n[12]=vue.createElementVNode("div",{class:"fee-info"},[vue.createElementVNode("p",null,"系统将根据订单日期自动选择适用的费率计算手续费和净收入。"),vue.createElementVNode("p",null,"计算公式：手续费 = ⌈订单金额 × 5.6%⌉ + 固定金额"),vue.createElementVNode("p",null,"改定前（2025-10-28之前）：固定金额 ¥22"),vue.createElementVNode("p",null,"改定后（2025-10-28之后）：固定金额 ¥45")],-1))]),vue.createElementVNode("div",Nu,[n[15]||(n[15]=vue.createElementVNode("h3",null,"隐私设置",-1)),n[16]||(n[16]=vue.createElementVNode("p",{class:"setting-description"},' 开启隐私模式后，所有敏感信息（订单数量、订单编号、金额）将显示为 "*"。 ',-1)),vue.createElementVNode("div",Iu,[vue.createElementVNode("label",Ou,[vue.withDirectives(vue.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=t=>h.value.privacyMode=t),onChange:M},null,544),[[vue.vModelCheckbox,h.value.privacyMode]]),n[13]||(n[13]=vue.createElementVNode("span",{class:"toggle-slider"},null,-1)),n[14]||(n[14]=vue.createElementVNode("span",{class:"toggle-label"},"隐私模式",-1))])])]),vue.createElementVNode("div",Ru,[n[20]||(n[20]=vue.createElementVNode("h3",null,"时间设置",-1)),n[21]||(n[21]=vue.createElementVNode("p",{class:"setting-description"},' 选择一周的第一天，影响"本周"和"上周"的时间范围计算。 ',-1)),vue.createElementVNode("div",Pu,[vue.createElementVNode("label",Lu,[vue.withDirectives(vue.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":n[3]||(n[3]=t=>h.value.mondayAsFirstDay=t),onChange:E},null,544),[[vue.vModelCheckbox,h.value.mondayAsFirstDay]]),n[17]||(n[17]=vue.createElementVNode("span",{class:"toggle-slider"},null,-1)),n[18]||(n[18]=vue.createElementVNode("span",{class:"toggle-label"},"以周一起始",-1))])]),vue.createElementVNode("div",Bu,[n[19]||(n[19]=vue.createElementVNode("label",{for:"default-time-filter"},"默认时间筛选：",-1)),vue.withDirectives(vue.createElementVNode("select",{id:"default-time-filter","onUpdate:modelValue":n[4]||(n[4]=t=>h.value.defaultTimeFilter=t),onChange:D,class:"time-filter-select"},[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(Ac).getAvailablePeriods().filter(t=>"custom"!==t.value),t=>(vue.openBlock(),vue.createElementBlock("option",{key:t.value,value:t.value},vue.toDisplayString(t.label),9,Fu))),128))],544),[[vue.vModelSelect,h.value.defaultTimeFilter]])]),n[22]||(n[22]=vue.createElementVNode("p",{class:"setting-description"}," 设置打开页面时默认显示的时间筛选选项。 ",-1))]),vue.createElementVNode("div",ju,[n[23]||(n[23]=vue.createElementVNode("h3",null,"数据管理",-1)),vue.createElementVNode("div",Uu,[vue.createElementVNode("button",{onClick:p,disabled:l.value,class:"booth-btn booth-btn-success booth-btn-md"},vue.toDisplayString(l.value?"保存中...":"保存设置"),9,qu),vue.createElementVNode("button",{onClick:m,class:"booth-btn booth-btn-secondary booth-btn-md"},"重置为默认")])])])]),pi:1},8,["visible"]))}}),[["__scopeId","data-v-7495013f"]]),zu={class:"date-filter"},$u={class:"filter-header"},Wu={class:"current-period"},Yu={class:"filter-controls"},Vu={class:"date-picker-content"},Gu={class:"date-input-group"},Qu={class:"date-input-group"},Xu=["disabled"],Zu=Yc(vue.defineComponent({di:"DateFilter",props:{modelValue:{},customRange:{},userSettings:{}},emits:["update:modelValue","update:customRange"],setup(t,{emit:i}){const n=t,a=i,o=vue.ref(n.modelValue||"thisWeek"),c=vue.ref(false),h=vue.ref(false),l=vue.ref(""),f=vue.ref(""),p=Ac.getAvailablePeriods().map(t=>({value:t.value,label:t.label})),m=t=>{if("string"==typeof t||"number"==typeof t){const e=t;o.value=e;}};vue.watch(o,t=>{a("update:modelValue",t),"custom"===t?(c.value=true,h.value=true):(c.value=false,h.value=false);}),vue.watch(()=>n.userSettings?.defaultTimeFilter,t=>{t&&t!==o.value&&(o.value=t);},{immediate:true});const k=()=>{h.value=false,l.value&&f.value||(o.value="all",c.value=false);},w=()=>{if(l.value&&f.value){const t={startDate:l.value,endDate:f.value};a("update:customRange",t),h.value=false;}};return (t,i)=>(vue.openBlock(),vue.createElementBlock("div",zu,[vue.createElementVNode("div",$u,[i[3]||(i[3]=vue.createElementVNode("h4",null,"时间筛选",-1)),vue.createElementVNode("span",Wu,vue.toDisplayString("custom"===o.value&&n.customRange?Ac.formatDateRange("custom",n.customRange,n.userSettings):Ac.getPeriodDisplayName(o.value)),1)]),vue.createElementVNode("div",Yu,[vue.createVNode(Oh,{options:vue.unref(p),"model-value":o.value,"onUpdate:modelValue":m,class:"period-selector"},null,8,["options","model-value"]),vue.createVNode(Dh,{visible:h.value,title:"选择日期范围",size:"small",onClose:k,"onUpdate:visible":i[2]||(i[2]=t=>h.value=t)},{footer:vue.withCtx(()=>[vue.createElementVNode("button",{onClick:k,class:"booth-btn booth-btn-secondary booth-btn-md"},"取消"),vue.createElementVNode("button",{onClick:w,class:"booth-btn booth-btn-success booth-btn-md",disabled:!l.value||!f.value}," 应用 ",8,Xu)]),default:vue.withCtx(()=>[vue.createElementVNode("div",Vu,[vue.createElementVNode("div",Gu,[i[4]||(i[4]=vue.createElementVNode("label",null,"开始日期：",-1)),vue.withDirectives(vue.createElementVNode("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),type:"date",class:"date-input"},null,512),[[vue.vModelText,l.value]])]),vue.createElementVNode("div",Qu,[i[5]||(i[5]=vue.createElementVNode("label",null,"结束日期：",-1)),vue.withDirectives(vue.createElementVNode("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>f.value=t),type:"date",class:"date-input"},null,512),[[vue.vModelText,f.value]])])])]),pi:1},8,["visible"])])]))}}),[["__scopeId","data-v-b0951009"]]),Ju={class:"item-ranking"},Ku={class:"ranking-header"},td={class:"ranking-controls"},ed={class:"ranking-list"},sd={class:"product-info"},id={class:"product-icon"},nd={class:"product-details"},rd={class:"product-name"},ad=["href"],od={key:1,class:"product-link"},cd={class:"sales-data"},hd={class:"quantity"},ld={class:"quantity-label"},ud={class:"quantity-value"},dd={key:0,class:"empty-state"},fd=Yc(vue.defineComponent({di:"ItemRanking",props:{productData:{},targetCurrency:{},maxItems:{default:10},userSettings:{}},setup(t){const n=t,c=vue.ref("quantity"),l=Tc.getInstance(),p=[{value:"quantity",label:"销量"},{value:"revenue",label:"收入"}],g=t=>{"string"!=typeof t&&"number"!=typeof t||(c.value=t);},y=vue.computed(()=>{const t=[...n.productData];return "quantity"===c.value?t.sort((t,e)=>e.totalQuantity-t.totalQuantity):t.sort((t,e)=>e.totalRevenue-t.totalRevenue)}),v=vue.computed(()=>y.value.slice(0,n.maxItems));return (t,n)=>(vue.openBlock(),vue.createElementBlock("div",Ju,[vue.createElementVNode("div",Ku,[n[0]||(n[0]=vue.createElementVNode("h4",null,"商品排行",-1)),vue.createElementVNode("div",td,[vue.createVNode(Oh,{options:p,"model-value":c.value,"onUpdate:modelValue":g,class:"sort-selector"},null,8,["model-value"])])]),vue.createElementVNode("div",ed,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(v.value,(n,a)=>{return vue.openBlock(),vue.createElementBlock("div",{key:n.itemId,class:"ranking-item"},[vue.createElementVNode("div",{class:vue.normalizeClass(["rank-badge","rank-"+(a+1)])},vue.toDisplayString(a+1),3),vue.createElementVNode("div",sd,[vue.createElementVNode("div",id,[vue.createVNode(Mh,{"item-id":n.itemId,size:"28px","privacy-mode":t.userSettings?.privacyMode||false},null,8,["item-id","privacy-mode"])]),vue.createElementVNode("div",nd,[vue.createElementVNode("div",rd,[t.userSettings?.privacyMode?(vue.openBlock(),vue.createElementBlock("span",od,[vue.createVNode(Kc,{value:n.name,masked:t.userSettings?.privacyMode||false,"mask-char":"商品"},null,8,["value","masked"])])):(vue.openBlock(),vue.createElementBlock("a",{key:0,href:(f=n.itemId,l.getItemUrl(f)),target:"_blank",class:"product-link"},[vue.createVNode(Kc,{value:n.name,masked:t.userSettings?.privacyMode||false,"mask-char":"商品"},null,8,["value","masked"])],8,ad))])])]),vue.createElementVNode("div",cd,[vue.createElementVNode("div",hd,[vue.createElementVNode("span",ld,vue.toDisplayString("quantity"===c.value?"销量":"收入"),1),vue.createElementVNode("span",ud,["quantity"===c.value?(vue.openBlock(),vue.createBlock(Kc,{key:0,value:n.totalQuantity,masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])):(vue.openBlock(),vue.createBlock(Kc,{key:1,value:(o=n.totalRevenue,qc.formatCurrencyWithCode(o,"JPY")),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"]))])])])]);var o,f;}),128))]),0===v.value.length?(vue.openBlock(),vue.createElementBlock("div",dd,n[1]||(n[1]=[vue.createElementVNode("div",{class:"empty-icon"},"📦",-1),vue.createElementVNode("div",{class:"empty-text"},"暂无商品数据",-1)]))):vue.createCommentVNode("",true)]))}}),[["__scopeId","data-v-86224ee7"]]);function pd(t){return t+.5|0}const md=(t,e,s)=>Math.max(Math.min(t,s),e);function bd(t){return md(pd(2.55*t),0,255)}function gd(t){return md(pd(255*t),0,255)}function yd(t){return md(pd(t/2.55)/100,0,1)}function vd(t){return md(pd(100*t),0,100)}const kd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wd=[..."0123456789ABCDEF"],xd=t=>wd[15&t],Md=t=>wd[(240&t)>>4]+wd[15&t],_d=t=>(240&t)>>4==(15&t),Td=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ad(t,e,s){const i=e*Math.min(s,1-s),n=(e,n=(e+t/30)%12)=>s-i*Math.max(Math.min(n-3,9-n,1),-1);return [n(0),n(8),n(4)]}function Sd(t,e,s){const i=(i,n=(i+t/60)%6)=>s-s*e*Math.max(Math.min(n,4-n,1),0);return [i(5),i(3),i(1)]}function Ed(t,e,s){const i=Ad(t,1,.5);let n;for(e+s>1&&(n=1/(e+s),e*=n,s*=n),n=0;3>n;n++)i[n]*=1-e-s,i[n]+=e;return i}function Dd(t){const e=t.r/255,s=t.g/255,i=t.b/255,n=Math.max(e,s,i),r=Math.min(e,s,i),a=(n+r)/2;let o,c,h;return n!==r&&(h=n-r,c=a>.5?h/(2-n-r):h/(n+r),o=function(t,e,s,i,n){return t===n?(e-s)/i+(s>e?6:0):e===n?(s-t)/i+2:(t-e)/i+4}(e,s,i,h,n),o=60*o+.5),[0|o,c||0,a]}function Cd(t,e,s,i){return (Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,i)).map(gd)}function Nd(t,e,s){return Cd(Ad,t,e,s)}function Id(t){return (t%360+360)%360}const Od={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Pd;const Ld=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Bd=t=>t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,Fd=t=>t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92;function jd(t,e,s){if(t){let i=Dd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*s,0===e?360:1)),i=Nd(i),t.r=i[0],t.g=i[1],t.b=i[2];}}function Ud(t,e){return t?Object.assign(e||{},t):t}function qd(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?3>t.length||(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=gd(t[3]))):(e=Ud(t,{r:0,g:0,b:0,a:1})).a=gd(e.a),e}class Hd{constructor(t){if(t instanceof Hd)return t;const e=typeof t;let s;var i,n,r;"object"===e?s=qd(t):"string"===e&&(r=(i=t).length,"#"===i[0]&&(4===r||5===r?n={r:255&17*kd[i[1]],g:255&17*kd[i[2]],b:255&17*kd[i[3]],a:5===r?17*kd[i[4]]:255}:7!==r&&9!==r||(n={r:kd[i[1]]<<4|kd[i[2]],g:kd[i[3]]<<4|kd[i[4]],b:kd[i[5]]<<4|kd[i[6]],a:9===r?kd[i[7]]<<4|kd[i[8]]:255})),s=n||function(t){Pd||(Pd=function(){const t={},e=Object.keys(Rd),s=Object.keys(Od);let i,n,r,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],n=0;n<s.length;n++)r=s[n],o=o.replace(r,Od[r]);r=parseInt(Rd[a],16),t[o]=[r>>16&255,r>>8&255,255&r];}return t}(),Pd.transparent=[0,0,0,0]);const e=Pd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(t)||function(t){return "r"===t.charAt(0)?function(t){const e=Ld.exec(t);let s,i,n,r=255;if(e){if(e[7]!==s){const t=+e[7];r=e[8]?bd(t):md(255*t,0,255);}return s=+e[1],i=+e[3],n=+e[5],s=255&(e[2]?bd(s):md(s,0,255)),i=255&(e[4]?bd(i):md(i,0,255)),n=255&(e[6]?bd(n):md(n,0,255)),{r:s,g:i,b:n,a:r}}}(t):function(t){const e=Td.exec(t);let s,i=255;if(!e)return;e[5]!==s&&(i=e[6]?bd(+e[5]):gd(+e[5]));const n=Id(+e[2]),r=+e[3]/100,a=+e[4]/100;return s="hwb"===e[1]?function(t,e,s){return Cd(Ed,t,e,s)}(n,r,a):"hsv"===e[1]?function(t,e,s){return Cd(Sd,t,e,s)}(n,r,a):Nd(n,r,a),{r:s[0],g:s[1],b:s[2],a:i}}(t)}(t)),this.mi=s,this.bi=!!s;}get valid(){return this.bi}get rgb(){var t=Ud(this.mi);return t&&(t.a=yd(t.a)),t}set rgb(t){this.mi=qd(t);}rgbString(){return this.bi?(t=this.mi)&&(255>t.a?`rgba(${t.r}, ${t.g}, ${t.b}, ${yd(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t;}hexString(){return this.bi?(e=(t=>_d(t.r)&&_d(t.g)&&_d(t.b)&&_d(t.a))(t=this.mi)?xd:Md,t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>255>t?e(t):"")(t.a,e):void 0):void 0;var t,e;}hslString(){return this.bi?function(t){if(!t)return;const e=Dd(t),s=e[0],i=vd(e[1]),n=vd(e[2]);return 255>t.a?`hsla(${s}, ${i}%, ${n}%, ${yd(t.a)})`:`hsl(${s}, ${i}%, ${n}%)`}(this.mi):void 0}mix(t,e){if(t){const s=this.rgb,i=t.rgb;let n;const r=e===n?.5:e,a=2*r-1,o=s.a-i.a,c=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;n=1-c,s.r=255&c*s.r+n*i.r+.5,s.g=255&c*s.g+n*i.g+.5,s.b=255&c*s.b+n*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s;}return this}interpolate(t,e){return t&&(this.mi=function(t,e,s){const i=Fd(yd(t.r)),n=Fd(yd(t.g)),r=Fd(yd(t.b));return {r:gd(Bd(i+s*(Fd(yd(e.r))-i))),g:gd(Bd(n+s*(Fd(yd(e.g))-n))),b:gd(Bd(r+s*(Fd(yd(e.b))-r))),a:t.a+s*(e.a-t.a)}}(this.mi,t.mi,e)),this}clone(){return new Hd(this.rgb)}alpha(t){return this.mi.a=gd(t),this}clearer(t){return this.mi.a*=1-t,this}greyscale(){const t=this.mi,e=pd(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this.mi.a*=1+t,this}negate(){const t=this.mi;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jd(this.mi,2,t),this}darken(t){return jd(this.mi,2,-t),this}saturate(t){return jd(this.mi,1,t),this}desaturate(t){return jd(this.mi,1,-t),this}rotate(t){return function(t,e){var s=Dd(t);s[0]=Id(s[0]+e),s=Nd(s),t.r=s[0],t.g=s[1],t.b=s[2];}(this.mi,t),this}}function zd(){}const $d=(()=>{let t=0;return ()=>t++})();function Wd(t){return null==t}function Yd(t){if(Array.isArray&&Array.isArray(t))return  true;const e={}.toString.call(t);return "[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Vd(t){return null!==t&&"[object Object]"==={}.toString.call(t)}function Gd(t){return ("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Qd(t,e){return Gd(t)?t:e}function Xd(t,e){return void 0===t?e:t}const Zd=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Jd(t,e,s){if(t&&"function"==typeof t.call)return t.apply(s,e)}function Kd(t,e,s,i){let n,r,a;if(Yd(t))for(r=t.length,n=0;r>n;n++)e.call(s,t[n],n);else if(Vd(t))for(a=Object.keys(t),r=a.length,n=0;r>n;n++)e.call(s,t[a[n]],a[n]);}function tf(t,e){let s,i,n,r;if(!t||!e||t.length!==e.length)return  false;for(s=0,i=t.length;i>s;++s)if(n=t[s],r=e[s],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return  false;return  true}function ef(t){if(Yd(t))return t.map(ef);if(Vd(t)){const e=Object.create(null),s=Object.keys(t),i=s.length;let n=0;for(;i>n;++n)e[s[n]]=ef(t[s[n]]);return e}return t}function sf(t){return  -1===["__proto__","prototype","constructor"].indexOf(t)}function nf(t,e,s,i){if(!sf(t))return;const n=e[t],r=s[t];Vd(n)&&Vd(r)?rf(n,r,i):e[t]=ef(r);}function rf(t,e,s){const i=Yd(e)?e:[e],n=i.length;if(!Vd(t))return t;const r=(s=s||{}).merger||nf;let a;for(let o=0;n>o;++o){if(a=i[o],!Vd(a))continue;const e=Object.keys(a);for(let i=0,n=e.length;n>i;++i)r(e[i],t,a,s);}return t}function af(t,e){return rf(t,e,{merger:of})}function of(t,e,s){if(!sf(t))return;const i=e[t],n=s[t];Vd(i)&&Vd(n)?af(i,n):{}.hasOwnProperty.call(e,t)||(e[t]=ef(n));}const cf={"":t=>t,x:t=>t.x,y:t=>t.y};function hf(t,e){const s=cf[e]||(cf[e]=function(t){const e=function(t){const e=t.split("."),s=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}(t);return t=>{for(const s of e){if(""===s)break;t=t&&t[s];}return t}}(e));return s(t)}function lf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const uf=t=>void 0!==t,df=t=>"function"==typeof t,ff=(t,e)=>{if(t.size!==e.size)return  false;for(const s of t)if(!e.has(s))return  false;return  true},pf=Math.PI,mf=2*pf,bf=mf+pf,gf=1/0,yf=pf/180,vf=pf/2,kf=pf/4,wf=2*pf/3,xf=Math.log10,Mf=Math.sign;function _f(t,e,s){return s>Math.abs(t-e)}function Tf(t){const e=Math.round(t);t=_f(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(xf(t))),i=t/s;return (i>1?i>2?i>5?10:5:2:1)*s}function Af(t){return !function(t){return "symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Sf(t,e,s){let i,n,r;for(i=0,n=t.length;n>i;i++)r=t[i][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r));}function Ef(t){return t*(pf/180)}function Df(t){return t*(180/pf)}function Cf(t){if(!Gd(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function Nf(t,e){const s=e.x-t.x,i=e.y-t.y,n=Math.sqrt(s*s+i*i);let r=Math.atan2(i,s);return  -0.5*pf>r&&(r+=mf),{angle:r,distance:n}}function If(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Of(t,e){return (t-e+bf)%mf-pf}function Rf(t){return (t%mf+mf)%mf}function Pf(t,e,s,i){const n=Rf(t),r=Rf(e),a=Rf(s),o=Rf(r-n),c=Rf(a-n),h=Rf(n-r),l=Rf(n-a);return n===r||n===a||i&&r===a||o>c&&l>h}function Lf(t,e,s){return Math.max(e,Math.min(s,t))}function Bf(t,e,s,i=1e-6){return t>=Math.min(e,s)-i&&Math.max(e,s)+i>=t}function Ff(t,e,s){s=s||(s=>t[s]<e);let i,n=t.length-1,r=0;for(;n-r>1;)i=r+n>>1,s(i)?r=i:n=i;return {lo:r,hi:n}}const jf=(t,e,s,i)=>Ff(t,s,i?i=>{const n=t[i][e];return s>n||n===s&&t[i+1][e]===s}:i=>t[i][e]<s),Uf=(t,e,s)=>Ff(t,s,i=>t[i][e]>=s),qf=["push","pop","shift","splice","unshift"];function Hf(t,e){const s=t.gi;if(!s)return;const i=s.listeners,n=i.indexOf(e);-1!==n&&i.splice(n,1),i.length>0||(qf.forEach(e=>{delete t[e];}),delete t.gi);}function zf(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $f="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Wf(t,e){let s=[],i=false;return function(...n){s=n,i||(i=true,$f.call(window,()=>{i=false,t.apply(e,s);}));}}const Yf=t=>"start"===t?"left":"end"===t?"right":"center",Vf=(t,e,s)=>"start"===t?e:"end"===t?s:(e+s)/2;function Gf(t,e,s){const i=e.length;let n=0,r=i;if(t.yi){const{iScale:a,vScale:o,ki:c}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,l=a.axis,{min:u,max:d,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(n=Math.min(jf(c,l,u).lo,s?i:jf(e,l,a.getPixelForValue(u)).lo),h){const t=c.slice(0,n+1).reverse().findIndex(t=>!Wd(t[o.axis]));n-=Math.max(0,t);}n=Lf(n,0,i-1);}if(p){let t=Math.max(jf(c,a.axis,d,true).hi+1,s?0:jf(e,l,a.getPixelForValue(d),true).hi+1);if(h){const e=c.slice(t-1).findIndex(t=>!Wd(t[o.axis]));t+=Math.max(0,e);}r=Lf(t,n,i)-n;}else r=i-n;}return {start:n,count:r}}function Qf(t){const{xScale:e,yScale:s,wi:i}=t,n={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!i)return t.wi=n,true;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==s.min||i.ymax!==s.max;return Object.assign(i,n),r}const Xf=t=>0===t||1===t,Zf=(t,e,s)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*mf/s),Jf=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*mf/s)+1,Kf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>1>(t/=.5)?.5*t*t:-0.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>1>(t/=.5)?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*vf),easeOutSine:t=>Math.sin(t*vf),easeInOutSine:t=>-0.5*(Math.cos(pf*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Xf(t)?t:.5>t?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>1>t?-(Math.sqrt(1-t*t)-1):t,easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>1>(t/=.5)?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xf(t)?t:Zf(t,.075,.3),easeOutElastic:t=>Xf(t)?t:Jf(t,.075,.3),easeInOutElastic(t){const e=.1125;return Xf(t)?t:.5>t?.5*Zf(2*t,e,.45):.5+.5*Jf(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return (t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return 1>(t/=.5)?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Kf.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,s=2.75;return 1/s>t?e*t*t:2/s>t?e*(t-=1.5/s)*t+.75:2.5/s>t?e*(t-=2.25/s)*t+.9375:e*(t-=2.625/s)*t+.984375},easeInOutBounce:t=>.5>t?.5*Kf.easeInBounce(2*t):.5*Kf.easeOutBounce(2*t-1)+.5};function tp(t){if(t&&"object"==typeof t){const e=t.toString();return "[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return  false}function ep(t){return tp(t)?t:new Hd(t)}function sp(t){return tp(t)?t:new Hd(t).saturate(.5).darken(.1).hexString()}const ip=["x","y","borderWidth","radius","tension"],np=["color","borderColor","backgroundColor"],rp=new Map;function ap(t,e,s){return function(t,e){const s=t+JSON.stringify(e=e||{});let i=rp.get(s);return i||(i=new Intl.NumberFormat(t,e),rp.set(s,i)),i}(e,s).format(t)}const op={values:t=>Yd(t)?t:""+t,numeric(t,e,s){if(0===t)return "0";const i=this.chart.options.locale;let n,r=t;if(s.length>1){const e=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(1e-4>e||e>1e15)&&(n="scientific"),r=function(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return 1>Math.abs(s)||t===Math.floor(t)||(s=t-Math.floor(t)),s}(t,s);}const a=xf(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),ap(t,i,c)},logarithmic(t,e,s){if(0===t)return "0";const i=s[e].significand||t/Math.pow(10,Math.floor(xf(t)));return [1,2,3,5,10,15].includes(i)||e>.8*s.length?op.numeric.call(this,t,e,s):""}};var cp={formatters:op};const hp=Object.create(null),lp=Object.create(null);function up(t,e){if(!e)return t;const s=e.split(".");for(let i=0,n=s.length;n>i;++i){const e=s[i];t=t[e]||(t[e]=Object.create(null));}return t}function dp(t,e,s){return "string"==typeof e?rf(up(t,e),s):rf(up(t,""),e)}class fp{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>sp(e.backgroundColor),this.hoverBorderColor=(t,e)=>sp(e.borderColor),this.hoverColor=(t,e)=>sp(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:true,includeInvisible:false},this.maintainAspectRatio=true,this.onHover=null,this.onClick=null,this.parsing=true,this.plugins={},this.responsive=true,this.scale=void 0,this.scales={},this.showLine=true,this.drawActiveElementsOnTop=true,this.describe(t),this.apply(e);}set(t,e){return dp(this,t,e)}get(t){return up(this,t)}describe(t,e){return dp(lp,t,e)}override(t,e){return dp(hp,t,e)}route(t,e,s,i){const n=up(this,t),r=up(this,s),a="_"+e;Object.defineProperties(n,{[a]:{value:n[e],writable:true},[e]:{enumerable:true,get(){const t=this[a],e=r[i];return Vd(t)?Object.assign({},e,t):Xd(t,e)},set(t){this[a]=t;}}});}apply(t){t.forEach(t=>t(this));}}var pp=new fp({xi:t=>!t.startsWith("on"),Mi:t=>"events"!==t,hover:{_i:"interaction"},interaction:{xi:false,Mi:false}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_i:false,Mi:false,xi:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:np},numbers:{type:"number",properties:ip}}),t.describe("animations",{_i:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});},function(t){t.set("layout",{autoPadding:true,padding:{top:0,right:0,bottom:0,left:0}});},function(t){t.set("scale",{display:true,offset:false,reverse:false,beginAtZero:false,bounds:"ticks",clip:true,grace:0,grid:{display:true,lineWidth:1,drawOnChartArea:true,drawTicks:true,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:false},border:{display:true,dash:[],dashOffset:0,width:1},title:{display:false,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:false,textStrokeWidth:0,textStrokeColor:"",padding:3,display:true,autoSkip:true,autoSkipPadding:3,labelOffset:0,callback:cp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:false,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_i:false,xi:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,Mi:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_i:"scale"}),t.describe("scale.ticks",{xi:t=>"backdropPadding"!==t&&"callback"!==t,Mi:t=>"backdropPadding"!==t});}]);function mp(t,e,s,i,n){let r=e[n];return r||(r=e[n]=t.measureText(n).width,s.push(n)),r>i&&(i=r),i}function bp(t,e,s,i){let n=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const o=s.length;let c,h,l,u,d;for(c=0;o>c;c++)if(u=s[c],null==u||Yd(u)){if(Yd(u))for(h=0,l=u.length;l>h;h++)d=u[h],null==d||Yd(d)||(a=mp(t,n,r,a,d));}else a=mp(t,n,r,a,u);t.restore();const f=r.length/2;if(f>s.length){for(c=0;f>c;c++)delete n[r[c]];r.splice(0,f);}return a}function gp(t,e,s){const i=t.currentDevicePixelRatio,n=0!==s?Math.max(s/2,.5):0;return Math.round((e-n)*i)/i+n}function yp(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore());}function vp(t,e,s,i){kp(t,e,s,i,null);}function kp(t,e,s,i,n){let r,a,o,c,h,l,u,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let b=(p||0)*yf;if(f&&"object"==typeof f&&(r=f.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(s,i),t.rotate(b),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!isNaN(m)&&m>0){switch(t.beginPath(),f){default:n?t.ellipse(s,i,n/2,m,0,0,mf):t.arc(s,i,m,0,mf),t.closePath();break;case "triangle":l=n?n/2:m,t.moveTo(s+Math.sin(b)*l,i-Math.cos(b)*m),b+=wf,t.lineTo(s+Math.sin(b)*l,i-Math.cos(b)*m),b+=wf,t.lineTo(s+Math.sin(b)*l,i-Math.cos(b)*m),t.closePath();break;case "rectRounded":h=.516*m,c=m-h,a=Math.cos(b+kf)*c,u=Math.cos(b+kf)*(n?n/2-h:c),o=Math.sin(b+kf)*c,d=Math.sin(b+kf)*(n?n/2-h:c),t.arc(s-u,i-o,h,b-pf,b-vf),t.arc(s+d,i-a,h,b-vf,b),t.arc(s+u,i+o,h,b,b+vf),t.arc(s-d,i+a,h,b+vf,b+pf),t.closePath();break;case "rect":if(!p){c=Math.SQRT1_2*m,l=n?n/2:c,t.rect(s-l,i-c,2*l,2*c);break}b+=kf;case "rectRot":u=Math.cos(b)*(n?n/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,d=Math.sin(b)*(n?n/2:m),t.moveTo(s-u,i-o),t.lineTo(s+d,i-a),t.lineTo(s+u,i+o),t.lineTo(s-d,i+a),t.closePath();break;case "crossRot":b+=kf;case "cross":u=Math.cos(b)*(n?n/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,d=Math.sin(b)*(n?n/2:m),t.moveTo(s-u,i-o),t.lineTo(s+u,i+o),t.moveTo(s+d,i-a),t.lineTo(s-d,i+a);break;case "star":u=Math.cos(b)*(n?n/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,d=Math.sin(b)*(n?n/2:m),t.moveTo(s-u,i-o),t.lineTo(s+u,i+o),t.moveTo(s+d,i-a),t.lineTo(s-d,i+a),b+=kf,u=Math.cos(b)*(n?n/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,d=Math.sin(b)*(n?n/2:m),t.moveTo(s-u,i-o),t.lineTo(s+u,i+o),t.moveTo(s+d,i-a),t.lineTo(s-d,i+a);break;case "line":a=n?n/2:Math.cos(b)*m,o=Math.sin(b)*m,t.moveTo(s-a,i-o),t.lineTo(s+a,i+o);break;case "dash":t.moveTo(s,i),t.lineTo(s+Math.cos(b)*(n?n/2:m),i+Math.sin(b)*m);break;case  false:t.closePath();}t.fill(),e.borderWidth>0&&t.stroke();}}function wp(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function xp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip();}function Mp(t){t.restore();}function _p(t,e,s,i,n){if(!e)return t.lineTo(s.x,s.y);if("middle"===n){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y);}else "after"===n!=!!i?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y);}function Tp(t,e,s,i){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?s.cp2x:s.cp1x,i?s.cp2y:s.cp1y,s.x,s.y);}function Ap(t,e,s,i,n){if(n.strikethrough||n.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,o=e+r.actualBoundingBoxRight,c=s-r.actualBoundingBoxAscent,h=s+r.actualBoundingBoxDescent,l=n.strikethrough?(c+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,l),t.lineTo(o,l),t.stroke();}}function Sp(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s;}function Ep(t,e,s,i,n,r={}){const a=Yd(e)?e:[e],o=r.strokeWidth>0&&""!==r.strokeColor;let c,h;for(t.save(),t.font=n.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wd(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline);}(t,r),c=0;c<a.length;++c)h=a[c],r.backdrop&&Sp(t,r.backdrop),o&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Wd(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(h,s,i,r.maxWidth)),t.fillText(h,s,i,r.maxWidth),Ap(t,s,i,h,r),i+=+n.lineHeight;t.restore();}function Dp(t,e){const{x:s,y:i,w:n,h:r,radius:a}=e;t.arc(s+a.topLeft,i+a.topLeft,a.topLeft,1.5*pf,pf,true),t.lineTo(s,i+r-a.bottomLeft),t.arc(s+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,pf,vf,true),t.lineTo(s+n-a.bottomRight,i+r),t.arc(s+n-a.bottomRight,i+r-a.bottomRight,a.bottomRight,vf,0,true),t.lineTo(s+n,i+a.topRight),t.arc(s+n-a.topRight,i+a.topRight,a.topRight,0,-vf,true),t.lineTo(s+a.topLeft,i);}const Cp=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Np=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ip(t,e){const s=(""+t).match(Cp);if(!s||"normal"===s[1])return 1.2*e;switch(t=+s[2],s[3]){case "px":return t;case "%":t/=100;}return e*t}const Op=t=>+t||0;function Rp(t,e){const s={},i=Vd(e),n=i?Object.keys(e):e,r=Vd(t)?i?s=>Xd(t[s],t[e[s]]):e=>t[e]:()=>t;for(const a of n)s[a]=Op(r(a));return s}function Pp(t){return Rp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Lp(t){return Rp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Bp(t){const e=Pp(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fp(t,e){t=t||{},e=e||pp.font;let s=Xd(t.size,e.size);"string"==typeof s&&(s=parseInt(s,10));let i=Xd(t.style,e.style);i&&!(""+i).match(Np)&&(i=void 0);const n={family:Xd(t.family,e.family),lineHeight:Ip(Xd(t.lineHeight,e.lineHeight),s),size:s,style:i,weight:Xd(t.weight,e.weight),string:""};return n.string=function(t){return !t||Wd(t.size)||Wd(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(n),n}function jp(t,e,s,i){let n,r,a;for(n=0,r=t.length;r>n;++n)if(a=t[n],void 0!==a&&void 0!==a)return a}function Up(t,e){return Object.assign(Object.create(t),e)}function qp(t,e=[""],s,i,n=()=>t[0]){const r=s||t;void 0===i&&(i=Jp("_fallback",t));const a={[Symbol.toStringTag]:"Object",Ti:true,Ai:t,Si:r,_i:i,Ei:n,override:s=>qp([s,...t],e,r,i)};return new Proxy(a,{deleteProperty:(e,s)=>(delete e[s],delete e.Di,delete t[0][s],true),get:(s,i)=>Yp(s,i,()=>function(t,e,s,i){let n;for(const r of e)if(n=Jp($p(r,t),s),void 0!==n)return Wp(t,n)?Xp(s,i,t,n):n}(i,e,t,s)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t.Ai[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Kp(t).includes(e),ownKeys:t=>Kp(t),set(t,e,s){const i=t.Ci||(t.Ci=n());return t[e]=i[e]=s,delete t.Di,true}})}function Hp(t,e,s,i){const n={Ti:false,Ni:t,Ii:e,Oi:s,Ri:new Set,Pi:zp(t,i),setContext:e=>Hp(t,e,s,i),override:n=>Hp(t.override(n),e,s,i)};return new Proxy(n,{deleteProperty:(e,s)=>(delete e[s],delete t[s],true),get:(t,e,s)=>Yp(t,e,()=>function(t,e,s){const{Ni:i,Ii:n,Oi:r,Pi:a}=t;let o=i[e];return df(o)&&a.isScriptable(e)&&(o=function(t,e,s,i){const{Ni:n,Ii:r,Oi:a,Ri:o}=s;if(o.has(t))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(r,a||i);return o.delete(t),Wp(t,c)&&(c=Xp(n.Ai,n,t,c)),c}(e,o,t,s)),Yd(o)&&o.length&&(o=function(t,e,s,i){const{Ni:n,Ii:r,Oi:a,Pi:o}=s;if(void 0!==r.index&&i(t))return e[r.index%e.length];if(Vd(e[0])){const s=e,i=n.Ai.filter(t=>t!==s);e=[];for(const c of s){const s=Xp(i,n,t,c);e.push(Hp(s,r,a&&a[t],o));}}return e}(e,o,t,a.isIndexable)),Wp(e,o)&&(o=Hp(o,n,r&&r[e],a)),o}(t,e,s)),getOwnPropertyDescriptor:(e,s)=>e.Pi.allKeys?Reflect.has(t,s)?{enumerable:true,configurable:true}:void 0:Reflect.getOwnPropertyDescriptor(t,s),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,s)=>Reflect.has(t,s),ownKeys:()=>Reflect.ownKeys(t),set:(e,s,i)=>(t[s]=i,delete e[s],true)})}function zp(t,e={scriptable:true,indexable:true}){const{xi:s=e.scriptable,Mi:i=e.indexable,Li:n=e.allKeys}=t;return {allKeys:n,scriptable:s,indexable:i,isScriptable:df(s)?s:()=>s,isIndexable:df(i)?i:()=>i}}const $p=(t,e)=>t?t+lf(e):e,Wp=(t,e)=>Vd(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Yp(t,e,s){if({}.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=s();return t[e]=i,i}function Vp(t,e,s){return df(t)?t(e,s):t}const Gp=(t,e)=>true===t?e:"string"==typeof t?hf(e,t):void 0;function Qp(t,e,s,i,n){for(const r of e){const e=Gp(s,r);if(e){t.add(e);const r=Vp(e._i,s,n);if(void 0!==r&&r!==s&&r!==i)return r}else if(false===e&&void 0!==i&&s!==i)return null}return  false}function Xp(t,e,s,i){const n=e.Si,r=Vp(e._i,s,i),a=[...t,...n],o=new Set;o.add(i);let c=Zp(o,a,s,r||s,i);return null!==c&&(void 0===r||r===s||(c=Zp(o,a,r,c,i),null!==c))&&qp(Array.from(o),[""],n,r,()=>function(t,e,s){const i=t.Ei();e in i||(i[e]={});const n=i[e];return Yd(n)&&Vd(s)?s:n||{}}(e,s,i))}function Zp(t,e,s,i,n){for(;s;)s=Qp(t,e,s,i,n);return s}function Jp(t,e){for(const s of e){if(!s)continue;const e=s[t];if(void 0!==e)return e}}function Kp(t){let e=t.Di;return e||(e=t.Di=function(t){const e=new Set;for(const s of t)for(const t of Object.keys(s).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t.Ai)),e}function tm(t,e,s,i){const{iScale:n}=t,{key:r="r"}=this.Bi,a=Array(i);let o,c,h,l;for(o=0,c=i;c>o;++o)h=o+s,l=e[h],a[o]={r:n.parse(hf(l,r),h)};return a}const em=Number.EPSILON||1e-14,sm=(t,e)=>e<t.length&&!t[e].skip&&t[e],im=t=>"x"===t?"y":"x";function nm(t,e,s,i){const n=t.skip?e:t,r=e,a=s.skip?e:s,o=If(r,n),c=If(a,r);let h=o/(o+c),l=c/(o+c);h=isNaN(h)?0:h,l=isNaN(l)?0:l;const u=i*h,d=i*l;return {previous:{x:r.x-u*(a.x-n.x),y:r.y-u*(a.y-n.y)},next:{x:r.x+d*(a.x-n.x),y:r.y+d*(a.y-n.y)}}}function rm(t,e,s){return Math.max(Math.min(t,s),e)}function am(){return "undefined"!=typeof window&&"undefined"!=typeof document}function om(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function cm(t,e,s){let i;return "string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[s])):i=t,i}const hm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),lm=["top","right","bottom","left"];function um(t,e,s){const i={};s=s?"-"+s:"";for(let n=0;4>n;n++){const r=lm[n];i[r]=parseFloat(t[e+"-"+r+s])||0;}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function dm(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:i}=e,n=hm(s),r="border-box"===n.boxSizing,a=um(n,"padding"),o=um(n,"border","width"),{x:c,y:h,box:l}=function(t,e){const s=t.touches,i=s&&s.length?s[0]:t,{offsetX:n,offsetY:r}=i;let a,o,c=false;if(((t,e,s)=>!(0>=t&&0>=e||s&&s.shadowRoot))(n,r,t.target))a=n,o=r;else {const t=e.getBoundingClientRect();a=i.clientX-t.left,o=i.clientY-t.top,c=true;}return {x:a,y:o,box:c}}(t,s),u=a.left+(l&&o.left),d=a.top+(l&&o.top);let{width:f,height:p}=e;return r&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((c-u)/f*s.width/i),y:Math.round((h-d)/p*s.height/i)}}const fm=t=>Math.round(10*t)/10;function pm(t,e,s){const i=e||1,n=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(s||!a.style.height&&!a.style.width)&&(a.style.height=t.height+"px",a.style.width=t.width+"px"),(t.currentDevicePixelRatio!==i||a.height!==n||a.width!==r)&&(t.currentDevicePixelRatio=i,a.height=n,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),true)}const mm=function(){let t=false;try{const e={get passive(){return t=!0,!1}};am()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e));}catch(e){}return t}();function bm(t,e){const s=function(t,e){return hm(t).getPropertyValue(e)}(t,e),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gm(t,e,s,i){return {x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function ym(t,e,s,i){return {x:t.x+s*(e.x-t.x),y:"middle"===i?.5>s?t.y:e.y:"after"===i?1>s?t.y:e.y:s>0?e.y:t.y}}function vm(t,e,s,i){const n={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=gm(t,n,s),o=gm(n,r,s),c=gm(r,e,s),h=gm(a,o,s),l=gm(o,c,s);return gm(h,l,s)}function km(t,e,s){return t?function(t,e){return {x:s=>t+t+e-s,setWidth(t){e=t;},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,s):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function wm(t,e){let s,i;"ltr"!==e&&"rtl"!==e||(s=t.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=i);}function xm(t,e){ void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]));}function Mm(t){return "angle"===t?{between:Pf,compare:Of,normalize:Rf}:{between:Bf,compare:(t,e)=>t-e,normalize:t=>t}}function _m({start:t,end:e,count:s,loop:i,style:n}){return {start:t%s,end:e%s,loop:i&&(e-t+1)%s==0,style:n}}function Tm(t,e,s){if(!s)return [t];const{property:i,start:n,end:r}=s,a=e.length,{compare:o,between:c,normalize:h}=Mm(i),{start:l,end:u,loop:d,style:f}=function(t,e,s){const{property:i,start:n,end:r}=s,{between:a,normalize:o}=Mm(i),c=e.length;let h,l,{start:u,end:d,loop:f}=t;if(f){for(u+=c,d+=c,h=0,l=c;l>h&&a(o(e[u%c][i]),n,r);++h)u--,d--;u%=c,d%=c;}return u>d&&(d+=c),{start:u,end:d,loop:f,style:t.style}}(t,e,s),p=[];let m,b,g,y=false,v=null;const k=()=>y||c(n,g,m)&&0!==o(n,g),w=()=>!y||0===o(r,m)||c(r,g,m);for(let x=l,M=l;u>=x;++x)b=e[x%a],b.skip||(m=h(b[i]),m!==g&&(y=c(m,n,r),null===v&&k()&&(v=0===o(m,n)?x:M),null!==v&&w()&&(p.push(_m({start:v,end:x,loop:d,count:a,style:f})),v=null),M=x,g=m));return null!==v&&p.push(_m({start:v,end:u,loop:d,count:a,style:f})),p}function Am(t,e){const s=[],i=t.segments;for(let n=0;n<i.length;n++){const r=Tm(i[n],t.points,e);r.length&&s.push(...r);}return s}function Sm(t){return {backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Em(t,e){if(!e)return  false;const s=[],i=function(t,e){return tp(e)?(s.includes(e)||s.push(e),s.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Dm(t,e,s){return t.options.clip?t[s]:e[s]}function Cm(t,e){const s=e.Fi;if(s.disabled)return  false;const i=function(t,e){const{xScale:s,yScale:i}=t;return s&&i?{left:Dm(s,e,"left"),right:Dm(s,e,"right"),top:Dm(i,e,"top"),bottom:Dm(i,e,"bottom")}:e}(e,t.chartArea);return {left:false===s.left?0:i.left-(true===s.left?0:s.left),right:false===s.right?t.width:i.right+(true===s.right?0:s.right),top:false===s.top?0:i.top-(true===s.top?0:s.top),bottom:false===s.bottom?t.height:i.bottom+(true===s.bottom?0:s.bottom)}}class Nm{constructor(){this.ji=null,this.Ui=new Map,this.qi=false,this.Hi=void 0;}zi(t,e,s,i){const n=e.listeners[i],r=e.duration;n.forEach(i=>i({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(s-e.start,r)}));}$i(){this.ji||(this.qi=true,this.ji=$f.call(window,()=>{this.Wi(),this.ji=null,this.qi&&this.$i();}));}Wi(t=Date.now()){let e=0;this.Ui.forEach((s,i)=>{if(!s.running||!s.items.length)return;const n=s.items;let r,a=n.length-1,o=false;for(;a>=0;--a)r=n[a],r.Yi?(r.Vi>s.duration&&(s.duration=r.Vi),r.tick(t),o=true):(n[a]=n[n.length-1],n.pop());o&&(i.draw(),this.zi(i,s,t,"progress")),n.length||(s.running=false,this.zi(i,s,t,"complete"),s.initial=false),e+=n.length;}),this.Hi=t,0===e&&(this.qi=false);}Gi(t){const e=this.Ui;let s=e.get(t);return s||(s={running:false,initial:true,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this.Gi(t).listeners[e].push(s);}add(t,e){e&&e.length&&this.Gi(t).items.push(...e);}has(t){return this.Gi(t).items.length>0}start(t){const e=this.Ui.get(t);e&&(e.running=true,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e.Qi),0),this.$i());}running(t){if(!this.qi)return  false;const e=this.Ui.get(t);return !!(e&&e.running&&e.items.length)}stop(t){const e=this.Ui.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this.zi(t,e,Date.now(),"complete");}remove(t){return this.Ui.delete(t)}}var Im=new Nm;const Om="transparent",Rm={boolean:(t,e,s)=>s>.5?e:t,color(t,e,s){const i=ep(t||Om),n=i.valid&&ep(e||Om);return n&&n.valid?n.mix(i,s).hexString():e},number:(t,e,s)=>t+(e-t)*s};class Pm{constructor(t,e,s,i){const n=e[s];i=jp([t.to,i,n,t.from]);const r=jp([t.from,n,i]);this.Yi=true,this.Xi=t.fn||Rm[t.type||typeof r],this.Zi=Kf[t.easing]||Kf.linear,this.Js=Math.floor(Date.now()+(t.delay||0)),this.Qi=this.Vi=Math.floor(t.duration),this.Ji=!!t.loop,this.Ki=e,this.tn=s,this.en=r,this.sn=i,this.nn=void 0;}active(){return this.Yi}update(t,e,s){if(this.Yi){this.zi(false);const i=this.Ki[this.tn],n=s-this.Js,r=this.Qi-n;this.Js=s,this.Qi=Math.floor(Math.max(r,t.duration)),this.Vi+=n,this.Ji=!!t.loop,this.sn=jp([t.to,e,i,t.from]),this.en=jp([t.from,i,e]);}}cancel(){this.Yi&&(this.tick(Date.now()),this.Yi=false,this.zi(false));}tick(t){const e=t-this.Js,s=this.Qi,i=this.tn,n=this.en,r=this.Ji,a=this.sn;let o;if(this.Yi=n!==a&&(r||s>e),!this.Yi)return this.Ki[i]=a,void this.zi(true);0>e?this.Ki[i]=n:(o=e/s%2,o=r&&o>1?2-o:o,o=this.Zi(Math.min(1,Math.max(0,o))),this.Ki[i]=this.Xi(n,a,o));}wait(){const t=this.nn||(this.nn=[]);return new Promise((e,s)=>{t.push({res:e,rej:s});})}zi(t){const e=t?"res":"rej",s=this.nn||[];for(let i=0;i<s.length;i++)s[i][e]();}}class Lm{constructor(t,e){this.rn=t,this.an=new Map,this.configure(e);}configure(t){if(!Vd(t))return;const e=Object.keys(pp.animation),s=this.an;Object.getOwnPropertyNames(t).forEach(i=>{const n=t[i];if(!Vd(n))return;const r={};for(const t of e)r[t]=n[t];(Yd(n.properties)&&n.properties||[i]).forEach(t=>{t!==i&&s.has(t)||s.set(t,r);});});}cn(t,e){const s=e.options,i=function(t,e){if(!e)return;let s=t.options;if(s)return s.$shared&&(t.options=s=Object.assign({},s,{$shared:false,$animations:{}})),s;t.options=e;}(t,s);if(!i)return [];const n=this.hn(i,s);return s.$shared&&function(t,e){const s=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const e=t[i[n]];e&&e.active()&&s.push(e.wait());}return Promise.all(s)}(t.options.$animations,s).then(()=>{t.options=s;},()=>{}),n}hn(t,e){const s=this.an,i=[],n=t.$animations||(t.$animations={}),r=Object.keys(e),a=Date.now();let o;for(o=r.length-1;o>=0;--o){const c=r[o];if("$"===c.charAt(0))continue;if("options"===c){i.push(...this.cn(t,e));continue}const h=e[c];let l=n[c];const u=s.get(c);if(l){if(u&&l.active()){l.update(u,h,a);continue}l.cancel();}u&&u.duration?(n[c]=l=new Pm(u,t,c,h),i.push(l)):t[c]=h;}return i}update(t,e){if(0===this.an.size)return void Object.assign(t,e);const s=this.hn(t,e);return s.length?(Im.add(this.rn,s),true):void 0}}function Bm(t,e){const s=t&&t.options||{},i=s.reverse,n=void 0===s.min?e:0,r=void 0===s.max?e:0;return {start:i?r:n,end:i?n:r}}function Fm(t,e){const s=[],i=t.ln(e);let n,r;for(n=0,r=i.length;r>n;++n)s.push(i[n].index);return s}function jm(t,e,s,i={}){const n=t.keys,r="single"===i.mode;let a,o,c,h;if(null===e)return;let l=false;for(a=0,o=n.length;o>a;++a){if(c=+n[a],c===s){if(l=true,i.all)continue;break}h=t.values[c],Gd(h)&&(r||0===e||Mf(e)===Mf(h))&&(e+=h);}return l||i.all?e:0}function Um(t,e){const s=t&&t.options.stacked;return s||void 0===s&&void 0!==e.stack}function qm(t,e,s){const i=t[e]||(t[e]={});return i[s]||(i[s]={})}function Hm(t,e,s,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const e=t[n.index];if(s&&e>0||!s&&0>e)return n.index}return null}function zm(t,e){const{chart:s,un:i}=t,n=s.dn||(s.dn={}),{iScale:r,vScale:a,index:o}=i,c=r.axis,h=a.axis,l=function(t,e,s){return `${t.id}.${e.id}.${s.stack||s.type}`}(r,a,i),u=e.length;let d;for(let f=0;u>f;++f){const t=e[f],{[c]:s,[h]:r}=t;d=(t.dn||(t.dn={}))[h]=qm(n,l,s),d[o]=r,d.pn=Hm(d,a,true,i.type),d.mn=Hm(d,a,false,i.type),(d.bn||(d.bn={}))[o]=r;}}function $m(t,e){const s=t.scales;return Object.keys(s).filter(t=>s[t].axis===e).shift()}function Wm(t,e){const s=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t.ki;for(const t of e){const e=t.dn;if(!e||void 0===e[i]||void 0===e[i][s])return;delete e[i][s],void 0!==e[i].bn&&void 0!==e[i].bn[s]&&delete e[i].bn[s];}}}const Ym=t=>"reset"===t||"none"===t,Vm=(t,e)=>e?t:Object.assign({},t);class Gm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this.gn=t.ctx,this.index=e,this.yn={},this.un=this.getMeta(),this.vn=this.un.type,this.options=void 0,this.Bi=false,this.kn=void 0,this.wn=void 0,this.xn=void 0,this.Mn=void 0,this._n=void 0,this.enableOptionSharing=false,this.supportsDecimation=false,this.$context=void 0,this.Tn=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize();}initialize(){const t=this.un;this.configure(),this.linkScales(),t.An=Um(t.vScale,t),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler");}updateIndex(t){this.index!==t&&Wm(this.un),this.index=t;}linkScales(){const t=this.chart,e=this.un,s=this.getDataset(),i=(t,e,s,i)=>"x"===t?e:"r"===t?i:s,n=e.xAxisID=Xd(s.xAxisID,$m(t,"x")),r=e.yAxisID=Xd(s.yAxisID,$m(t,"y")),a=e.rAxisID=Xd(s.rAxisID,$m(t,"r")),o=e.indexAxis,c=e.iAxisID=i(o,n,r,a),h=e.vAxisID=i(o,r,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h);}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}Sn(t){const e=this.un;return t===e.iScale?e.vScale:e.iScale}reset(){this.Wi("reset");}En(){const t=this.un;this.kn&&Hf(this.kn,this),t.An&&Wm(t);}Dn(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this.kn;if(Vd(e)){const t=this.un;this.kn=function(t,e){const{iScale:s,vScale:i}=e,n="x"===s.axis?"x":"y",r="x"===i.axis?"x":"y",a=Object.keys(t),o=Array(a.length);let c,h,l;for(c=0,h=a.length;h>c;++c)l=a[c],o[c]={[n]:l,[r]:t[l]};return o}(e,t);}else if(s!==e){if(s){Hf(s,this);const t=this.un;Wm(t),t.ki=[];}e&&Object.isExtensible(e)&&((i=e).gi?i.gi.listeners.push(this):(Object.defineProperty(i,"gi",{configurable:true,enumerable:false,value:{listeners:[this]}}),qf.forEach(t=>{const e="_onData"+lf(t),s=i[t];Object.defineProperty(i,t,{configurable:true,enumerable:false,value(...t){const n=s.apply(this,t);return i.gi.listeners.forEach(s=>{"function"==typeof s[e]&&s[e](...t);}),n}});}))),this.Tn=[],this.kn=e;}var i;}addElements(){const t=this.un;this.Dn(),this.datasetElementType&&(t.dataset=new this.datasetElementType);}buildOrUpdateElements(t){const e=this.un,s=this.getDataset();let i=false;this.Dn();const n=e.An;e.An=Um(e.vScale,e),e.stack!==s.stack&&(i=true,Wm(e),e.stack=s.stack),this.Cn(t),(i||n!==e.An)&&(zm(this,e.ki),e.An=Um(e.vScale,e));}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this.vn),s=t.getOptionScopes(this.getDataset(),e,true);this.options=t.createResolver(s,this.getContext()),this.Bi=this.options.parsing,this.yn={};}parse(t,e){const{un:s,kn:i}=this,{iScale:n,An:r}=s,a=n.axis;let o,c,h,l=0===t&&e===i.length||s.yi,u=t>0&&s.ki[t-1];if(false===this.Bi)s.ki=i,s.yi=true,h=i;else {h=Yd(i[t])?this.parseArrayData(s,i,t,e):Vd(i[t])?this.parseObjectData(s,i,t,e):this.parsePrimitiveData(s,i,t,e);const n=()=>null===c[a]||u&&c[a]<u[a];for(o=0;e>o;++o)s.ki[o+t]=c=h[o],l&&(n()&&(l=false),u=c);s.yi=l;}r&&zm(this,h);}parsePrimitiveData(t,e,s,i){const{iScale:n,vScale:r}=t,a=n.axis,o=r.axis,c=n.getLabels(),h=n===r,l=Array(i);let u,d,f;for(u=0,d=i;d>u;++u)f=u+s,l[u]={[a]:h||n.parse(c[f],f),[o]:r.parse(e[f],f)};return l}parseArrayData(t,e,s,i){const{xScale:n,yScale:r}=t,a=Array(i);let o,c,h,l;for(o=0,c=i;c>o;++o)h=o+s,l=e[h],a[o]={x:n.parse(l[0],h),y:r.parse(l[1],h)};return a}parseObjectData(t,e,s,i){const{xScale:n,yScale:r}=t,{xAxisKey:a="x",yAxisKey:o="y"}=this.Bi,c=Array(i);let h,l,u,d;for(h=0,l=i;l>h;++h)u=h+s,d=e[u],c[h]={x:n.parse(hf(d,a),u),y:r.parse(hf(d,o),u)};return c}getParsed(t){return this.un.ki[t]}getDataElement(t){return this.un.data[t]}applyStack(t,e,s){const i=this.chart,n=this.un,r=e[t.axis];return jm({keys:Fm(i,true),values:e.dn[t.axis].bn},r,n.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const n=s[e.axis];let r=null===n?NaN:n;const a=i&&s.dn[e.axis];i&&a&&(i.values=a,r=jm(i,n,this.un.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r);}getMinMax(t,e){const s=this.un,i=s.ki,n=s.yi&&t===s.iScale,r=i.length,a=this.Sn(t),o=((t,e,s)=>t&&!e.hidden&&e.An&&{keys:Fm(s,true),values:null})(e,s,this.chart),c={min:1/0,max:-1/0},{min:h,max:l}=function(t){const{min:e,max:s,minDefined:i,maxDefined:n}=t.getUserBounds();return {min:i?e:-1/0,max:n?s:1/0}}(a);let u,d;function f(){d=i[u];const e=d[a.axis];return !Gd(d[t.axis])||h>e||e>l}for(u=0;r>u&&(f()||(this.updateRangeFromParsed(c,t,d,o),!n));++u);if(n)for(u=r-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(c,t,d,o);break}return c}getAllParsedValues(t){const e=this.un.ki,s=[];let i,n,r;for(i=0,n=e.length;n>i;++i)r=e[i][t.axis],Gd(r)&&s.push(r);return s}getMaxOverflow(){return  false}getLabelAndValue(t){const e=this.un,s=e.iScale,i=e.vScale,n=this.getParsed(t);return {label:s?""+s.getLabelForValue(n[s.axis]):"",value:i?""+i.getLabelForValue(n[i.axis]):""}}Wi(t){const e=this.un;this.update(t||"default"),e.Fi=function(t){let e,s,i,n;return Vd(t)?(e=t.top,s=t.right,i=t.bottom,n=t.left):e=s=i=n=t,{top:e,right:s,bottom:i,left:n,disabled:false===t}}(Xd(this.options.clip,function(t,e,s){if(false===s)return  false;const i=Bm(t,s),n=Bm(e,s);return {top:n.end,right:i.end,bottom:n.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())));}update(t){}draw(){const t=this.gn,e=this.chart,s=this.un,i=s.data||[],n=e.chartArea,r=[],a=this.Mn||0,o=this._n||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(t,n,a,o),h=a;a+o>h;++h){const e=i[h];e.hidden||(e.active&&c?r.push(e):e.draw(t,n));}for(h=0;h<r.length;++h)r[h].draw(t,n);}getStyle(t,e){const s=e?"active":"default";return void 0===t&&this.un.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let n;if(t>=0&&t<this.un.data.length){const e=this.un.data[t];n=e.$context||(e.$context=function(t,e,s){return Up(t,{active:false,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=i.data[t],n.index=n.dataIndex=t;}else n=this.$context||(this.$context=function(t,e){return Up(t,{active:false,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=i,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=s,n}resolveDatasetElementOptions(t){return this.Nn(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this.Nn(this.dataElementType.id,e,t)}Nn(t,e="default",s){const i="active"===e,n=this.yn,r=t+"-"+e,a=n[r],o=this.enableOptionSharing&&uf(s);if(a)return Vm(a,o);const c=this.chart.config,h=c.datasetElementScopeKeys(this.vn,t),l=i?[t+"Hover","hover",t,""]:[t,""],u=c.getOptionScopes(this.getDataset(),h),d=Object.keys(pp.elements[t]),f=c.resolveNamedOptions(u,d,()=>this.getContext(s,i,e),l);return f.$shared&&(f.$shared=o,n[r]=Object.freeze(Vm(f,o))),f}In(t,e,s){const i=this.chart,n=this.yn,r="animation-"+e,a=n[r];if(a)return a;let o;if(false!==i.options.animation){const i=this.chart.config,n=i.datasetAnimationScopeKeys(this.vn,e),r=i.getOptionScopes(this.getDataset(),n);o=i.createResolver(r,this.getContext(t,s,e));}const c=new Lm(i,o&&o.animations);return o&&o.Ti&&(n[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this.xn||(this.xn=Object.assign({},t))}includeOptions(t,e){return !e||Ym(t)||this.chart.On}Rn(t,e){const s=this.resolveDataElementOptions(t,e),i=this.xn,n=this.getSharedOptions(s),r=this.includeOptions(e,n)||n!==i;return this.updateSharedOptions(n,e,s),{sharedOptions:n,includeOptions:r}}updateElement(t,e,s,i){Ym(i)?Object.assign(t,s):this.In(e,i).update(t,s);}updateSharedOptions(t,e,s){t&&!Ym(e)&&this.In(void 0,e).update(t,s);}Pn(t,e,s,i){t.active=i;const n=this.getStyle(e,i);this.In(e,s,i).update(t,{options:!i&&this.getSharedOptions(n)||n});}removeHoverStyle(t,e,s){this.Pn(t,s,"active",false);}setHoverStyle(t,e,s){this.Pn(t,s,"active",true);}Ln(){const t=this.un.dataset;t&&this.Pn(t,void 0,"active",false);}Bn(){const t=this.un.dataset;t&&this.Pn(t,void 0,"active",true);}Cn(t){const e=this.kn,s=this.un.data;for(const[a,o,c]of this.Tn)this[a](o,c);this.Tn=[];const i=s.length,n=e.length,r=Math.min(n,i);r&&this.parse(0,r),n>i?this.Fn(i,n-i,t):i>n&&this.jn(n,i-n);}Fn(t,e,s=true){const i=this.un,n=i.data,r=t+e;let a;const o=t=>{for(t.length+=e,a=t.length-1;a>=r;a--)t[a]=t[a-e];};for(o(n),a=t;r>a;++a)n[a]=new this.dataElementType;this.Bi&&o(i.ki),this.parse(t,e),s&&this.updateElements(n,t,e,"reset");}updateElements(t,e,s,i){}jn(t,e){const s=this.un;if(this.Bi){const i=s.ki.splice(t,e);s.An&&Wm(s,i);}s.data.splice(t,e);}Un(t){if(this.Bi)this.Tn.push(t);else {const[e,s,i]=t;this[e](s,i);}this.chart.qn.push([this.index,...t]);}Hn(){const t=arguments.length;this.Un(["_insertElements",this.getDataset().data.length-t,t]);}zn(){this.Un(["_removeElements",this.un.data.length-1,1]);}$n(){this.Un(["_removeElements",0,1]);}Wn(t,e){e&&this.Un(["_removeElements",t,e]);const s=arguments.length-2;s&&this.Un(["_insertElements",t,s]);}Yn(){this.Un(["_insertElements",0,arguments.length]);}}function Qm(t){const e=t.iScale,s=function(t,e){if(!t.Vn.$bar){const s=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,n=s.length;n>e;e++)i=i.concat(s[e].controller.getAllParsedValues(t));t.Vn.$bar=zf(i.sort((t,e)=>t-e));}return t.Vn.$bar}(e,t.type);let i,n,r,a,o=e.Gn;const c=()=>{32767!==r&&-32768!==r&&(uf(a)&&(o=Math.min(o,Math.abs(r-a)||o)),a=r);};for(i=0,n=s.length;n>i;++i)r=e.getPixelForValue(s[i]),c();for(a=void 0,i=0,n=e.ticks.length;n>i;++i)r=e.getPixelForTick(i),c();return o}function Xm(t,e,s,i){return Yd(t)?function(t,e,s,i){const n=s.parse(t[0],i),r=s.parse(t[1],i),a=Math.min(n,r),o=Math.max(n,r);let c=a,h=o;Math.abs(a)>Math.abs(o)&&(c=o,h=a),e[s.axis]=h,e.Qn={barStart:c,barEnd:h,start:n,end:r,min:a,max:o};}(t,e,s,i):e[s.axis]=s.parse(t,i),e}function Zm(t,e,s,i){const n=t.iScale,r=t.vScale,a=n.getLabels(),o=n===r,c=[];let h,l,u,d;for(h=s,l=s+i;l>h;++h)d=e[h],u={},u[n.axis]=o||n.parse(a[h],h),c.push(Xm(d,u,r,h));return c}function Jm(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Km(t,e,s,i){let n=e.borderSkipped;const r={};if(!n)return void(t.borderSkipped=r);if(true===n)return void(t.borderSkipped={top:true,right:true,bottom:true,left:true});const{start:a,end:o,reverse:c,top:h,bottom:l}=function(t){let e,s,i,n,r;return t.horizontal?(e=t.base>t.x,s="left",i="right"):(e=t.base<t.y,s="bottom",i="top"),e?(n="end",r="start"):(n="start",r="end"),{start:s,end:i,reverse:e,top:n,bottom:r}}(t);"middle"===n&&s&&(t.enableBorderRadius=true,(s.pn||0)===i?n=h:(s.mn||0)===i?n=l:(r[tb(l,a,o,c)]=true,n=h)),r[tb(n,a,o,c)]=true,t.borderSkipped=r;}function tb(t,e,s,i){var n,r,a;return i?(a=s,t=eb(t=(n=t)===(r=e)?a:n===a?r:n,s,e)):t=eb(t,e,s),t}function eb(t,e,s){return "start"===t?e:"end"===t?s:t}function sb(t,{inflateAmount:e},s){t.inflateAmount="auto"===e?1===s?.33:0:e;}class ib extends Gm{static id="doughnut";static defaults={datasetElementType:false,dataElementType:"arc",animation:{animateRotate:true,animateScale:false},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={xi:t=>"spacing"!==t,Mi:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((e,n)=>{const r=t.getDatasetMeta(0).controller.getStyle(n);return {text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(n),index:n}})}return []}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update();}}}};constructor(t,e){super(t,e),this.enableOptionSharing=true,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0;}linkScales(){}parse(t,e){const s=this.getDataset().data,i=this.un;if(false===this.Bi)i.ki=s;else {let n,r,a=t=>+s[t];if(Vd(s[t])){const{key:t="value"}=this.Bi;a=e=>+hf(s[e],t);}for(n=t,r=t+e;r>n;++n)i.ki[n]=a(n);}}Xn(){return Ef(this.options.rotation-90)}Zn(){return Ef(this.options.circumference)}Jn(){let t=mf,e=-mf;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this.vn){const i=this.chart.getDatasetMeta(s).controller,n=i.Xn(),r=i.Zn();t=Math.min(t,n),e=Math.max(e,n+r);}return {rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,i=this.un,n=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-r)/2,0),o=Math.min((h=a,"string"==typeof(c=this.options.cutout)&&c.endsWith("%")?parseFloat(c)/100:+c/h),1);var c,h;const l=this.Kn(this.index),{circumference:u,rotation:d}=this.Jn(),{ratioX:f,ratioY:p,offsetX:m,offsetY:b}=function(t,e,s){let i=1,n=1,r=0,a=0;if(mf>e){const o=t,c=o+e,h=Math.cos(o),l=Math.sin(o),u=Math.cos(c),d=Math.sin(c),f=(t,e,i)=>Pf(t,o,c,true)?1:Math.max(e,e*s,i,i*s),p=(t,e,i)=>Pf(t,o,c,true)?-1:Math.min(e,e*s,i,i*s),m=f(0,h,u),b=f(vf,l,d),g=p(pf,h,u),y=p(pf+vf,l,d);i=(m-g)/2,n=(b-y)/2,r=-(m+g)/2,a=-(b+y)/2;}return {ratioX:i,ratioY:n,offsetX:r,offsetY:a}}(d,u,o),g=(s.width-r)/f,y=(s.height-r)/p,v=Math.max(Math.min(g,y)/2,0),k=Zd(this.options.radius,v),w=(k-Math.max(k*o,0))/this.tr();this.offsetX=m*k,this.offsetY=b*k,i.total=this.calculateTotal(),this.outerRadius=k-w*this.er(this.index),this.innerRadius=Math.max(this.outerRadius-w*l,0),this.updateElements(n,0,n.length,t);}sr(t,e){const s=this.options,i=this.un,n=this.Zn();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i.ki[t]||i.data[t].hidden?0:this.calculateCircumference(i.ki[t]*n/mf)}updateElements(t,e,s,i){const n="reset"===i,r=this.chart,a=r.chartArea,o=r.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,l=n&&o.animateScale,u=l?0:this.innerRadius,d=l?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this.Rn(e,i);let m,b=this.Xn();for(m=0;e>m;++m)b+=this.sr(m,n);for(m=e;e+s>m;++m){const e=this.sr(m,n),s=t[m],r={x:c+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+e,circumference:e,outerRadius:d,innerRadius:u};p&&(r.options=f||this.resolveDataElementOptions(m,s.active?"active":i)),b+=e,this.updateElement(s,m,r,i);}}calculateTotal(){const t=this.un,e=t.data;let s,i=0;for(s=0;s<e.length;s++){const n=t.ki[s];null===n||isNaN(n)||!this.chart.getDataVisibility(s)||e[s].hidden||(i+=Math.abs(n));}return i}calculateCircumference(t){const e=this.un.total;return e>0&&!isNaN(t)?mf*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this.un,s=this.chart,i=s.data.labels||[],n=ap(e.ki[t],s.options.locale);return {label:i[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const s=this.chart;let i,n,r,a,o;if(!t)for(i=0,n=s.data.datasets.length;n>i;++i)if(s.isDatasetVisible(i)){r=s.getDatasetMeta(i),t=r.data,a=r.controller;break}if(!t)return 0;for(i=0,n=t.length;n>i;++i)o=a.resolveDataElementOptions(i),"inner"!==o.borderAlign&&(e=Math.max(e,o.borderWidth||0,o.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,i=t.length;i>s;++s){const t=this.resolveDataElementOptions(s);e=Math.max(e,t.offset||0,t.hoverOffset||0);}return e}er(t){let e=0;for(let s=0;t>s;++s)this.chart.isDatasetVisible(s)&&(e+=this.Kn(s));return e}Kn(t){return Math.max(Xd(this.chart.data.datasets[t].weight,1),0)}tr(){return this.er(this.chart.data.datasets.length)||1}}class nb extends Gm{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:true,animateScale:true},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((e,n)=>{const r=t.getDatasetMeta(0).controller.getStyle(n);return {text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:i,lineWidth:r.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(n),index:n}})}return []}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update();}}},scales:{r:{type:"radialLinear",angleLines:{display:false},beginAtZero:true,grid:{circular:true},pointLabels:{display:false},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0;}getLabelAndValue(t){const e=this.un,s=this.chart,i=s.data.labels||[],n=ap(e.ki[t].r,s.options.locale);return {label:i[t]||"",value:n}}parseObjectData(t,e,s,i){return tm.bind(this)(t,e,s,i)}update(t){const e=this.un.data;this.ir(),this.updateElements(e,0,e.length,t);}getMinMax(){const t=this.un,e={min:1/0,max:-1/0};return t.data.forEach((t,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i));}),e}ir(){const t=this.chart,e=t.chartArea,s=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(i/2,0),r=(n-Math.max(s.cutoutPercentage?n/100*s.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-r*this.index,this.innerRadius=this.outerRadius-r;}updateElements(t,e,s,i){const n="reset"===i,r=this.chart,a=r.options.animation,o=this.un.rScale,c=o.xCenter,h=o.yCenter,l=o.getIndexAngle(0)-.5*pf;let u,d=l;const f=360/this.countVisibleElements();for(u=0;e>u;++u)d+=this.nr(u,i,f);for(u=e;e+s>u;u++){const e=t[u];let s=d,p=d+this.nr(u,i,f),m=r.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;d=p,n&&(a.animateScale&&(m=0),a.animateRotate&&(s=p=l));const b={x:c,y:h,innerRadius:0,outerRadius:m,startAngle:s,endAngle:p,options:this.resolveDataElementOptions(u,e.active?"active":i)};this.updateElement(e,u,b,i);}}countVisibleElements(){const t=this.un;let e=0;return t.data.forEach((t,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++;}),e}nr(t,e,s){return this.chart.getDataVisibility(t)?Ef(this.resolveDataElementOptions(t,e).angle||s):0}}var rb=Object.freeze({__proto__:null,BarController:class extends Gm{static id="bar";static defaults={datasetElementType:false,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:true,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{rr:{type:"category",offset:true,grid:{offset:true}},ar:{type:"linear",beginAtZero:true}}};parsePrimitiveData(t,e,s,i){return Zm(t,e,s,i)}parseArrayData(t,e,s,i){return Zm(t,e,s,i)}parseObjectData(t,e,s,i){const{iScale:n,vScale:r}=t,{xAxisKey:a="x",yAxisKey:o="y"}=this.Bi,c="x"===n.axis?a:o,h="x"===r.axis?a:o,l=[];let u,d,f,p;for(u=s,d=s+i;d>u;++u)p=e[u],f={},f[n.axis]=n.parse(hf(p,c),u),l.push(Xm(hf(p,h),f,r,u));return l}updateRangeFromParsed(t,e,s,i){super.updateRangeFromParsed(t,e,s,i);const n=s.Qn;n&&e===this.un.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max));}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this.un,{iScale:s,vScale:i}=e,n=this.getParsed(t),r=n.Qn,a=Jm(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(n[i.axis]);return {label:""+s.getLabelForValue(n[s.axis]),value:a}}initialize(){this.enableOptionSharing=true,super.initialize(),this.un.stack=this.getDataset().stack;}update(t){const e=this.un;this.updateElements(e.data,0,e.data.length,t);}updateElements(t,e,s,i){const n="reset"===i,{index:r,un:{vScale:a}}=this,o=a.getBasePixel(),c=a.isHorizontal(),h=this.cr(),{sharedOptions:l,includeOptions:u}=this.Rn(e,i);for(let d=e;e+s>d;d++){const e=this.getParsed(d),s=n||Wd(e[a.axis])?{base:o,head:o}:this.hr(d),f=this.lr(d,h),p=(e.dn||{})[a.axis],m={horizontal:c,base:s.base,enableBorderRadius:!p||Jm(e.Qn)||r===p.pn||r===p.mn,x:c?s.head:f.center,y:c?f.center:s.head,height:c?f.size:Math.abs(s.size),width:c?Math.abs(s.size):f.size};u&&(m.options=l||this.resolveDataElementOptions(d,t[d].active?"active":i));const b=m.options||t[d].options;Km(m,b,p,r),sb(m,b,h.ratio),this.updateElement(t[d],d,m,i);}}ur(t,e){const{iScale:s}=this.un,i=s.getMatchingVisibleMetas(this.vn).filter(t=>t.controller.options.grouped),n=s.options.stacked,r=[],a=this.un.controller.getParsed(e),o=a&&a[s.axis],c=t=>{const e=t.ki.find(t=>t[s.axis]===o),i=e&&e[t.vScale.axis];if(Wd(i)||isNaN(i))return  true};for(const h of i)if((void 0===e||!c(h))&&((false===n||-1===r.indexOf(h.stack)||void 0===n&&void 0===h.stack)&&r.push(h.stack),h.index===t))break;return r.length||r.push(void 0),r}dr(t){return this.ur(void 0,t).length}pr(){return this.mr().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}mr(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Xd("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,e)]=true;return Object.keys(t)}br(t,e,s){const i=this.ur(t,s),n=void 0!==e?i.indexOf(e):-1;return  -1===n?i.length-1:n}cr(){const t=this.options,e=this.un,s=e.iScale,i=[];let n,r;for(n=0,r=e.data.length;r>n;++n)i.push(s.getPixelForValue(this.getParsed(n)[s.axis],n));const a=t.barThickness;return {min:a||Qm(e),pixels:i,start:s.gr,end:s.yr,stackCount:this.dr(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}hr(t){const{un:{vScale:e,An:s,index:i},options:{base:n,minBarLength:r}}=this,a=n||0,o=this.getParsed(t),c=o.Qn,h=Jm(c);let l,u,d=o[e.axis],f=0,p=s?this.applyStack(e,o,s):d;p!==d&&(f=p-d,p=d),h&&(d=c.barStart,p=c.barEnd-c.barStart,0!==d&&Mf(d)!==Mf(c.barEnd)&&(f=0),f+=d);const m=Wd(n)||h?f:n;let b=e.getPixelForValue(m);if(l=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):b,u=l-b,r>Math.abs(u)){u=function(t,e,s){return 0!==t?Mf(t):(e.isHorizontal()?1:-1)*(e.min<s?-1:1)}(u,e,a)*r,d===a&&(b-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),c=Math.min(t,n);b=Math.max(Math.min(b,Math.max(t,n)),c),l=b+u,s&&!h&&(o.dn[e.axis].bn[i]=e.getValueForPixel(l)-e.getValueForPixel(b));}if(b===e.getPixelForValue(a)){const t=Mf(u)*e.getLineWidthForValue(a)/2;b+=t,u-=t;}return {size:u,base:b,head:l,center:l+u/2}}lr(t,e){const s=e.scale,i=this.options,n=i.skipNull,r=Xd(i.maxBarThickness,1/0);let a,o;const c=this.pr();if(e.grouped){const s=n?this.dr(t):e.stackCount,h="flex"===i.barThickness?function(t,e,s,i){const n=e.pixels,r=n[t];let a=t>0?n[t-1]:null,o=t<n.length-1?n[t+1]:null;const c=s.categoryPercentage;null===a&&(a=r-(null===o?e.end-e.start:o-r)),null===o&&(o=r+r-a);const h=r-(r-Math.min(a,o))/2*c;return {chunk:Math.abs(o-a)/2*c/i,ratio:s.barPercentage,start:h}}(t,e,i,s*c):function(t,e,s,i){const n=s.barThickness;let r,a;return Wd(n)?(r=e.min*s.categoryPercentage,a=s.barPercentage):(r=n*i,a=1),{chunk:r/i,ratio:a,start:e.pixels[t]-r/2}}(t,e,i,s*c),l="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this.mr().indexOf(Xd(l,this.getFirstScaleIdForIndexAxis())),d=this.br(this.index,this.un.stack,n?t:void 0)+u;a=h.start+h.chunk*d+h.chunk/2,o=Math.min(r,h.chunk*h.ratio);}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),o=Math.min(r,e.min*e.ratio);return {base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const t=this.un,e=t.vScale,s=t.data,i=s.length;let n=0;for(;i>n;++n)null===this.getParsed(n)[e.axis]||s[n].hidden||s[n].draw(this.gn);}},BubbleController:class extends Gm{static id="bubble";static defaults={datasetElementType:false,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=true,super.initialize();}parsePrimitiveData(t,e,s,i){const n=super.parsePrimitiveData(t,e,s,i);for(let r=0;r<n.length;r++)n[r].Qn=this.resolveDataElementOptions(r+s).radius;return n}parseArrayData(t,e,s,i){const n=super.parseArrayData(t,e,s,i);for(let r=0;r<n.length;r++){const t=e[s+r];n[r].Qn=Xd(t[2],this.resolveDataElementOptions(r+s).radius);}return n}parseObjectData(t,e,s,i){const n=super.parseObjectData(t,e,s,i);for(let r=0;r<n.length;r++){const t=e[s+r];n[r].Qn=Xd(t&&t.r&&+t.r,this.resolveDataElementOptions(r+s).radius);}return n}getMaxOverflow(){const t=this.un.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this.un,s=this.chart.data.labels||[],{xScale:i,yScale:n}=e,r=this.getParsed(t),a=i.getLabelForValue(r.x),o=n.getLabelForValue(r.y),c=r.Qn;return {label:s[t]||"",value:"("+a+", "+o+(c?", "+c:"")+")"}}update(t){const e=this.un.data;this.updateElements(e,0,e.length,t);}updateElements(t,e,s,i){const n="reset"===i,{iScale:r,vScale:a}=this.un,{sharedOptions:o,includeOptions:c}=this.Rn(e,i),h=r.axis,l=a.axis;for(let u=e;e+s>u;u++){const e=t[u],s=!n&&this.getParsed(u),d={},f=d[h]=n?r.getPixelForDecimal(.5):r.getPixelForValue(s[h]),p=d[l]=n?a.getBasePixel():a.getPixelForValue(s[l]);d.skip=isNaN(f)||isNaN(p),c&&(d.options=o||this.resolveDataElementOptions(u,e.active?"active":i),n&&(d.options.radius=0)),this.updateElement(e,u,d,i);}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:false}));const n=i.radius;return "active"!==e&&(i.radius=0),i.radius+=Xd(s&&s.Qn,n),i}},DoughnutController:ib,LineController:class extends Gm{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:true,spanGaps:false};static overrides={scales:{rr:{type:"category"},ar:{type:"linear"}}};initialize(){this.enableOptionSharing=true,this.supportsDecimation=true,super.initialize();}update(t){const e=this.un,{dataset:s,data:i=[],vr:n}=e,r=this.chart.On;let{start:a,count:o}=Gf(e,i,r);this.Mn=a,this._n=o,Qf(e)&&(a=0,o=i.length),s.rn=this.chart,s.kr=this.index,s.wr=!!n.wr,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:c},t),this.updateElements(i,a,o,t);}updateElements(t,e,s,i){const n="reset"===i,{iScale:r,vScale:a,An:o,vr:c}=this.un,{sharedOptions:h,includeOptions:l}=this.Rn(e,i),u=r.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,m=Af(f)?f:1/0,b=this.chart.On||n||"none"===i,g=e+s,y=t.length;let v=e>0&&this.getParsed(e-1);for(let k=0;y>k;++k){const s=t[k],f=b?s:{};if(e>k||k>=g){f.skip=true;continue}const y=this.getParsed(k),w=Wd(y[d]),x=f[u]=r.getPixelForValue(y[u],k),M=f[d]=n||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,y,o):y[d],k);f.skip=isNaN(x)||isNaN(M)||w,f.stop=k>0&&Math.abs(y[u]-v[u])>m,p&&(f.parsed=y,f.raw=c.data[k]),l&&(f.options=h||this.resolveDataElementOptions(k,s.active?"active":i)),b||this.updateElement(s,k,f,i),v=y;}}getMaxOverflow(){const t=this.un,e=t.dataset,s=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const n=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,n,r)/2}draw(){const t=this.un;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw();}},PieController:class extends ib{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:nb,RadarController:class extends Gm{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:true,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this.un.vScale,s=this.getParsed(t);return {label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,i){return tm.bind(this)(t,e,s,i)}update(t){const e=this.un,s=e.dataset,i=e.data||[],n=e.iScale.getLabels();if(s.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={Ji:true,Mr:n.length===i.length,options:e};this.updateElement(s,void 0,r,t);}this.updateElements(i,0,i.length,t);}updateElements(t,e,s,i){const n=this.un.rScale,r="reset"===i;for(let a=e;e+s>a;a++){const e=t[a],s=this.resolveDataElementOptions(a,e.active?"active":i),o=n.getPointPositionForValue(a,this.getParsed(a).r),c=r?n.xCenter:o.x,h=r?n.yCenter:o.y,l={x:c,y:h,angle:o.angle,skip:isNaN(c)||isNaN(h),options:s};this.updateElement(e,a,l,i);}}},ScatterController:class extends Gm{static id="scatter";static defaults={datasetElementType:false,dataElementType:"point",showLine:false,fill:false};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this.un,s=this.chart.data.labels||[],{xScale:i,yScale:n}=e,r=this.getParsed(t),a=i.getLabelForValue(r.x),o=n.getLabelForValue(r.y);return {label:s[t]||"",value:"("+a+", "+o+")"}}update(t){const e=this.un,{data:s=[]}=e,i=this.chart.On;let{start:n,count:r}=Gf(e,s,i);if(this.Mn=n,this._n=r,Qf(e)&&(n=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,vr:r}=e;n.rn=this.chart,n.kr=this.index,n.wr=!!r.wr,n.points=s;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:a},t);}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=false);this.updateElements(s,n,r,t);}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements();}updateElements(t,e,s,i){const n="reset"===i,{iScale:r,vScale:a,An:o,vr:c}=this.un,h=this.resolveDataElementOptions(e,i),l=this.getSharedOptions(h),u=this.includeOptions(i,l),d=r.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,b=Af(p)?p:1/0,g=this.chart.On||n||"none"===i;let y=e>0&&this.getParsed(e-1);for(let v=e;e+s>v;++v){const e=t[v],s=this.getParsed(v),h=g?e:{},p=Wd(s[f]),k=h[d]=r.getPixelForValue(s[d],v),w=h[f]=n||p?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,s,o):s[f],v);h.skip=isNaN(k)||isNaN(w)||p,h.stop=v>0&&Math.abs(s[d]-y[d])>b,m&&(h.parsed=s,h.raw=c.data[v]),u&&(h.options=l||this.resolveDataElementOptions(v,e.active?"active":i)),g||this.updateElement(e,v,h,i),y=s;}this.updateSharedOptions(l,i,h);}getMaxOverflow(){const t=this.un,e=t.data||[];if(!this.options.showLine){let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!e.length)return i;const n=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,n,r)/2}}});function ab(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class ob{static override(t){Object.assign(ob.prototype,t);}options;constructor(t){this.options=t||{};}init(){}formats(){return ab()}parse(){return ab()}format(){return ab()}add(){return ab()}diff(){return ab()}startOf(){return ab()}endOf(){return ab()}}var cb=ob;function hb(t,e,s,i){const{controller:n,data:r,yi:a}=t,o=n.un.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&"r"!==e&&a&&r.length){const a=o._r?Uf:jf;if(!i){const i=a(r,e,s);if(c){const{vScale:e}=n.un,{ki:s}=t,r=s.slice(0,i.lo+1).reverse().findIndex(t=>!Wd(t[e.axis]));i.lo-=Math.max(0,r);const a=s.slice(i.hi).findIndex(t=>!Wd(t[e.axis]));i.hi+=Math.max(0,a);}return i}if(n.xn){const t=r[0],i="function"==typeof t.getRange&&t.getRange(e);if(i){const t=a(r,e,s-i),n=a(r,e,s+i);return {lo:t.lo,hi:n.hi}}}}return {lo:0,hi:r.length-1}}function lb(t,e,s,i,n){const r=t.getSortedVisibleDatasetMetas(),a=s[e];for(let o=0,c=r.length;c>o;++o){const{index:t,data:s}=r[o],{lo:c,hi:h}=hb(r[o],e,a,n);for(let e=c;h>=e;++e){const n=s[e];n.skip||i(n,t,e);}}}function ub(t,e,s,i,n){const r=[];return n||t.isPointInArea(e)?(lb(t,s,e,function(s,a,o){(n||wp(s,t.chartArea,0))&&s.inRange(e.x,e.y,i)&&r.push({element:s,datasetIndex:a,index:o});},true),r):r}function db(t,e,s,i,n,r){return r||t.isPointInArea(e)?"r"!==s||i?function(t,e,s,i,n,r){let a=[];const o=function(t){const e=-1!==t.indexOf("x"),s=-1!==t.indexOf("y");return function(t,i){const n=e?Math.abs(t.x-i.x):0,r=s?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}}(s);let c=1/0;return lb(t,s,e,function(s,h,l){const u=s.inRange(e.x,e.y,n);if(i&&!u)return;const d=s.getCenterPoint(n);if(!r&&!t.isPointInArea(d)&&!u)return;const f=o(e,d);c>f?(a=[{element:s,datasetIndex:h,index:l}],c=f):f===c&&a.push({element:s,datasetIndex:h,index:l});}),a}(t,e,s,i,n,r):function(t,e,s,i){let n=[];return lb(t,s,e,function(t,s,r){const{startAngle:a,endAngle:o}=t.getProps(["startAngle","endAngle"],i),{angle:c}=Nf(t,{x:e.x,y:e.y});Pf(c,a,o)&&n.push({element:t,datasetIndex:s,index:r});}),n}(t,e,s,n):[]}function fb(t,e,s,i,n){const r=[],a="x"===s?"inXRange":"inYRange";let o=false;return lb(t,s,e,(t,i,c)=>{t[a]&&t[a](e[s],n)&&(r.push({element:t,datasetIndex:i,index:c}),o=o||t.inRange(e.x,e.y,n));}),i&&!o?[]:r}var pb={modes:{index(t,e,s,i){const n=dm(e,t),r=s.axis||"x",a=s.includeInvisible||false,o=s.intersect?ub(t,n,r,i,a):db(t,n,r,false,i,a),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=o[0].index,s=t.data[e];s&&!s.skip&&c.push({element:s,datasetIndex:t.index,index:e});}),c):[]},dataset(t,e,s,i){const n=dm(e,t),r=s.axis||"xy",a=s.includeInvisible||false;let o=s.intersect?ub(t,n,r,i,a):db(t,n,r,false,i,a);if(o.length>0){const e=o[0].datasetIndex,s=t.getDatasetMeta(e).data;o=[];for(let t=0;t<s.length;++t)o.push({element:s[t],datasetIndex:e,index:t});}return o},point:(t,e,s,i)=>ub(t,dm(e,t),s.axis||"xy",i,s.includeInvisible||false),nearest(t,e,s,i){const n=dm(e,t),r=s.axis||"xy",a=s.includeInvisible||false;return db(t,n,r,s.intersect,i,a)},x:(t,e,s,i)=>fb(t,dm(e,t),"x",s.intersect,i),y:(t,e,s,i)=>fb(t,dm(e,t),"y",s.intersect,i)}};const mb=["left","top","right","bottom"];function bb(t,e){return t.filter(t=>t.pos===e)}function gb(t,e){return t.filter(t=>-1===mb.indexOf(t.pos)&&t.box.axis===e)}function yb(t,e){return t.sort((t,s)=>{const i=e?s:t,n=e?t:s;return i.weight===n.weight?i.index-n.index:i.weight-n.weight})}function vb(t,e,s,i){return Math.max(t[s],e[s])+Math.max(t[i],e[i])}function kb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right);}function wb(t,e,s,i){const{pos:n,box:r}=s,a=t.maxPadding;if(!Vd(n)){s.size&&(t[n]-=s.size);const e=i[s.stack]||{size:0,count:1};e.size=Math.max(e.size,s.horizontal?r.height:r.width),s.size=e.size/e.count,t[n]+=s.size;}r.getPadding&&kb(a,r.getPadding());const o=Math.max(0,e.outerWidth-vb(a,t,"left","right")),c=Math.max(0,e.outerHeight-vb(a,t,"top","bottom")),h=o!==t.w,l=c!==t.h;return t.w=o,t.h=c,s.horizontal?{same:h,other:l}:{same:l,other:h}}function xb(t,e){const s=e.maxPadding;return function(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{i[t]=Math.max(e[t],s[t]);}),i}(t?["left","right"]:["top","bottom"])}function Mb(t,e,s,i){const n=[];let r,a,o,c,h,l;for(r=0,a=t.length,h=0;a>r;++r){o=t[r],c=o.box,c.update(o.width||e.w,o.height||e.h,xb(o.horizontal,e));const{same:a,other:u}=wb(e,s,o,i);h|=a&&n.length,l=l||u,c.fullSize||n.push(o);}return h&&Mb(n,e,s,i)||l}function _b(t,e,s,i,n){t.top=s,t.left=e,t.right=e+i,t.bottom=s+n,t.width=i,t.height=n;}function Tb(t,e,s,i){const n=s.padding;let{x:r,y:a}=e;for(const o of t){const t=o.box,c=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){const i=e.w*h,r=c.size||t.height;uf(c.start)&&(a=c.start),t.fullSize?_b(t,n.left,a,s.outerWidth-n.right-n.left,r):_b(t,e.left+c.placed,a,i,r),c.start=a,c.placed+=i,a=t.bottom;}else {const i=e.h*h,a=c.size||t.width;uf(c.start)&&(r=c.start),t.fullSize?_b(t,r,n.top,a,s.outerHeight-n.bottom-n.top):_b(t,r,e.top+c.placed,a,i),c.start=r,c.placed+=i,r=t.right;}}e.x=r,e.y=a;}var Ab={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||false,e.position=e.position||"top",e.weight=e.weight||0,e.Tr=e.Tr||function(){return [{z:0,draw(t){e.draw(t);}}]},t.boxes.push(e);},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;-1!==s&&t.boxes.splice(s,1);},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight;},update(t,e,s,i){if(!t)return;const n=Bp(t.options.layout.padding),r=Math.max(e-n.width,0),a=Math.max(s-n.height,0),o=function(t){const e=function(t){const e=[];let s,i,n,r,a,o;for(s=0,i=(t||[]).length;i>s;++s)n=t[s],({position:r,options:{stack:a,stackWeight:o=1}}=n),e.push({index:s,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&r+a,stackWeight:o});return e}(t),s=yb(e.filter(t=>t.box.fullSize),true),i=yb(bb(e,"left"),true),n=yb(bb(e,"right")),r=yb(bb(e,"top"),true),a=yb(bb(e,"bottom")),o=gb(e,"x"),c=gb(e,"y");return {fullSize:s,leftAndTop:i.concat(r),rightAndBottom:n.concat(c).concat(a).concat(o),chartArea:bb(e,"chartArea"),vertical:i.concat(n).concat(c),horizontal:r.concat(a).concat(o)}}(t.boxes),c=o.vertical,h=o.horizontal;Kd(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout();});const l=c.reduce((t,e)=>e.box.options&&false===e.box.options.display?t:t+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:s,padding:n,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/l,hBoxMaxHeight:a/2}),d=Object.assign({},n);kb(d,Bp(i));const f=Object.assign({maxPadding:d,w:r,h:a,x:n.left,y:n.top},n),p=function(t,e){const s=function(t){const e={};for(const s of t){const{stack:t,pos:i,stackWeight:n}=s;if(!t||!mb.includes(i))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=n;}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let r,a,o;for(r=0,a=t.length;a>r;++r){o=t[r];const{fullSize:a}=o.box,c=s[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:a&&e.availableWidth,o.height=n):(o.width=i,o.height=h?h*n:a&&e.availableHeight);}return s}(c.concat(h),u);Mb(o.fullSize,f,u,p),Mb(c,f,u,p),Mb(h,f,u,p)&&Mb(c,f,u,p),function(t){const e=t.maxPadding;function s(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom");}(f),Tb(o.leftAndTop,f,u,p),f.x+=f.w,f.y+=f.h,Tb(o.rightAndBottom,f,u,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Kd(o.chartArea,e=>{const s=e.box;Object.assign(s,t.chartArea),s.update(f.w,f.h,{left:0,top:0,right:0,bottom:0});});}};class Sb{acquireContext(t,e){}releaseContext(t){return  false}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return  true}updateConfig(t){}}class Eb extends Sb{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=false;}}const Db="$chartjs",Cb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nb=t=>null===t||""===t,Ib=!!mm&&{passive:true};function Ob(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Ib);}function Rb(t,e){for(const s of t)if(s===e||s.contains(e))return  true}function Pb(t,e,s){const i=t.canvas,n=new MutationObserver(t=>{let e=false;for(const s of t)e=e||Rb(s.addedNodes,i),e=e&&!Rb(s.removedNodes,i);e&&s();});return n.observe(document,{childList:true,subtree:true}),n}function Lb(t,e,s){const i=t.canvas,n=new MutationObserver(t=>{let e=false;for(const s of t)e=e||Rb(s.removedNodes,i),e=e&&!Rb(s.addedNodes,i);e&&s();});return n.observe(document,{childList:true,subtree:true}),n}const Bb=new Map;let Fb=0;function jb(){const t=window.devicePixelRatio;t!==Fb&&(Fb=t,Bb.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e();}));}function Ub(t,e,s){const i=t.canvas,n=i&&om(i);if(!n)return;const r=Wf((t,e)=>{const i=n.clientWidth;s(t,e),i<n.clientWidth&&s();},window),a=new ResizeObserver(t=>{const e=t[0],s=e.contentRect.width,i=e.contentRect.height;0===s&&0===i||r(s,i);});return a.observe(n),function(t,e){Bb.size||window.addEventListener("resize",jb),Bb.set(t,e);}(t,r),a}function qb(t,e,s){s&&s.disconnect(),"resize"===e&&function(t){Bb.delete(t),Bb.size||window.removeEventListener("resize",jb);}(t);}function Hb(t,e,s){const i=t.canvas,n=Wf(e=>{null!==t.ctx&&s(function(t,e){const s=Cb[t.type]||t.type,{x:i,y:n}=dm(t,e);return {type:s,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==n?n:null}}(e,t));},t);return function(t,e,s){t&&t.addEventListener(e,s,Ib);}(i,e,n),n}class zb extends Sb{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(function(t,e){const s=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[Db]={initial:{height:i,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Nb(n)){const e=bm(t,"width");void 0!==e&&(t.width=e);}if(Nb(i))if(""===t.style.height)t.height=t.width/(e||2);else {const e=bm(t,"height");void 0!==e&&(t.height=e);}}(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Db])return  false;const s=e[Db].initial;["height","width"].forEach(t=>{const i=s[t];Wd(i)?e.removeAttribute(t):e.setAttribute(t,i);});const i=s.style||{};return Object.keys(i).forEach(t=>{e.style[t]=i[t];}),e.width=e.width,delete e[Db],true}addEventListener(t,e,s){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),n={attach:Pb,detach:Lb,resize:Ub}[e]||Hb;i[e]=n(t,e,s);}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];i&&(({attach:qb,detach:qb,resize:qb}[e]||Ob)(t,e,i),s[e]=void 0);}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return function(t,e,s,i){const n=hm(t),r=um(n,"margin"),a=cm(n.maxWidth,t,"clientWidth")||gf,o=cm(n.maxHeight,t,"clientHeight")||gf,c=function(t,e,s){let i,n;if(void 0===e||void 0===s){const r=t&&om(t);if(r){const t=r.getBoundingClientRect(),a=hm(r),o=um(a,"border","width"),c=um(a,"padding");e=t.width-c.width-o.width,s=t.height-c.height-o.height,i=cm(a.maxWidth,r,"clientWidth"),n=cm(a.maxHeight,r,"clientHeight");}else e=t.clientWidth,s=t.clientHeight;}return {width:e,height:s,maxWidth:i||gf,maxHeight:n||gf}}(t,e,s);let{width:h,height:l}=c;if("content-box"===n.boxSizing){const t=um(n,"border","width"),e=um(n,"padding");h-=e.width+t.width,l-=e.height+t.height;}return h=Math.max(0,h-r.width),l=Math.max(0,i?h/i:l-r.height),h=fm(Math.min(h,a,c.maxWidth)),l=fm(Math.min(l,o,c.maxHeight)),h&&!l&&(l=fm(h/2)),(void 0!==e||void 0!==s)&&i&&c.height&&l>c.height&&(l=c.height,h=fm(Math.floor(l*i))),{width:h,height:l}}(t,e,s,i)}isAttached(t){const e=t&&om(t);return !(!e||!e.isConnected)}}class $b{static defaults={};static defaultRoutes=void 0;x;y;active=false;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return {x:e,y:s}}hasValue(){return Af(this.x)&&Af(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach(t=>{i[t]=s[t]&&s[t].active()?s[t].sn:this[t];}),i}}function Wb(t,e,s,i,n){const r=Xd(i,0),a=Math.min(Xd(n,t.length),t.length);let o,c,h,l=0;for(s=Math.ceil(s),n&&(o=n-i,s=o/Math.floor(o/s)),h=r;0>h;)l++,h=Math.round(r+l*s);for(c=Math.max(r,0);a>c;c++)c===h&&(e.push(t[c]),l++,h=Math.round(r+l*s));}const Yb=(t,e,s)=>"top"===e||"left"===e?t[e]+s:t[e]-s,Vb=(t,e)=>Math.min(e||t,t);function Gb(t,e){const s=[],i=t.length/e,n=t.length;let r=0;for(;n>r;r+=i)s.push(t[Math.floor(r)]);return s}function Qb(t,e,s){const i=t.ticks.length,n=Math.min(e,i-1),r=t.gr,a=t.yr,o=1e-6;let c,h=t.getPixelForTick(n);if(!(s&&(c=1===i?Math.max(h-r,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=e>n?c:-c,r-o>h||h>a+o)))return h}function Xb(t){return t.drawTicks?t.tickLength:0}function Zb(t,e){if(!t.display)return 0;const s=Fp(t.font,e),i=Bp(t.padding);return (Yd(t.text)?t.text.length:1)*s.lineHeight+i.height}function Jb(t,e,s){let i=Yf(t);return (s&&"right"!==e||!s&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class Kb extends $b{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.Ar={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.Sr=void 0,this.ticks=[],this.Er=null,this.Dr=null,this.Cr=null,this.Gn=0,this.Nr=0,this.Ir={},this.gr=void 0,this.yr=void 0,this._r=false,this.Or=void 0,this.Rr=void 0,this.Pr=void 0,this.Lr=void 0,this.Br=0,this.Fr=0,this.Vn={},this.jr=false,this.$context=void 0;}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this.Rr=this.parse(t.min),this.Or=this.parse(t.max),this.Lr=this.parse(t.suggestedMin),this.Pr=this.parse(t.suggestedMax);}parse(t,e){return t}getUserBounds(){let{Rr:t,Or:e,Lr:s,Pr:i}=this;return t=Qd(t,1/0),e=Qd(e,-1/0),s=Qd(s,1/0),i=Qd(i,-1/0),{min:Qd(t,s),max:Qd(e,i),minDefined:Gd(t),maxDefined:Gd(e)}}getMinMax(t){let e,{min:s,max:i,minDefined:n,maxDefined:r}=this.getUserBounds();if(n&&r)return {min:s,max:i};const a=this.getMatchingVisibleMetas();for(let o=0,c=a.length;c>o;++o)e=a[o].controller.getMinMax(this,t),n||(s=Math.min(s,e.min)),r||(i=Math.max(i,e.max));return s=r&&s>i?i:s,i=n&&s>i?s:i,{min:Qd(s,Qd(i,s)),max:Qd(i,Qd(s,i))}}getPadding(){return {left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this.Dr||(this.Dr=this.Ur(t))}beforeLayout(){this.Vn={},this.jr=false;}beforeUpdate(){Jd(this.options.beforeUpdate,[this]);}update(t,e,s){const{beginAtZero:i,grace:n,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.Ar=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this.Cr=null,this.Er=null,this.Dr=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.Nr=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this.jr||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.Sr=function(t,e,s){const{min:i,max:n}=t,r=Zd(e,(n-i)/2),a=(t,e)=>s&&0===t?0:t+e;return {min:a(i,-Math.abs(r)),max:a(n,r)}}(this,n,i),this.jr=true),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this.qr(o?Gb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function(t,e){const s=t.options.ticks,i=function(t){const e=t.options.offset,s=t.Hr(),i=t.Gn/s+(e?0:1),n=t.Nr/s;return Math.floor(Math.min(i,n))}(t),n=Math.min(s.maxTicksLimit||i,i),r=s.major.enabled?function(t){const e=[];let s,i;for(s=0,i=t.length;i>s;s++)t[s].major&&e.push(s);return e}(e):[],a=r.length,o=r[0],c=r[a-1],h=[];if(a>n)return function(t,e,s,i){let n,r=0,a=s[0];for(i=Math.ceil(i),n=0;n<t.length;n++)n===a&&(e.push(t[n]),r++,a=s[r*i]);}(e,h,r,a/n),h;const l=function(t,e,s){const i=function(t){const e=t.length;let s,i;if(2>e)return  false;for(i=t[0],s=1;e>s;++s)if(t[s]-t[s-1]!==i)return  false;return i}(t),n=e.length/s;if(!i)return Math.max(n,1);const r=function(t){const e=[],s=Math.sqrt(t);let i;for(i=1;s>i;i++)t%i===0&&(e.push(i),e.push(t/i));return s===(0|s)&&e.push(s),e.sort((t,e)=>t-e).pop(),e}(i);for(let a=0,o=r.length-1;o>a;a++){const t=r[a];if(t>n)return t}return Math.max(n,1)}(r,e,n);if(a>0){let t,s;const i=a>1?Math.round((c-o)/(a-1)):null;for(Wb(e,h,l,Wd(i)?0:o-i,o),t=0,s=a-1;s>t;t++)Wb(e,h,l,r[t],r[t+1]);return Wb(e,h,l,c,Wd(i)?e.length:c+i),h}return Wb(e,h,l),h}(this,this.ticks),this.Cr=null,this.afterAutoSkip()),o&&this.qr(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate();}configure(){let t,e,s=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,s=!s),this.gr=t,this.yr=e,this._r=s,this.Gn=e-t,this.zr=this.options.alignToPixels;}afterUpdate(){Jd(this.options.afterUpdate,[this]);}beforeSetDimensions(){Jd(this.options.beforeSetDimensions,[this]);}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0;}afterSetDimensions(){Jd(this.options.afterSetDimensions,[this]);}$r(t){this.chart.notifyPlugins(t,this.getContext()),Jd(this.options[t],[this]);}beforeDataLimits(){this.$r("beforeDataLimits");}determineDataLimits(){}afterDataLimits(){this.$r("afterDataLimits");}beforeBuildTicks(){this.$r("beforeBuildTicks");}buildTicks(){return []}afterBuildTicks(){this.$r("afterBuildTicks");}beforeTickToLabelConversion(){Jd(this.options.beforeTickToLabelConversion,[this]);}generateTickLabels(t){const e=this.options.ticks;let s,i,n;for(s=0,i=t.length;i>s;s++)n=t[s],n.label=Jd(e.callback,[n.value,s,t],this);}afterTickToLabelConversion(){Jd(this.options.afterTickToLabelConversion,[this]);}beforeCalculateLabelRotation(){Jd(this.options.beforeCalculateLabelRotation,[this]);}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Vb(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,n=e.maxRotation;let r,a,o,c=i;if(!(this.Wr()&&e.display&&n>i&&s>1&&this.isHorizontal()))return void(this.labelRotation=i);const h=this.Yr(),l=h.widest.width,u=h.highest.height,d=Lf(this.chart.width-l,0,this.maxWidth);r=t.offset?this.maxWidth/s:d/(s-1),l+6>r&&(r=d/(s-(t.offset?.5:1)),a=this.maxHeight-Xb(t.grid)-e.padding-Zb(t.title,this.chart.options.font),o=Math.sqrt(l*l+u*u),c=Df(Math.min(Math.asin(Lf((h.highest.height+6)/r,-1,1)),Math.asin(Lf(a/o,-1,1))-Math.asin(Lf(u/o,-1,1)))),c=Math.max(i,Math.min(n,c))),this.labelRotation=c;}afterCalculateLabelRotation(){Jd(this.options.afterCalculateLabelRotation,[this]);}afterAutoSkip(){}beforeFit(){Jd(this.options.beforeFit,[this]);}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:n}}=this,r=this.Wr(),a=this.isHorizontal();if(r){const r=Zb(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=Xb(n)+r):(t.height=this.maxHeight,t.width=Xb(n)+r),s.display&&this.ticks.length){const{first:e,last:i,widest:n,highest:r}=this.Yr(),o=2*s.padding,c=Ef(this.labelRotation),h=Math.cos(c),l=Math.sin(c);if(a){const e=s.mirror?0:l*n.width+h*r.height;t.height=Math.min(this.maxHeight,t.height+e+o);}else {const e=s.mirror?0:h*n.width+l*r.height;t.width=Math.min(this.maxWidth,t.width+e+o);}this.Vr(e,i,l,h);}}this.Gr(),a?(this.width=this.Gn=e.width-this.Ar.left-this.Ar.right,this.height=t.height):(this.width=t.width,this.height=this.Gn=e.height-this.Ar.top-this.Ar.bottom);}Vr(t,e,s,i){const{ticks:{align:n,padding:r},position:a}=this.options,o=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let l=0,u=0;o?c?(l=i*t.width,u=s*e.height):(l=s*t.height,u=i*e.width):"start"===n?u=e.width:"end"===n?l=t.width:"inner"!==n&&(l=t.width/2,u=e.width/2),this.paddingLeft=Math.max((l-a+r)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-h+r)*this.width/(this.width-h),0);}else {let s=e.height/2,i=t.height/2;"start"===n?(s=0,i=t.height):"end"===n&&(s=e.height,i=0),this.paddingTop=s+r,this.paddingBottom=i+r;}}Gr(){this.Ar&&(this.Ar.left=Math.max(this.paddingLeft,this.Ar.left),this.Ar.top=Math.max(this.paddingTop,this.Ar.top),this.Ar.right=Math.max(this.paddingRight,this.Ar.right),this.Ar.bottom=Math.max(this.paddingBottom,this.Ar.bottom));}afterFit(){Jd(this.options.afterFit,[this]);}isHorizontal(){const{axis:t,position:e}=this.options;return "top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}qr(t){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,s=t.length;s>e;e++)Wd(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion();}Yr(){let t=this.Cr;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Gb(s,e)),this.Cr=t=this.Qr(s,s.length,this.options.ticks.maxTicksLimit);}return t}Qr(t,e,s){const{ctx:i,Ir:n}=this,r=[],a=[],o=Math.floor(e/Vb(e,s));let c,h,l,u,d,f,p,m,b,g,y,v=0,k=0;for(c=0;e>c;c+=o){if(u=t[c].label,d=this.Xr(c),i.font=f=d.string,p=n[f]=n[f]||{data:{},gc:[]},m=d.lineHeight,b=g=0,Wd(u)||Yd(u)){if(Yd(u))for(h=0,l=u.length;l>h;++h)y=u[h],Wd(y)||Yd(y)||(b=mp(i,p.data,p.gc,b,y),g+=m);}else b=mp(i,p.data,p.gc,b,u),g=m;r.push(b),a.push(g),v=Math.max(b,v),k=Math.max(g,k);}!function(t,e){Kd(t,t=>{const s=t.gc,i=s.length/2;let n;if(i>e){for(n=0;i>n;++n)delete t.data[s[n]];s.splice(0,i);}});}(n,e);const w=r.indexOf(v),x=a.indexOf(k),M=t=>({width:r[t]||0,height:a[t]||0});return {first:M(0),last:M(e-1),widest:M(w),highest:M(x),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return 0>t||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._r&&(t=1-t);const e=this.gr+t*this.Gn;return Lf(this.zr?gp(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this.gr)/this.Gn;return this._r?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return 0>t&&0>e?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=function(t,e,s){return Up(t,{tick:s,index:e,type:"tick"})}(this.getContext(),t,s))}return this.$context||(this.$context=Up(this.chart.getContext(),{scale:this,type:"scale"}))}Hr(){const t=this.options.ticks,e=Ef(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),n=this.Yr(),r=t.autoSkipPadding||0,a=n?n.widest.width+r:0,o=n?n.highest.height+r:0;return this.isHorizontal()?o*s>a*i?a/s:o/i:a*s>o*i?o/s:a/i}Wr(){const t=this.options.display;return "auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}Zr(t){const e=this.axis,s=this.chart,i=this.options,{grid:n,position:r,border:a}=i,o=n.offset,c=this.isHorizontal(),h=this.ticks.length+(o?1:0),l=Xb(n),u=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(t){return gp(s,t,f)};let b,g,y,v,k,w,x,M,_,T,A,S;if("top"===r)b=m(this.bottom),w=this.bottom-l,M=b-p,T=m(t.top)+p,S=t.bottom;else if("bottom"===r)b=m(this.top),T=t.top,S=m(t.bottom)-p,w=b+p,M=this.top+l;else if("left"===r)b=m(this.right),k=this.right-l,x=b-p,_=m(t.left)+p,A=t.right;else if("right"===r)b=m(this.left),_=t.left,A=m(t.right)-p,k=b+p,x=this.left+l;else if("x"===e){if("center"===r)b=m((t.top+t.bottom)/2+.5);else if(Vd(r)){const t=Object.keys(r)[0],e=r[t];b=m(this.chart.scales[t].getPixelForValue(e));}T=t.top,S=t.bottom,w=b+p,M=w+l;}else if("y"===e){if("center"===r)b=m((t.left+t.right)/2);else if(Vd(r)){const t=Object.keys(r)[0],e=r[t];b=m(this.chart.scales[t].getPixelForValue(e));}k=b-p,x=k-l,_=t.left,A=t.right;}const E=Xd(i.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/E));for(g=0;h>g;g+=D){const t=this.getContext(g),e=n.setContext(t),i=a.setContext(t),r=e.lineWidth,h=e.color,l=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,m=e.tickBorderDash||[],b=e.tickBorderDashOffset;y=Qb(this,g,o),void 0!==y&&(v=gp(s,y,r),c?k=x=_=A=v:w=M=T=S=v,u.push({tx1:k,ty1:w,tx2:x,ty2:M,x1:_,y1:T,x2:A,y2:S,width:r,color:h,borderDash:l,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:b}));}return this.Br=h,this.Fr=b,u}Ur(t){const e=this.axis,s=this.options,{position:i,ticks:n}=s,r=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:c,padding:h,mirror:l}=n,u=Xb(s.grid),d=u+h,f=l?-h:d,p=-Ef(this.labelRotation),m=[];let b,g,y,v,k,w,x,M,_,T,A,S,E="middle";if("top"===i)w=this.bottom-f,x=this.Jr();else if("bottom"===i)w=this.top+f,x=this.Jr();else if("left"===i){const t=this.Kr(u);x=t.textAlign,k=t.x;}else if("right"===i){const t=this.Kr(u);x=t.textAlign,k=t.x;}else if("x"===e){if("center"===i)w=(t.top+t.bottom)/2+d;else if(Vd(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)+d;}x=this.Jr();}else if("y"===e){if("center"===i)k=(t.left+t.right)/2-d;else if(Vd(i)){const t=Object.keys(i)[0],e=i[t];k=this.chart.scales[t].getPixelForValue(e);}x=this.Kr(u).textAlign;}"y"===e&&("start"===o?E="top":"end"===o&&(E="bottom"));const D=this.Yr();for(b=0,g=a.length;g>b;++b){y=a[b],v=y.label;const t=n.setContext(this.getContext(b));M=this.getPixelForTick(b)+n.labelOffset,_=this.Xr(b),T=_.lineHeight,A=Yd(v)?v.length:1;const e=A/2,s=t.color,o=t.textStrokeColor,h=t.textStrokeWidth;let u,d=x;if(r?(k=M,"inner"===x&&(d=b===g-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),S="top"===i?"near"===c||0!==p?-A*T+T/2:"center"===c?-D.highest.height/2-e*T+T:-D.highest.height+T/2:"near"===c||0!==p?T/2:"center"===c?D.highest.height/2-e*T:D.highest.height-A*T,l&&(S*=-1),0===p||t.showLabelBackdrop||(k+=T/2*Math.sin(p))):(w=M,S=(1-A)*T/2),t.showLabelBackdrop){const e=Bp(t.backdropPadding),s=D.heights[b],i=D.widths[b];let n=S-e.top,r=0-e.left;switch(E){case "middle":n-=s/2;break;case "bottom":n-=s;}switch(x){case "center":r-=i/2;break;case "right":r-=i;break;case "inner":b===g-1?r-=i:b>0&&(r-=i/2);}u={left:r,top:n,width:i+e.width,height:s+e.height,color:t.backdropColor};}m.push({label:v,font:_,textOffset:S,options:{rotation:p,color:s,strokeColor:o,strokeWidth:h,textAlign:d,textBaseline:E,translation:[k,w],backdrop:u}});}return m}Jr(){const{position:t,ticks:e}=this.options;if(-Ef(this.labelRotation))return "top"===t?"left":"right";let s="center";return "start"===e.align?s="left":"end"===e.align?s="right":"inner"===e.align&&(s="inner"),s}Kr(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:n}}=this.options,r=t+n,a=this.Yr().widest.width;let o,c;return "left"===e?i?(c=this.right+n,"near"===s?o="left":"center"===s?(o="center",c+=a/2):(o="right",c+=a)):(c=this.right-r,"near"===s?o="right":"center"===s?(o="center",c-=a/2):(o="left",c=this.left)):"right"===e?i?(c=this.left+n,"near"===s?o="right":"center"===s?(o="center",c-=a/2):(o="left",c-=a)):(c=this.left+r,"near"===s?o="left":"center"===s?(o="center",c+=a/2):(o="right",c=this.right)):o="right",{textAlign:o,x:c}}ta(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return "left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:n,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,n,r),t.restore());}getLineWidthForValue(t){const e=this.options.grid;if(!this.Wr()||!e.display)return 0;const s=this.ticks.findIndex(e=>e.value===t);return 0>s?0:e.setContext(this.getContext(s)).lineWidth}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this.Er||(this.Er=this.Zr(t));let n,r;const a=(t,e,i)=>{i.width&&i.color&&(s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.setLineDash(i.borderDash||[]),s.lineDashOffset=i.borderDashOffset,s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(e.x,e.y),s.stroke(),s.restore());};if(e.display)for(n=0,r=i.length;r>n;++n){const t=i[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset});}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,n=s.setContext(this.getContext()),r=s.display?n.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,o=this.Fr;let c,h,l,u;this.isHorizontal()?(c=gp(t,this.left,r)-r/2,h=gp(t,this.right,a)+a/2,l=u=o):(l=gp(t,this.top,r)-r/2,u=gp(t,this.bottom,a)+a/2,c=h=o),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(c,l),e.lineTo(h,u),e.stroke(),e.restore();}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,s=this.ta();s&&xp(e,s);const i=this.getLabelItems(t);for(const n of i){const t=n.options,s=n.font;Ep(e,n.label,0,n.textOffset,s,t);}s&&Mp(e);}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const n=Fp(s.font),r=Bp(s.padding),a=s.align;let o=n.lineHeight/2;"bottom"===e||"center"===e||Vd(e)?(o+=r.bottom,Yd(s.text)&&(o+=n.lineHeight*(s.text.length-1))):o+=r.top;const{titleX:c,titleY:h,maxWidth:l,rotation:u}=function(t,e,s,i){const{top:n,left:r,bottom:a,right:o,chart:c}=t,{chartArea:h,scales:l}=c;let u,d,f,p=0;const m=a-n,b=o-r;if(t.isHorizontal()){if(d=Vf(i,r,o),Vd(s)){const t=Object.keys(s)[0],i=s[t];f=l[t].getPixelForValue(i)+m-e;}else f="center"===s?(h.bottom+h.top)/2+m-e:Yb(t,s,e);u=o-r;}else {if(Vd(s)){const t=Object.keys(s)[0],i=s[t];d=l[t].getPixelForValue(i)-b+e;}else d="center"===s?(h.left+h.right)/2-b+e:Yb(t,s,e);f=Vf(i,a,n),p="left"===s?-vf:vf;}return {titleX:d,titleY:f,maxWidth:u,rotation:p}}(this,o,e,a);Ep(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:u,textAlign:Jb(a,e,i),textBaseline:"middle",translation:[c,h]});}draw(t){this.Wr()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t));}Tr(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Xd(t.grid&&t.grid.z,-1),i=Xd(t.border&&t.border.z,0);return this.Wr()&&this.draw===Kb.prototype.draw?[{z:s,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle();}},{z:i,draw:()=>{this.drawBorder();}},{z:e,draw:t=>{this.drawLabels(t);}}]:[{z:e,draw:t=>{this.draw(t);}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let n,r;for(n=0,r=e.length;r>n;++n){const r=e[n];r[s]!==this.id||t&&r.type!==t||i.push(r);}return i}Xr(t){return Fp(this.options.ticks.setContext(this.getContext(t)).font)}ea(){const t=this.Xr(0).lineHeight;return (this.isHorizontal()?this.width:this.height)/t}}class tg{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null);}isForType(t){return {}.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;(function(t){return "id"in t&&"defaults"in t})(e)&&(s=this.register(e));const i=this.items,n=t.id,r=this.scope+"."+n;if(!n)throw Error("class does not have id: "+t);return n in i||(i[n]=t,function(t,e,s){const i=rf(Object.create(null),[s?pp.get(s):{},pp.get(e),t.defaults]);pp.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(s=>{const i=s.split("."),n=i.pop(),r=[t].concat(i).join("."),a=e[s].split("."),o=a.pop(),c=a.join(".");pp.route(r,n,c,o);});}(e,t.defaultRoutes),t.descriptors&&pp.describe(e,t.descriptors);}(t,r,s),this.override&&pp.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in pp[i]&&(delete pp[i][s],this.override&&delete hp[s]);}}class eg{constructor(){this.controllers=new tg(Gm,"datasets",true),this.elements=new tg($b,"elements"),this.plugins=new tg(Object,"plugins"),this.scales=new tg(Kb,"scales"),this.sa=[this.controllers,this.scales,this.elements];}add(...t){this.ia("register",t);}remove(...t){this.ia("unregister",t);}addControllers(...t){this.ia("register",t,this.controllers);}addElements(...t){this.ia("register",t,this.elements);}addPlugins(...t){this.ia("register",t,this.plugins);}addScales(...t){this.ia("register",t,this.scales);}getController(t){return this.na(t,this.controllers,"controller")}getElement(t){return this.na(t,this.elements,"element")}getPlugin(t){return this.na(t,this.plugins,"plugin")}getScale(t){return this.na(t,this.scales,"scale")}removeControllers(...t){this.ia("unregister",t,this.controllers);}removeElements(...t){this.ia("unregister",t,this.elements);}removePlugins(...t){this.ia("unregister",t,this.plugins);}removeScales(...t){this.ia("unregister",t,this.scales);}ia(t,e,s){[...e].forEach(e=>{const i=s||this.ra(e);s||i.isForType(e)||i===this.plugins&&e.id?this.aa(t,i,e):Kd(e,e=>{const i=s||this.ra(e);this.aa(t,i,e);});});}aa(t,e,s){const i=lf(t);Jd(s["before"+i],[],s),e[t](s),Jd(s["after"+i],[],s);}ra(t){for(let e=0;e<this.sa.length;e++){const s=this.sa[e];if(s.isForType(t))return s}return this.plugins}na(t,e,s){const i=e.get(t);if(void 0===i)throw Error('"'+t+'" is not a registered '+s+".");return i}}var sg=new eg;class ig{constructor(){this.oa=[];}notify(t,e,s,i){"beforeInit"===e&&(this.oa=this.ca(t,true),this.zi(this.oa,t,"install"));const n=i?this.Pi(t).filter(i):this.Pi(t),r=this.zi(n,t,e,s);return "afterDestroy"===e&&(this.zi(n,t,"stop"),this.zi(this.oa,t,"uninstall")),r}zi(t,e,s,i){i=i||{};for(const n of t){const t=n.plugin;if(false===Jd(t[s],[e,i,n.options],t)&&i.cancelable)return  false}return  true}invalidate(){Wd(this.Vn)||(this.ha=this.Vn,this.Vn=void 0);}Pi(t){if(this.Vn)return this.Vn;const e=this.Vn=this.ca(t);return this.la(t),e}ca(t,e){const s=t&&t.config,i=Xd(s.options&&s.options.plugins,{}),n=function(t){const e={},s=[],i=Object.keys(sg.plugins.items);for(let r=0;r<i.length;r++)s.push(sg.getPlugin(i[r]));const n=t.plugins||[];for(let r=0;r<n.length;r++){const t=n[r];-1===s.indexOf(t)&&(s.push(t),e[t.id]=true);}return {plugins:s,localIds:e}}(s);return  false!==i||e?function(t,{plugins:e,localIds:s},i,n){const r=[],a=t.getContext();for(const o of e){const e=o.id,c=ng(i[e],n);null!==c&&r.push({plugin:o,options:rg(t.config,{plugin:o,local:s[e]},c,a)});}return r}(t,n,i,e):[]}la(t){const e=this.ha||[],s=this.Vn,i=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this.zi(i(e,s),t,"stop"),this.zi(i(s,e),t,"start");}}function ng(t,e){return e||false!==t?true===t?{}:t:null}function rg(t,{plugin:e,local:s},i,n){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return s&&e.defaults&&a.push(e.defaults),t.createResolver(a,n,[""],{scriptable:false,indexable:false,allKeys:true})}function ag(t,e){const s=pp.datasets[t]||{};return ((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function og(t){if("x"===t||"y"===t||"r"===t)return t}function cg(t){return "top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function hg(t,...e){if(og(t))return t;for(const s of e){const e=s.axis||cg(s.position)||t.length>1&&og(t[0].toLowerCase());if(e)return e}throw Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function lg(t,e,s){if(s[e+"AxisID"]===t)return {axis:e}}function ug(t){const e=t.options||(t.options={});e.plugins=Xd(e.plugins,{}),e.scales=function(t,e){const s=hp[t.type]||{scales:{}},i=e.scales||{},n=ag(t.type,e),r=Object.create(null);return Object.keys(i).forEach(e=>{const a=i[e];if(!Vd(a))return;if(a.Ni)return;const o=hg(e,a,function(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(s.length)return lg(t,"x",s[0])||lg(t,"y",s[0])}return {}}(e,t),pp.scales[a.type]),c=function(t,e){return t===e?"_index_":"_value_"}(o,n),h=s.scales||{};r[e]=af(Object.create(null),[{axis:o},a,h[o],h[c]]);}),t.data.datasets.forEach(s=>{const n=s.type||t.type,a=s.indexAxis||ag(n,e),o=(hp[n]||{}).scales||{};Object.keys(o).forEach(t=>{const e=function(t,e){let s=t;return "_index_"===t?s=e:"_value_"===t&&(s="x"===e?"y":"x"),s}(t,a),n=s[e+"AxisID"]||e;r[n]=r[n]||Object.create(null),af(r[n],[{axis:e},i[n],o[t]]);});}),Object.keys(r).forEach(t=>{const e=r[t];af(e,[pp.scales[e.type],pp.scale]);}),r}(t,e);}function dg(t){return (t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const fg=new Map,pg=new Set;function mg(t,e){let s=fg.get(t);return s||(s=e(),fg.set(t,s),pg.add(s)),s}const bg=(t,e,s)=>{const i=hf(e,s);void 0!==i&&t.add(i);};class gg{constructor(t){this.ei=function(t){return (t=t||{}).data=dg(t.data),ug(t),t}(t),this.ua=new Map,this.da=new Map;}get platform(){return this.ei.platform}get type(){return this.ei.type}set type(t){this.ei.type=t;}get data(){return this.ei.data}set data(t){this.ei.data=dg(t);}get options(){return this.ei.options}set options(t){this.ei.options=t;}get plugins(){return this.ei.plugins}update(){const t=this.ei;this.clearCache(),ug(t);}clearCache(){this.ua.clear(),this.da.clear();}datasetScopeKeys(t){return mg(t,()=>[["datasets."+t,""]])}datasetAnimationScopeKeys(t,e){return mg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,"transitions."+e],["datasets."+t,""]])}datasetElementScopeKeys(t,e){return mg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,"datasets."+t,"elements."+e,""]])}pluginScopeKeys(t){const e=t.id;return mg(`${this.type}-plugin-${e}`,()=>[["plugins."+e,...t.additionalOptionScopes||[]]])}fa(t,e){const s=this.ua;let i=s.get(t);return i&&!e||(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:n}=this,r=this.fa(t,s),a=r.get(e);if(a)return a;const o=new Set;e.forEach(e=>{t&&(o.add(t),e.forEach(e=>bg(o,t,e))),e.forEach(t=>bg(o,i,t)),e.forEach(t=>bg(o,hp[n]||{},t)),e.forEach(t=>bg(o,pp,t)),e.forEach(t=>bg(o,lp,t));});const c=Array.from(o);return 0===c.length&&c.push(Object.create(null)),pg.has(e)&&r.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return [t,hp[e]||{},pp.datasets[e]||{},{type:e},pp,lp]}resolveNamedOptions(t,e,s,i=[""]){const n={$shared:true},{resolver:r,subPrefixes:a}=yg(this.da,t,i);let o=r;(function(t,e){const{isScriptable:s,isIndexable:i}=zp(t);for(const n of e){const e=s(n),r=i(n),a=(r||e)&&t[n];if(e&&(df(a)||vg(a))||r&&Yd(a))return  true}return  false})(r,e)&&(n.$shared=false,o=Hp(r,s=df(s)?s():s,this.createResolver(t,s,a)));for(const c of e)n[c]=o[c];return n}createResolver(t,e,s=[""],i){const{resolver:n}=yg(this.da,t,s);return Vd(e)?Hp(n,e,void 0,i):n}}function yg(t,e,s){let i=t.get(e);i||(i=new Map,t.set(e,i));const n=s.join();let r=i.get(n);return r||(r={resolver:qp(e,s),subPrefixes:s.filter(t=>!t.toLowerCase().includes("hover"))},i.set(n,r)),r}const vg=t=>Vd(t)&&Object.getOwnPropertyNames(t).some(e=>df(t[e])),kg=["top","bottom","left","right","chartArea"];function wg(t,e){return "top"===t||"bottom"===t||-1===kg.indexOf(t)&&"x"===e}function xg(t,e){return function(s,i){return s[t]===i[t]?s[e]-i[e]:s[t]-i[t]}}function Mg(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Jd(s&&s.onComplete,[t],e);}function _g(t){const e=t.chart,s=e.options.animation;Jd(s&&s.onProgress,[t],e);}function Tg(t){return am()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ag={},Sg=t=>{const e=Tg(t);return Object.values(Ag).filter(t=>t.canvas===e).pop()};function Eg(t,e,s){const i=Object.keys(t);for(const n of i){const i=+n;if(i>=e){const r=t[n];delete t[n],(s>0||i>e)&&(t[i+s]=r);}}}class Dg{static defaults=pp;static instances=Ag;static overrides=hp;static registry=sg;static version="4.5.0";static getChart=Sg;static register(...t){sg.add(...t),Cg();}static unregister(...t){sg.remove(...t),Cg();}constructor(t,e){const s=this.config=new gg(e),i=Tg(t),n=Sg(i);if(n)throw Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(t){return !am()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Eb:zb}(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),o=a&&a.canvas,c=o&&o.height,h=o&&o.width;this.id=$d(),this.ctx=a,this.canvas=o,this.width=h,this.height=c,this._=r,this.pa=this.aspectRatio,this.Tr=[],this.ma=[],this.dn=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.Yi=[],this.ba=void 0,this.ga={},this.ya=void 0,this.va=[],this.scales={},this.ka=new ig,this.$proxies={},this.wa={},this.attached=false,this.On=void 0,this.$context=void 0,this.xa=function(t,e){let s;return function(...i){return e?(clearTimeout(s),s=setTimeout(t,e,i)):t.apply(this,i),e}}(t=>this.update(t),r.resizeDelay||0),this.qn=[],Ag[this.id]=this,a&&o&&(Im.listen(this,"complete",Mg),Im.listen(this,"progress",_g),this.Ma(),this.attached&&this.update());}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,pa:n}=this;return Wd(t)?e&&n?n:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t;}get options(){return this._}set options(t){this.config.options=t;}get registry(){return sg}Ma(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yp(this.canvas,this.ctx),this}stop(){return Im.stop(this),this}resize(t,e){Im.running(this)?this._a={width:t,height:e}:this.Ta(t,e);}Ta(t,e){const s=this.options,i=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,e,n),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this.pa=this.aspectRatio,pm(this,a,true)&&(this.notifyPlugins("resize",{size:r}),Jd(s.onResize,[this,r],this),this.attached&&this.xa(o)&&this.render());}ensureScalesHaveIDs(){Kd(this.options.scales||{},(t,e)=>{t.id=e;});}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce((t,e)=>(t[e]=false,t),{});let n=[];e&&(n=n.concat(Object.keys(e).map(t=>{const s=e[t],i=hg(t,s),n="r"===i,r="x"===i;return {options:s,dposition:n?"chartArea":r?"bottom":"left",dtype:n?"radialLinear":r?"category":"linear"}}))),Kd(n,e=>{const n=e.options,r=n.id,a=hg(r,n),o=Xd(n.type,e.dtype);void 0!==n.position&&wg(n.position,a)===wg(e.dposition)||(n.position=e.dposition),i[r]=true;let c=null;r in s&&s[r].type===o?c=s[r]:(c=new(sg.getScale(o))({id:r,type:o,ctx:this.ctx,chart:this}),s[c.id]=c),c.init(n,t);}),Kd(i,(t,e)=>{t||delete s[e];}),Kd(s,t=>{Ab.configure(this,t,t.options),Ab.addBox(this,t);});}Aa(){const t=this.ma,e=this.data.datasets.length,s=t.length;if(t.sort((t,e)=>t.index-e.index),s>e){for(let t=e;s>t;++t)this.Sa(t);t.splice(e,s-e);}this.va=t.slice(0).sort(xg("order","index"));}Ea(){const{ma:t,data:{datasets:e}}=this;t.length>e.length&&delete this.dn,t.forEach((t,s)=>{0===e.filter(e=>e===t.vr).length&&this.Sa(s);});}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this.Ea(),s=0,i=e.length;i>s;s++){const i=e[s];let n=this.getDatasetMeta(s);const r=i.type||this.config.type;if(n.type&&n.type!==r&&(this.Sa(s),n=this.getDatasetMeta(s)),n.type=r,n.indexAxis=i.indexAxis||ag(r,this.options),n.order=i.order||0,n.index=s,n.label=""+i.label,n.visible=this.isDatasetVisible(s),n.controller)n.controller.updateIndex(s),n.controller.linkScales();else {const e=sg.getController(r),{datasetElementType:i,dataElementType:a}=pp.datasets[r];Object.assign(e,{dataElementType:sg.getElement(a),datasetElementType:i&&sg.getElement(i)}),n.controller=new e(this,s),t.push(n.controller);}}return this.Aa(),t}Da(){Kd(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset();},this);}reset(){this.Da(),this.notifyPlugins("reset");}update(t){const e=this.config;e.update();const s=this._=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this.On=!s.animation;if(this.Ca(),this.Na(),this.Ia(),this.ka.invalidate(),false===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:true}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,h=this.data.datasets.length;h>c;c++){const{controller:t}=this.getDatasetMeta(c),e=!i&&-1===n.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r);}r=this.Oa=s.layout.autoPadding?r:0,this.Ra(r),i||Kd(n,t=>{t.reset();}),this.Pa(t),this.notifyPlugins("afterUpdate",{mode:t}),this.Tr.sort(xg("z","_idx"));const{Yi:a,ba:o}=this;o?this.La(o,true):a.length&&this.Ba(a,a,true),this.render();}Ca(){Kd(this.scales,t=>{Ab.removeBox(this,t);}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales();}Na(){const t=this.options,e=new Set(Object.keys(this.ga)),s=new Set(t.events);ff(e,s)&&!!this.ya===t.responsive||(this.unbindEvents(),this.bindEvents());}Ia(){const{wa:t}=this,e=this.Fa()||[];for(const{method:s,start:i,count:n}of e)Eg(t,i,"_removeElements"===s?-n:n);}Fa(){const t=this.qn;if(!t||!t.length)return;this.qn=[];const e=this.data.datasets.length,s=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),i=s(0);for(let n=1;e>n;n++)if(!ff(i,s(n)))return;return Array.from(i).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}Ra(t){if(false===this.notifyPlugins("beforeLayout",{cancelable:true}))return;Ab.update(this,this.width,this.height,t);const e=this.chartArea,s=0>=e.width||0>=e.height;this.Tr=[],Kd(this.boxes,t=>{s&&"chartArea"===t.position||(t.configure&&t.configure(),this.Tr.push(...t.Tr()));},this),this.Tr.forEach((t,e)=>{t.ja=e;}),this.notifyPlugins("afterLayout");}Pa(t){if(false!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:true})){for(let t=0,e=this.data.datasets.length;e>t;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,s=this.data.datasets.length;s>e;++e)this.Ua(e,df(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t});}}Ua(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:true};false!==this.notifyPlugins("beforeDatasetUpdate",i)&&(s.controller.Wi(e),i.cancelable=false,this.notifyPlugins("afterDatasetUpdate",i));}render(){ false!==this.notifyPlugins("beforeRender",{cancelable:true})&&(Im.has(this)?this.attached&&!Im.running(this)&&Im.start(this):(this.draw(),Mg({chart:this})));}draw(){let t;if(this._a){const{width:t,height:e}=this._a;this._a=null,this.Ta(t,e);}if(this.clear(),0>=this.width||0>=this.height)return;if(false===this.notifyPlugins("beforeDraw",{cancelable:true}))return;const e=this.Tr;for(t=0;t<e.length&&0>=e[t].z;++t)e[t].draw(this.chartArea);for(this.qa();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw");}ln(t){const e=this.va,s=[];let i,n;for(i=0,n=e.length;n>i;++i){const n=e[i];t&&!n.visible||s.push(n);}return s}getSortedVisibleDatasetMetas(){return this.ln(true)}qa(){if(false===this.notifyPlugins("beforeDatasetsDraw",{cancelable:true}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this.Ha(t[e]);this.notifyPlugins("afterDatasetsDraw");}Ha(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:true},i=Cm(this,t);false!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&xp(e,i),t.controller.draw(),i&&Mp(e),s.cancelable=false,this.notifyPlugins("afterDatasetDraw",s));}isPointInArea(t){return wp(t,this.chartArea,this.Oa)}getElementsAtEventForMode(t,e,s,i){const n=pb.modes[e];return "function"==typeof n?n(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this.ma;let i=s.filter(t=>t&&t.vr===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,vr:e,ki:[],yi:false},s.push(i)),i}getContext(){return this.$context||(this.$context=Up(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return  false;const s=this.getDatasetMeta(t);return "boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e;}toggleDataVisibility(t){this.wa[t]=!this.wa[t];}getDataVisibility(t){return !this.wa[t]}za(t,e,s){const i=s?"show":"hide",n=this.getDatasetMeta(t),r=n.controller.In(void 0,i);uf(e)?(n.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),r.update(n,{visible:s}),this.update(e=>e.datasetIndex===t?i:void 0));}hide(t,e){this.za(t,e,false);}show(t,e){this.za(t,e,true);}Sa(t){const e=this.ma[t];e&&e.controller&&e.controller.En(),delete this.ma[t];}$a(){let t,e;for(this.stop(),Im.remove(this),t=0,e=this.data.datasets.length;e>t;++t)this.Sa(t);}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this.$a(),this.config.clearCache(),t&&(this.unbindEvents(),yp(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ag[this.id],this.notifyPlugins("afterDestroy");}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=true;}bindUserEvents(){const t=this.ga,e=this.platform,s=(s,i)=>{e.addEventListener(this,s,i),t[s]=i;},i=(t,e,s)=>{t.offsetX=e,t.offsetY=s,this.La(t);};Kd(this.options.events,t=>s(t,i));}bindResponsiveEvents(){this.ya||(this.ya={});const t=this.ya,e=this.platform,s=(s,i)=>{e.addEventListener(this,s,i),t[s]=i;},i=(s,i)=>{t[s]&&(e.removeEventListener(this,s,i),delete t[s]);},n=(t,e)=>{this.canvas&&this.resize(t,e);};let r;const a=()=>{i("attach",a),this.attached=true,this.resize(),s("resize",n),s("detach",r);};r=()=>{this.attached=false,i("resize",n),this.$a(),this.Ta(0,0),s("attach",a);},e.isAttached(this.canvas)?a():r();}unbindEvents(){Kd(this.ga,(t,e)=>{this.platform.removeEventListener(this,e,t);}),this.ga={},Kd(this.ya,(t,e)=>{this.platform.removeEventListener(this,e,t);}),this.ya=void 0;}updateHoverStyle(t,e,s){const i=s?"set":"remove";let n,r,a,o;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+i+"DatasetHoverStyle"]()),a=0,o=t.length;o>a;++a){r=t[a];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[i+"HoverStyle"](r.element,r.datasetIndex,r.index);}}getActiveElements(){return this.Yi||[]}setActiveElements(t){const e=this.Yi||[],s=t.map(({datasetIndex:t,index:e})=>{const s=this.getDatasetMeta(t);if(!s)throw Error("No dataset found at index "+t);return {datasetIndex:t,element:s.data[e],index:e}});!tf(s,e)&&(this.Yi=s,this.ba=null,this.Ba(s,e));}notifyPlugins(t,e,s){return this.ka.notify(this,t,e,s)}isPluginEnabled(t){return 1===this.ka.Vn.filter(e=>e.plugin.id===t).length}Ba(t,e,s){const i=this.options.hover,n=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),r=n(e,t),a=s?t:n(t,e);r.length&&this.updateHoverStyle(r,i.mode,false),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,true);}La(t,e){const s={event:t,replay:e,cancelable:true,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(false===this.notifyPlugins("beforeEvent",s,i))return;const n=this.Wa(t,e,s.inChartArea);return s.cancelable=false,this.notifyPlugins("afterEvent",s,i),(n||s.changed)&&this.render(),this}Wa(t,e,s){const{Yi:i=[],options:n}=this,r=e,a=this.Ya(t,i,s,r),o=function(t){return "mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),c=function(t,e,s,i){return s&&"mouseout"!==t.type?i?e:t:null}(t,this.ba,s,o);s&&(this.ba=null,Jd(n.onHover,[t,a,this],this),o&&Jd(n.onClick,[t,a,this],this));const h=!tf(a,i);return (h||e)&&(this.Yi=a,this.Ba(a,i,e)),this.ba=c,h}Ya(t,e,s,i){if("mouseout"===t.type)return [];if(!s)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,i)}}function Cg(){return Kd(Dg.instances,t=>t.ka.invalidate())}function Ng(t,e,s,i){return {x:s+t*Math.cos(e),y:i+t*Math.sin(e)}}function Ig(t,e,s,i,n,r){const{x:a,y:o,startAngle:c,pixelMargin:h,innerRadius:l}=e,u=Math.max(e.outerRadius+i+s-h,0),d=l>0?l+i+s+h:0;let f=0;const p=n-c;if(i){const t=((l>0?l-i:0)+(u>0?u-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2;}const m=(p-Math.max(.001,p*u-s/pf)/u)/2,b=c+m+f,g=n-m-f,{outerStart:y,outerEnd:v,innerStart:k,innerEnd:w}=function(t,e,s,i){const n=Rp(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),r=(s-e)/2,a=Math.min(r,i*e/2),o=t=>Lf(t,0,Math.min(r,(s-Math.min(r,t))*i/2));return {outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:Lf(n.innerStart,0,a),innerEnd:Lf(n.innerEnd,0,a)}}(e,d,u,g-b),x=u-y,M=u-v,_=b+y/x,T=g-v/M,A=d+k,S=d+w,E=b+k/A,D=g-w/S;if(t.beginPath(),r){const e=(_+T)/2;if(t.arc(a,o,u,_,e),t.arc(a,o,u,e,T),v>0){const e=Ng(M,T,a,o);t.arc(e.x,e.y,v,T,g+vf);}const s=Ng(S,g,a,o);if(t.lineTo(s.x,s.y),w>0){const e=Ng(S,D,a,o);t.arc(e.x,e.y,w,g+vf,D+Math.PI);}const i=(g-w/d+(b+k/d))/2;if(t.arc(a,o,d,g-w/d,i,true),t.arc(a,o,d,i,b+k/d,true),k>0){const e=Ng(A,E,a,o);t.arc(e.x,e.y,k,E+Math.PI,b-vf);}const n=Ng(x,b,a,o);if(t.lineTo(n.x,n.y),y>0){const e=Ng(x,_,a,o);t.arc(e.x,e.y,y,b-vf,_);}}else {t.moveTo(a,o);const e=Math.cos(_)*u+a,s=Math.sin(_)*u+o;t.lineTo(e,s);const i=Math.cos(T)*u+a,n=Math.sin(T)*u+o;t.lineTo(i,n);}t.closePath();}function Og(t,e,s=e){t.lineCap=Xd(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Xd(s.borderDash,e.borderDash)),t.lineDashOffset=Xd(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Xd(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Xd(s.borderWidth,e.borderWidth),t.strokeStyle=Xd(s.borderColor,e.borderColor);}function Rg(t,e,s){t.lineTo(s.x,s.y);}function Pg(t,e,s={}){const i=t.length,{start:n=0,end:r=i-1}=s,{start:a,end:o}=e,c=Math.max(n,a),h=Math.min(r,o),l=a>n&&a>r||n>o&&r>o;return {count:i,start:c,loop:e.loop,ilen:c>h&&!l?i+h-c:h-c}}function Lg(t,e,s,i){const{points:n,options:r}=e,{count:a,start:o,loop:c,ilen:h}=Pg(n,s,i),l=function(t){return t.stepped?_p:t.tension||"monotone"===t.cubicInterpolationMode?Tp:Rg}(r);let u,d,f,{move:p=true,reverse:m}=i||{};for(u=0;h>=u;++u)d=n[(o+(m?h-u:u))%a],d.skip||(p?(t.moveTo(d.x,d.y),p=false):l(t,f,d,m,r.stepped),f=d);return c&&(d=n[(o+(m?h:0))%a],l(t,f,d,m,r.stepped)),!!c}function Bg(t,e,s,i){const n=e.points,{count:r,start:a,ilen:o}=Pg(n,s,i),{move:c=true,reverse:h}=i||{};let l,u,d,f,p,m,b=0,g=0;const y=t=>(a+(h?o-t:t))%r,v=()=>{f!==p&&(t.lineTo(b,p),t.lineTo(b,f),t.lineTo(b,m));};for(c&&(u=n[y(0)],t.moveTo(u.x,u.y)),l=0;o>=l;++l){if(u=n[y(l)],u.skip)continue;const e=u.x,s=u.y,i=0|e;i===d?(f>s?f=s:s>p&&(p=s),b=(g*b+e)/++g):(v(),t.lineTo(e,s),d=i,g=0,f=p=s),m=s;}v();}function Fg(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return t.wr||t.Ji||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||s?Lg:Bg}const jg="function"==typeof Path2D;class Ug extends $b{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:true,cubicInterpolationMode:"default",fill:false,spanGaps:false,stepped:false,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={xi:true,Mi:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=true,this.options=void 0,this.rn=void 0,this.Ji=void 0,this.Mr=void 0,this.Va=void 0,this.Ga=void 0,this.Qa=void 0,this.wr=false,this.Xa=false,this.kr=void 0,t&&Object.assign(this,t);}updateControlPoints(t,e){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this.Xa){const i=s.spanGaps?this.Ji:this.Mr;((function(t,e,s,i,n){let r,a,o,c;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)!function(t,e="x"){const s=im(e),i=t.length,n=Array(i).fill(0),r=Array(i);let a,o,c,h=sm(t,0);for(a=0;i>a;++a)if(o=c,c=h,h=sm(t,a+1),c){if(h){const t=h[e]-c[e];n[a]=0!==t?(h[s]-c[s])/t:0;}r[a]=o?h?Mf(n[a-1])!==Mf(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a];}!function(t,e,s){const i=t.length;let n,r,a,o,c,h=sm(t,0);for(let l=0;i-1>l;++l)c=h,h=sm(t,l+1),c&&h&&(_f(e[l],0,em)?s[l]=s[l+1]=0:(n=s[l]/e[l],r=s[l+1]/e[l],o=Math.pow(n,2)+Math.pow(r,2),o>9&&(a=3/Math.sqrt(o),s[l]=n*a*e[l],s[l+1]=r*a*e[l])));}(t,n,r),function(t,e,s="x"){const i=im(s),n=t.length;let r,a,o,c=sm(t,0);for(let h=0;n>h;++h){if(a=o,o=c,c=sm(t,h+1),!o)continue;const n=o[s],l=o[i];a&&(r=(n-a[s])/3,o["cp1"+s]=n-r,o["cp1"+i]=l-r*e[h]),c&&(r=(c[s]-n)/3,o["cp2"+s]=n+r,o["cp2"+i]=l+r*e[h]);}}(t,r,e);}(t,n);else {let s=i?t[t.length-1]:t[0];for(r=0,a=t.length;a>r;++r)o=t[r],c=nm(s,o,t[Math.min(r+1,a-(i?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,s=o;}e.capBezierPoints&&function(t,e){let s,i,n,r,a,o=wp(t[0],e);for(s=0,i=t.length;i>s;++s)a=r,r=o,o=i-1>s&&wp(t[s+1],e),r&&(n=t[s],a&&(n.cp1x=rm(n.cp1x,e.left,e.right),n.cp1y=rm(n.cp1y,e.top,e.bottom)),o&&(n.cp2x=rm(n.cp2x,e.left,e.right),n.cp2y=rm(n.cp2y,e.top,e.bottom)));}(t,s);}))(this.Ga,s,t,i,e),this.Xa=true;}}set points(t){this.Ga=t,delete this.Qa,delete this.Va,this.Xa=false;}get points(){return this.Ga}get segments(){return this.Qa||(this.Qa=function(t,e){const s=t.points,i=t.options.spanGaps,n=s.length;if(!n)return [];const r=!!t.Ji,{start:a,end:o}=function(t,e,s,i){let n=0,r=e-1;if(s&&!i)for(;e>n&&!t[n].skip;)n++;for(;e>n&&t[n].skip;)n++;for(n%=e,s&&(r+=n);r>n&&t[r%e].skip;)r--;return r%=e,{start:n,end:r}}(s,n,r,i);return function(t,e,s,i){return i&&i.setContext&&s?function(t,e,s,i){const n=t.rn.getContext(),r=Sm(t.options),{kr:a,options:{spanGaps:o}}=t,c=s.length,h=[];let l=r,u=e[0].start,d=u;function f(t,e,i,n){const r=o?-1:1;if(t!==e){for(t+=c;s[t%c].skip;)t-=r;for(;s[e%c].skip;)e+=r;t%c!==e%c&&(h.push({start:t%c,end:e%c,loop:i,style:n}),l=n,u=e%c);}}for(const p of e){u=o?u:p.start;let t,e=s[u%c];for(d=u+1;d<=p.end;d++){const r=s[d%c];t=Sm(i.setContext(Up(n,{type:"segment",p0:e,p1:r,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:a}))),Em(t,l)&&f(u,d-1,p.loop,l),e=r,l=t;}d-1>u&&f(u,d-1,p.loop,l);}return h}(t,e,s,i):e}(t,true===i?[{start:a,end:o,loop:r}]:function(t,e,s,i){const n=t.length,r=[];let a,o=e,c=t[e];for(a=e+1;s>=a;++a){const s=t[a%n];s.skip||s.stop?c.skip||(i=false,r.push({start:e%n,end:(a-1)%n,loop:i}),e=o=s.stop?a:null):(o=a,c.skip&&(e=a)),c=s;}return null!==o&&r.push({start:e%n,end:o%n,loop:i}),r}(s,a,a>o?o+n:o,!!t.Mr&&0===a&&o===n-1),s,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,i=t[e],n=this.points,r=Am(this,{property:e,start:i,end:i});if(!r.length)return;const a=[],o=function(t){return t.stepped?ym:t.tension||"monotone"===t.cubicInterpolationMode?vm:gm}(s);let c,h;for(c=0,h=r.length;h>c;++c){const{start:h,end:l}=r[c],u=n[h],d=n[l];if(u===d){a.push(u);continue}const f=o(u,d,Math.abs((i-u[e])/(d[e]-u[e])),s.stepped);f[e]=t[e],a.push(f);}return 1===a.length?a[0]:a}pathSegment(t,e,s){return Fg(this)(t,this,e,s)}path(t,e,s){const i=this.segments,n=Fg(this);let r=this.Ji;e=e||0,s=s||this.points.length-e;for(const a of i)r&=n(t,this,a,{start:e,end:e+s-1});return !!r}draw(t,e,s,i){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),function(t,e,s,i){jg&&!e.options.segment?function(t,e,s,i){let n=e.Va;n||(n=e.Va=new Path2D,e.path(n,s,i)&&n.closePath()),Og(t,e.options),t.stroke(n);}(t,e,s,i):function(t,e,s,i){const{segments:n,options:r}=e,a=Fg(e);for(const o of n)Og(t,r,o.style),t.beginPath(),a(t,e,o,{start:s,end:s+i-1})&&t.closePath(),t.stroke();}(t,e,s,i);}(t,this,s,i),t.restore()),this.animated&&(this.Xa=false,this.Va=void 0);}}function qg(t,e,s,i){const n=t.options,{[s]:r}=t.getProps([s],i);return Math.abs(e-r)<n.radius+n.hitRadius}function Hg(t,e){const{x:s,y:i,base:n,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let o,c,h,l,u;return t.horizontal?(u=a/2,o=Math.min(s,n),c=Math.max(s,n),h=i-u,l=i+u):(u=r/2,o=s-u,c=s+u,h=Math.min(i,n),l=Math.max(i,n)),{left:o,top:h,right:c,bottom:l}}function zg(t,e,s,i){return t?0:Lf(e,s,i)}function $g(t,e,s,i){const n=null===e,r=null===s,a=t&&!(n&&r)&&Hg(t,i);return a&&(n||Bf(e,a.left,a.right))&&(r||Bf(s,a.top,a.bottom))}function Wg(t,e){t.rect(e.x,e.y,e.w,e.h);}function Yg(t,e,s={}){const i=t.x!==s.x?-e:0,n=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-i,a=(t.y+t.h!==s.y+s.h?e:0)-n;return {x:t.x+i,y:t.y+n,w:t.w+r,h:t.h+a,radius:t.radius}}var Vg=Object.freeze({__proto__:null,ArcElement:class extends $b{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:true,selfJoin:false};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={xi:true,Mi:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t);}inRange(t,e,s){const i=this.getProps(["x","y"],s),{angle:n,distance:r}=Nf(i,{x:t,y:e}),{startAngle:a,endAngle:o,innerRadius:c,outerRadius:h,circumference:l}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,d=Xd(l,o-a),f=Pf(n,a,o)&&a!==o,p=d>=mf||f,m=Bf(r,c+u,h+u);return p&&m}getCenterPoint(t){const{x:e,y:s,startAngle:i,endAngle:n,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:o,spacing:c}=this.options,h=(i+n)/2,l=(r+a+c+o)/2;return {x:e+Math.cos(h)*l,y:s+Math.sin(h)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,i=(e.offset||0)/4,n=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=s>mf?Math.floor(s/mf):0,0===s||0>this.innerRadius||0>this.outerRadius)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const o=i*(1-Math.sin(Math.min(pf,s||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,s,i,n){const{fullCircles:r,startAngle:a,circumference:o}=e;let c=e.endAngle;if(r){Ig(t,e,s,i,c,n);for(let e=0;r>e;++e)t.fill();isNaN(o)||(c=a+(o%mf||mf));}Ig(t,e,s,i,c,n),t.fill();}(t,this,o,n,r),function(t,e,s,i,n){const{fullCircles:r,startAngle:a,circumference:o,options:c}=e,{borderWidth:h,borderJoinStyle:l,borderDash:u,borderDashOffset:d,borderRadius:f}=c,p="inner"===c.borderAlign;if(!h)return;t.setLineDash(u||[]),t.lineDashOffset=d,p?(t.lineWidth=2*h,t.lineJoin=l||"round"):(t.lineWidth=h,t.lineJoin=l||"bevel");let m=e.endAngle;if(r){Ig(t,e,s,i,m,n);for(let e=0;r>e;++e)t.stroke();isNaN(o)||(m=a+(o%mf||mf));}p&&function(t,e,s){const{startAngle:i,pixelMargin:n,x:r,y:a,outerRadius:o,innerRadius:c}=e;let h=n/o;t.beginPath(),t.arc(r,a,o,i-h,s+h),c>n?(h=n/c,t.arc(r,a,c,s+h,i-h,true)):t.arc(r,a,n,s+vf,i-vf),t.closePath(),t.clip();}(t,e,m),c.selfJoin&&m-a>=pf&&0===f&&"miter"!==l&&function(t,e,s){const{startAngle:i,x:n,y:r,outerRadius:a,innerRadius:o,options:c}=e,{borderWidth:h,borderJoinStyle:l}=c,u=Math.min(h/a,Rf(i-s));if(t.beginPath(),t.arc(n,r,a-h/2,i+u/2,s-u/2),o>0){const e=Math.min(h/o,Rf(i-s));t.arc(n,r,o+h/2,s-e/2,i+e/2,true);}else {const e=Math.min(h/2,a*Rf(i-s));if("round"===l)t.arc(n,r,e,s-pf/2,i+pf/2,true);else if("bevel"===l){const a=2*e*e,o=-a*Math.cos(s+pf/2)+n,c=-a*Math.sin(s+pf/2)+r,h=a*Math.cos(i+pf/2)+n,l=a*Math.sin(i+pf/2)+r;t.lineTo(o,c),t.lineTo(h,l);}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd");}(t,e,m),r||(Ig(t,e,s,i,m,n),t.stroke());}(t,this,o,n,r),t.restore();}},BarElement:class extends $b{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t);}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:i}}=this,{inner:n,outer:r}=function(t){const e=Hg(t),s=e.right-e.left,i=e.bottom-e.top,n=function(t,e,s){const i=t.options.borderWidth,n=t.borderSkipped,r=Pp(i);return {t:zg(n.top,r.top,0,s),r:zg(n.right,r.right,0,e),b:zg(n.bottom,r.bottom,0,s),l:zg(n.left,r.left,0,e)}}(t,s/2,i/2),r=function(t,e,s){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,r=Lp(n),a=Math.min(e,s),o=t.borderSkipped,c=i||Vd(n);return {topLeft:zg(!c||o.top||o.left,r.topLeft,0,a),topRight:zg(!c||o.top||o.right,r.topRight,0,a),bottomLeft:zg(!c||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:zg(!c||o.bottom||o.right,r.bottomRight,0,a)}}(t,s/2,i/2);return {outer:{x:e.left,y:e.top,w:s,h:i,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:s-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}(this),a=(o=r.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Dp:Wg;var o;t.save(),r.w===n.w&&r.h===n.h||(t.beginPath(),a(t,Yg(r,e,n)),t.clip(),a(t,Yg(n,-e,r)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,Yg(n,e)),t.fillStyle=i,t.fill(),t.restore();}inRange(t,e,s){return $g(this,t,e,s)}inXRange(t,e){return $g(this,t,null,e)}inYRange(t,e){return $g(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:i,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return {x:n?(e+i)/2:e,y:n?s:(s+i)/2}}getRange(t){return "x"===t?this.width/2:this.height/2}},LineElement:Ug,PointElement:class extends $b{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t);}inRange(t,e,s){const i=this.options,{x:n,y:r}=this.getProps(["x","y"],s);return Math.pow(t-n,2)+Math.pow(e-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return qg(this,t,"x",e)}inYRange(t,e){return qg(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return {x:e,y:s}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const s=this.options;this.skip||.1>s.radius||!wp(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,vp(t,s,this.x,this.y));}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});const Gg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Qg=Gg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Xg(t){return Gg[t%Gg.length]}function Zg(t){return Qg[t%Qg.length]}function Jg(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return  true;return  false}var Kg={id:"colors",defaults:{enabled:true,forceOverride:false},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:i},options:n}=t.config,{elements:r}=n,a=Jg(i)||(o=n)&&(o.borderColor||o.backgroundColor)||r&&Jg(r)||"rgba(0,0,0,0.1)"!==pp.borderColor||"rgba(0,0,0,0.1)"!==pp.backgroundColor;var o;if(!s.forceOverride&&a)return;const c=function(t){let e=0;return (s,i)=>{const n=t.getDatasetMeta(i).controller;n instanceof ib?e=function(t,e){return t.backgroundColor=t.data.map(()=>Xg(e++)),e}(s,e):n instanceof nb?e=function(t,e){return t.backgroundColor=t.data.map(()=>Zg(e++)),e}(s,e):n&&(e=function(t,e){return t.borderColor=Xg(e),t.backgroundColor=Zg(e),++e}(s,e));}}(t);i.forEach(c);}};function ty(t){if(t.wr){const e=t.kn;delete t.wr,delete t.kn,Object.defineProperty(t,"data",{configurable:true,enumerable:true,writable:true,value:e});}}function ey(t){t.data.datasets.forEach(t=>{ty(t);});}var sy={id:"decimation",defaults:{algorithm:"min-max",enabled:false},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled)return void ey(t);const i=t.width;t.data.datasets.forEach((e,n)=>{const{kn:r,indexAxis:a}=e,o=t.getDatasetMeta(n),c=r||e.data;if("y"===jp([a,t.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const h=t.scales[o.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(t.options.parsing)return;let l,{start:u,count:d}=function(t,e){const s=e.length;let i,n=0;const{iScale:r}=t,{min:a,max:o,minDefined:c,maxDefined:h}=r.getUserBounds();return c&&(n=Lf(jf(e,r.axis,a).lo,0,s-1)),i=h?Lf(jf(e,r.axis,o).hi+1,n,s)-n:s-n,{start:n,count:i}}(o,c);if((s.threshold||4*i)<d){switch(Wd(r)&&(e.kn=c,delete e.data,Object.defineProperty(e,"data",{configurable:true,enumerable:true,get:function(){return this.wr},set:function(t){this.kn=t;}})),s.algorithm){case "lttb":l=function(t,e,s,i,n){const r=n.samples||i;if(r>=s)return t.slice(e,e+s);const a=[],o=(s-2)/(r-2);let c=0;const h=e+s-1;let l,u,d,f,p,m=e;for(a[c++]=t[m],l=0;r-2>l;l++){let i,n=0,r=0;const h=Math.floor((l+1)*o)+1+e,b=Math.min(Math.floor((l+2)*o)+1,s)+e,g=b-h;for(i=h;b>i;i++)n+=t[i].x,r+=t[i].y;n/=g,r/=g;const y=Math.floor(l*o)+1+e,v=Math.min(Math.floor((l+1)*o)+1,s)+e,{x:k,y:w}=t[m];for(d=f=-1,i=y;v>i;i++)f=.5*Math.abs((k-n)*(t[i].y-w)-(k-t[i].x)*(r-w)),f>d&&(d=f,u=t[i],p=i);a[c++]=u,m=p;}return a[c++]=t[h],a}(c,u,d,i,s);break;case "min-max":l=function(t,e,s,i){let n,r,a,o,c,h,l,u,d,f,p=0,m=0;const b=[],g=e+s-1,y=t[e].x,v=t[g].x-y;for(n=e;e+s>n;++n){r=t[n],a=(r.x-y)/v*i,o=r.y;const e=0|a;if(e===c)d>o?(d=o,h=n):o>f&&(f=o,l=n),p=(m*p+r.x)/++m;else {const s=n-1;if(!Wd(h)&&!Wd(l)){const e=Math.min(h,l),i=Math.max(h,l);e!==u&&e!==s&&b.push({...t[e],x:p}),i!==u&&i!==s&&b.push({...t[i],x:p});}n>0&&s!==u&&b.push(t[s]),b.push(r),c=e,m=0,d=f=o,h=l=u=n;}}return b}(c,u,d,i);break;default:throw Error(`Unsupported decimation algorithm '${s.algorithm}'`)}e.wr=l;}else ty(e);});},destroy(t){ey(t);}};function iy(t,e,s,i){if(i)return;let n=e[t],r=s[t];return "angle"===t&&(n=Rf(n),r=Rf(r)),{property:t,start:n,end:r}}function ny(t,e,s){for(;e>t;e--){const t=s[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ry(t,e,s,i){return t&&e?i(t[s],e[s]):t?t[s]:e?e[s]:0}function ay(t,e){let s=[],i=false;return Yd(t)?(i=true,s=t):s=function(t,e){const{x:s=null,y:i=null}=t||{},n=e.points,r=[];return e.segments.forEach(({start:t,end:e})=>{e=ny(t,e,n);const a=n[t],o=n[e];null!==i?(r.push({x:a.x,y:i}),r.push({x:o.x,y:i})):null!==s&&(r.push({x:s,y:a.y}),r.push({x:s,y:o.y}));}),r}(t,e),s.length?new Ug({points:s,options:{tension:0},Ji:i,Mr:i}):null}function oy(t){return t&&false!==t.fill}function cy(t,e,s){let i=t[e].fill;const n=[e];let r;if(!s)return i;for(;false!==i&&-1===n.indexOf(i);){if(!Gd(i))return i;if(r=t[i],!r)return  false;if(r.visible)return i;n.push(i),i=r.fill;}return  false}function hy(t,e,s){const i=function(t){const e=t.options,s=e.fill;let i=Xd(s&&s.target,s);return void 0===i&&(i=!!e.backgroundColor),false!==i&&null!==i&&(true===i?"origin":i)}(t);if(Vd(i))return !isNaN(i.value)&&i;let n=parseFloat(i);return Gd(n)&&Math.floor(n)===n?function(t,e,s,i){return "-"!==t&&"+"!==t||(s=e+s),s!==e&&s>=0&&i>s&&s}(i[0],e,n,s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ly(t,e,s){const i=[];for(let n=0;n<s.length;n++){const r=s[n],{first:a,last:o,point:c}=uy(r,e,"x");if(!(!c||a&&o))if(a)i.unshift(c);else if(t.push(c),!o)break}t.push(...i);}function uy(t,e,s){const i=t.interpolate(e,s);if(!i)return {};const n=i[s],r=t.segments,a=t.points;let o=false,c=false;for(let h=0;h<r.length;h++){const t=r[h],e=a[t.start][s],i=a[t.end][s];if(Bf(n,e,i)){o=n===e,c=n===i;break}}return {first:o,last:c,point:i}}class dy{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius;}pathSegment(t,e,s){const{x:i,y:n,radius:r}=this;return e=e||{start:0,end:mf},t.arc(i,n,r,e.end,e.start,true),!s.bounds}interpolate(t){const{x:e,y:s,radius:i}=this,n=t.angle;return {x:e+Math.cos(n)*i,y:s+Math.sin(n)*i,angle:n}}}function fy(t,e,s){const i=function(t){const{chart:e,fill:s,line:i}=t;if(Gd(s))return function(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}(e,s);if("stack"===s)return function(t){const{scale:e,index:s,line:i}=t,n=[],r=i.segments,a=i.points,o=function(t,e){const s=[],i=t.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const t=i[n];if(t.index===e)break;t.hidden||s.unshift(t.dataset);}return s}(e,s);o.push(ay({x:null,y:e.bottom},i));for(let c=0;c<r.length;c++){const t=r[c];for(let e=t.start;e<=t.end;e++)ly(n,a[e],o);}return new Ug({points:n,options:{}})}(t);if("shape"===s)return  true;const n=function(t){return (t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:s}=t,i=e.options,n=e.getLabels().length,r=i.reverse?e.max:e.min,a=function(t,e,s){let i;return i="start"===t?s:"end"===t?e.options.reverse?e.min:e.max:Vd(t)?t.value:e.getBaseValue(),i}(s,e,r),o=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,r);return new dy({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;n>c;++c)o.push(e.getPointPositionForValue(c,a));return o}(t):function(t){const{scale:e={},fill:s}=t,i=function(t,e){let s=null;return "start"===t?s=e.bottom:"end"===t?s=e.top:Vd(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}(s,e);if(Gd(i)){const t=e.isHorizontal();return {x:t?i:null,y:t?null:i}}return null}(t)}(t);return n instanceof dy?n:ay(n,i)}(e),{chart:n,index:r,line:a,scale:o,axis:c}=e,h=a.options,l=h.fill,u=h.backgroundColor,{above:d=u,below:f=u}=l||{},p=n.getDatasetMeta(r),m=Cm(n,p);i&&a.points.length&&(xp(t,s),function(t,e){const{line:s,target:i,above:n,below:r,area:a,scale:o,clip:c}=e,h=s.Ji?"angle":e.axis;t.save();let l=r;r!==n&&("x"===h?(py(t,i,a.top),by(t,{line:s,target:i,color:n,scale:o,property:h,clip:c}),t.restore(),t.save(),py(t,i,a.bottom)):"y"===h&&(my(t,i,a.left),by(t,{line:s,target:i,color:r,scale:o,property:h,clip:c}),t.restore(),t.save(),my(t,i,a.right),l=n)),by(t,{line:s,target:i,color:l,scale:o,property:h,clip:c}),t.restore();}(t,{line:a,target:i,above:d,below:f,area:s,scale:o,axis:c,clip:m}),Mp(t));}function py(t,e,s){const{segments:i,points:n}=e;let r=true,a=false;t.beginPath();for(const o of i){const{start:i,end:c}=o,h=n[i],l=n[ny(i,c,n)];r?(t.moveTo(h.x,h.y),r=false):(t.lineTo(h.x,s),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(l.x,s);}t.lineTo(e.first().x,s),t.closePath(),t.clip();}function my(t,e,s){const{segments:i,points:n}=e;let r=true,a=false;t.beginPath();for(const o of i){const{start:i,end:c}=o,h=n[i],l=n[ny(i,c,n)];r?(t.moveTo(h.x,h.y),r=false):(t.lineTo(s,h.y),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(s,l.y);}t.lineTo(s,e.first().y),t.closePath(),t.clip();}function by(t,e){const{line:s,target:i,property:n,color:r,scale:a,clip:o}=e,c=function(t,e,s){const i=t.segments,n=t.points,r=e.points,a=[];for(const o of i){let{start:t,end:i}=o;i=ny(t,i,n);const c=iy(s,n[t],n[i],o.loop);if(!e.segments){a.push({source:o,target:c,start:n[t],end:n[i]});continue}const h=Am(e,c);for(const e of h){const t=iy(s,r[e.start],r[e.end],e.loop),i=Tm(o,n,t);for(const n of i)a.push({source:n,target:e,start:{[s]:ry(c,t,"start",Math.max)},end:{[s]:ry(c,t,"end",Math.min)}});}}return a}(s,i,n);for(const{source:h,target:l,start:u,end:d}of c){const{style:{backgroundColor:e=r}={}}=h,c=true!==i;t.save(),t.fillStyle=e,gy(t,a,o,c&&iy(n,u,d)),t.beginPath();const f=!!s.pathSegment(t,h);let p;if(c){f?t.closePath():yy(t,i,d,n);const e=!!i.pathSegment(t,l,{move:f,reverse:true});p=f&&e,p||yy(t,i,u,n);}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore();}}function gy(t,e,s,i){const n=e.chart.chartArea,{property:r,start:a,end:o}=i||{};if("x"===r||"y"===r){let e,i,c,h;"x"===r?(e=a,i=n.top,c=o,h=n.bottom):(e=n.left,i=a,c=n.right,h=o),t.beginPath(),s&&(e=Math.max(e,s.left),c=Math.min(c,s.right),i=Math.max(i,s.top),h=Math.min(h,s.bottom)),t.rect(e,i,c-e,h-i),t.clip();}}function yy(t,e,s,i){const n=e.interpolate(s,i);n&&t.lineTo(n.x,n.y);}var vy={id:"filler",afterDatasetsUpdate(t,e,s){const i=(t.data.datasets||[]).length,n=[];let r,a,o,c;for(a=0;i>a;++a)r=t.getDatasetMeta(a),o=r.dataset,c=null,o&&o.options&&o instanceof Ug&&(c={visible:t.isDatasetVisible(a),index:a,fill:hy(o,a,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=c,n.push(c);for(a=0;i>a;++a)c=n[a],c&&false!==c.fill&&(c.fill=cy(n,a,s.propagate));},beforeDraw(t,e,s){const i="beforeDraw"===s.drawTime,n=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let a=n.length-1;a>=0;--a){const e=n[a].$filler;e&&(e.line.updateControlPoints(r,e.axis),i&&e.fill&&fy(t.ctx,e,r));}},beforeDatasetsDraw(t,e,s){if("beforeDatasetsDraw"!==s.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const e=i[n].$filler;oy(e)&&fy(t.ctx,e,t.chartArea);}},beforeDatasetDraw(t,e,s){const i=e.meta.$filler;oy(i)&&"beforeDatasetDraw"===s.drawTime&&fy(t.ctx,i,t.chartArea);},defaults:{propagate:true,drawTime:"beforeDatasetDraw"}};const ky=(t,e)=>{let{boxHeight:s=e,boxWidth:i=e}=t;return t.usePointStyle&&(s=Math.min(s,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(e,s)}};class wy extends $b{constructor(t){super(),this.Za=false,this.legendHitBoxes=[],this.Ja=null,this.doughnutMode=false,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this.Ar=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0;}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this.Ar=s,this.setDimensions(),this.buildLabels(),this.fit();}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this.Ar.left,this.right=this.width):(this.height=this.maxHeight,this.top=this.Ar.top,this.bottom=this.height);}buildLabels(){const t=this.options.labels||{};let e=Jd(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,s)=>t.sort(e,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e;}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const s=t.labels,i=Fp(s.font),n=i.size,r=this.Ka(),{boxWidth:a,itemHeight:o}=ky(s,n);let c,h;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this.eo(r,n,a,o)+10):(h=this.maxHeight,c=this.so(r,i,a,o)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight);}eo(t,e,s,i){const{ctx:n,maxWidth:r,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let l=t;n.textAlign="left",n.textBaseline="middle";let u=-1,d=-h;return this.legendItems.forEach((t,f)=>{const p=s+e/2+n.measureText(t.text).width;(0===f||c[c.length-1]+p+2*a>r)&&(l+=h,c[c.length-(f>0?0:1)]=0,d+=h,u++),o[f]={left:0,top:d,row:u,width:p,height:i},c[c.length-1]+=p+a;}),l}so(t,e,s,i){const{ctx:n,maxHeight:r,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],c=this.columnSizes=[],h=r-t;let l=a,u=0,d=0,f=0,p=0;return this.legendItems.forEach((t,r)=>{const{itemWidth:m,itemHeight:b}=function(t,e,s,i,n){const r=function(t,e,s,i){let n=t.text;return n&&"string"!=typeof n&&(n=n.reduce((t,e)=>t.length>e.length?t:e)),e+s.size/2+i.measureText(n).width}(i,t,e,s),a=function(t,e,s){let i=t;return "string"!=typeof e.text&&(i=xy(e,s)),i}(n,i,e.lineHeight);return {itemWidth:r,itemHeight:a}}(s,e,n,t,i);r>0&&d+b+2*a>h&&(l+=u+a,c.push({width:u,height:d}),f+=u+a,p++,u=d=0),o[r]={left:f,top:d,col:p,width:m,height:b},u=Math.max(u,m),d+=b+a;}),l+=u,c.push({width:u,height:d}),l}adjustHitBoxes(){if(!this.options.display)return;const t=this.Ka(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:n}}=this,r=km(n,this.left,this.width);if(this.isHorizontal()){let n=0,a=Vf(s,this.left+i,this.right-this.lineWidths[n]);for(const o of e)n!==o.row&&(n=o.row,a=Vf(s,this.left+i,this.right-this.lineWidths[n])),o.top+=this.top+t+i,o.left=r.leftForLtr(r.x(a),o.width),a+=o.width+i;}else {let n=0,a=Vf(s,this.top+t+i,this.bottom-this.columnSizes[n].height);for(const o of e)o.col!==n&&(n=o.col,a=Vf(s,this.top+t+i,this.bottom-this.columnSizes[n].height)),o.top=a,o.left+=this.left+i,o.left=r.leftForLtr(r.x(o.left),o.width),a+=o.height+i;}}isHorizontal(){return "top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;xp(t,this),this.io(),Mp(t);}}io(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:n,labels:r}=t,a=pp.color,o=km(t.rtl,this.left,this.width),c=Fp(r.font),{padding:h}=r,l=c.size,u=l/2;let d;this.drawTitle(),i.textAlign=o.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=ky(r,l),b=this.isHorizontal(),g=this.Ka();d=b?{x:Vf(n,this.left+h,this.right-s[0]),y:this.top+h+g,line:0}:{x:this.left+h,y:Vf(n,this.top+g+h,this.bottom-e[0].height),line:0},wm(this.ctx,t.textDirection);const y=m+h;this.legendItems.forEach((v,k)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const w=i.measureText(v.text).width,x=o.textAlign(v.textAlign||(v.textAlign=r.textAlign)),M=f+u+w;let _=d.x,T=d.y;if(o.setWidth(this.width),b?k>0&&_+M+h>this.right&&(T=d.y+=y,d.line++,_=d.x=Vf(n,this.left+h,this.right-s[d.line])):k>0&&T+y>this.bottom&&(_=d.x=_+e[d.line].width+h,d.line++,T=d.y=Vf(n,this.top+g+h,this.bottom-e[d.line].height)),function(t,e,s){if(isNaN(f)||0>=f||isNaN(p)||0>p)return;i.save();const n=Xd(s.lineWidth,1);if(i.fillStyle=Xd(s.fillStyle,a),i.lineCap=Xd(s.lineCap,"butt"),i.lineDashOffset=Xd(s.lineDashOffset,0),i.lineJoin=Xd(s.lineJoin,"miter"),i.lineWidth=n,i.strokeStyle=Xd(s.strokeStyle,a),i.setLineDash(Xd(s.lineDash,[])),r.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:n},c=o.xPlus(t,f/2);kp(i,a,c,e+u,r.pointStyleWidth&&f);}else {const r=e+Math.max((l-p)/2,0),a=o.leftForLtr(t,f),c=Lp(s.borderRadius);i.beginPath(),Object.values(c).some(t=>0!==t)?Dp(i,{x:a,y:r,w:f,h:p,radius:c}):i.rect(a,r,f,p),i.fill(),0!==n&&i.stroke();}i.restore();}(o.x(_),T,v),_=((t,e,s,i)=>t===(i?"left":"right")?s:"center"===t?(e+s)/2:e)(x,_+f+u,b?_+M:this.right,t.rtl),function(t,e,s){Ep(i,s.text,t,e+m/2,c,{strikethrough:s.hidden,textAlign:o.textAlign(s.textAlign)});}(o.x(_),T,v),b)d.x+=M+h;else if("string"!=typeof v.text){const t=c.lineHeight;d.y+=xy(v,t)+h;}else d.y+=y;}),xm(this.ctx,t.textDirection);}drawTitle(){const t=this.options,e=t.title,s=Fp(e.font),i=Bp(e.padding);if(!e.display)return;const n=km(t.rtl,this.left,this.width),r=this.ctx,a=e.position,o=s.size/2,c=i.top+o;let h,l=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),h=this.top+c,l=Vf(t.align,l,this.right-u);else {const e=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);h=c+Vf(t.align,this.top,this.bottom-e-t.labels.padding-this.Ka());}const d=Vf(a,l,l+u);r.textAlign=n.textAlign(Yf(a)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=s.string,Ep(r,e.text,d,h,s);}Ka(){const t=this.options.title,e=Fp(t.font),s=Bp(t.padding);return t.display?e.lineHeight+s.height:0}no(t,e){let s,i,n;if(Bf(t,this.left,this.right)&&Bf(e,this.top,this.bottom))for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(i=n[s],Bf(t,i.left,i.left+i.width)&&Bf(e,i.top,i.top+i.height))return this.legendItems[s];return null}handleEvent(t){const e=this.options;if(!function(t,e){return !("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}(t.type,e))return;const s=this.no(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this.Ja,a=(n=s,null!==(i=r)&&null!==n&&i.datasetIndex===n.datasetIndex&&i.index===n.index);r&&!a&&Jd(e.onLeave,[t,r,this],this),this.Ja=s,s&&!a&&Jd(e.onHover,[t,s,this],this);}else s&&Jd(e.onClick,[t,s,this],this);var i,n;}}function xy(t,e){return e*(t.text?t.text.length:0)}var My={id:"legend",ro:wy,start(t,e,s){const i=t.legend=new wy({ctx:t.ctx,options:s,chart:t});Ab.configure(t,i,s),Ab.addBox(t,i);},stop(t){Ab.removeBox(t,t.legend),delete t.legend;},beforeUpdate(t,e,s){const i=t.legend;Ab.configure(t,i,s),i.options=s;},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes();},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event);},defaults:{display:true,position:"top",align:"center",fullSize:true,reverse:false,weight:1e3,onClick(t,e,s){const i=e.datasetIndex,n=s.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=true):(n.show(i),e.hidden=false);},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:n,color:r,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t.ln().map(t=>{const c=t.controller.getStyle(s?0:void 0),h=Bp(c.borderWidth);return {text:e[t.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:false,position:"center",text:""}},descriptors:{xi:t=>!t.startsWith("on"),labels:{xi:t=>!["generateLabels","filter","sort"].includes(t)}}};class _y extends $b{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.ao=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0;}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Yd(s.text)?s.text.length:1;this.ao=Bp(s.padding);const n=i*Fp(s.font).lineHeight+this.ao.height;this.isHorizontal()?this.height=n:this.width=n;}isHorizontal(){const t=this.options.position;return "top"===t||"bottom"===t}oo(t){const{top:e,left:s,bottom:i,right:n,options:r}=this,a=r.align;let o,c,h,l=0;return this.isHorizontal()?(c=Vf(a,s,n),h=e+t,o=n-s):("left"===r.position?(c=s+t,h=Vf(a,i,e),l=-0.5*pf):(c=n-t,h=Vf(a,e,i),l=.5*pf),o=i-e),{titleX:c,titleY:h,maxWidth:o,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Fp(e.font),i=s.lineHeight/2+this.ao.top,{titleX:n,titleY:r,maxWidth:a,rotation:o}=this.oo(i);Ep(t,e.text,0,0,s,{color:e.color,maxWidth:a,rotation:o,textAlign:Yf(e.align),textBaseline:"middle",translation:[n,r]});}}var Ty={id:"title",ro:_y,start(t,e,s){!function(t,e){const s=new _y({ctx:t.ctx,options:e,chart:t});Ab.configure(t,s,e),Ab.addBox(t,s),t.titleBlock=s;}(t,s);},stop(t){const e=t.titleBlock;Ab.removeBox(t,e),delete t.titleBlock;},beforeUpdate(t,e,s){const i=t.titleBlock;Ab.configure(t,i,s),i.options=s;},defaults:{align:"center",display:false,font:{weight:"bold"},fullSize:true,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{xi:true,Mi:false}};const Ay=new WeakMap;var Sy={id:"subtitle",start(t,e,s){const i=new _y({ctx:t.ctx,options:s,chart:t});Ab.configure(t,i,s),Ab.addBox(t,i),Ay.set(t,i);},stop(t){Ab.removeBox(t,Ay.get(t)),Ay.delete(t);},beforeUpdate(t,e,s){const i=Ay.get(t);Ab.configure(t,i,s),i.options=s;},defaults:{align:"center",display:false,font:{weight:"normal"},fullSize:true,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{xi:true,Mi:false}};const Ey={average(t){if(!t.length)return  false;let e,s,i=new Set,n=0,r=0;for(e=0,s=t.length;s>e;++e){const s=t[e].element;if(s&&s.hasValue()){const t=s.tooltipPosition();i.add(t.x),n+=t.y,++r;}}return 0!==r&&0!==i.size&&{x:[...i].reduce((t,e)=>t+e)/i.size,y:n/r}},nearest(t,e){if(!t.length)return  false;let s,i,n,r=e.x,a=e.y,o=1/0;for(s=0,i=t.length;i>s;++s){const i=t[s].element;if(i&&i.hasValue()){const t=If(e,i.getCenterPoint());o>t&&(o=t,n=i);}}if(n){const t=n.tooltipPosition();r=t.x,a=t.y;}return {x:r,y:a}}};function Dy(t,e){return e&&(Yd(e)?[].push.apply(t,e):t.push(e)),t}function Cy(t){return ("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ny(t,e){const{element:s,datasetIndex:i,index:n}=e,r=t.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(n);return {chart:t,label:a,parsed:r.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:o,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:s}}function Iy(t,e){const s=t.chart.ctx,{body:i,footer:n,title:r}=t,{boxWidth:a,boxHeight:o}=e,c=Fp(e.bodyFont),h=Fp(e.titleFont),l=Fp(e.footerFont),u=r.length,d=n.length,f=i.length,p=Bp(e.padding);let m=p.height,b=0,g=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);g+=t.beforeBody.length+t.afterBody.length,u&&(m+=u*h.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),g&&(m+=f*(e.displayColors?Math.max(o,c.lineHeight):c.lineHeight)+(g-f)*c.lineHeight+(g-1)*e.bodySpacing),d&&(m+=e.footerMarginTop+d*l.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(t){b=Math.max(b,s.measureText(t).width+y);};return s.save(),s.font=h.string,Kd(t.title,v),s.font=c.string,Kd(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?a+2+e.boxPadding:0,Kd(i,t=>{Kd(t.before,v),Kd(t.lines,v),Kd(t.after,v);}),y=0,s.font=l.string,Kd(t.footer,v),s.restore(),b+=p.width,{width:b,height:m}}function Oy(t,e,s,i){const{x:n,width:r}=s,{width:a,chartArea:{left:o,right:c}}=t;let h="center";return "center"===i?h=n>(o+c)/2?"right":"left":n>r/2?a-r/2>n||(h="right"):h="left",function(t,e,s,i){const{x:n,width:r}=i,a=s.caretSize+s.caretPadding;return "left"===t&&n+r+a>e.width||"right"===t&&0>n-r-a||void 0}(h,t,e,s)&&(h="center"),h}function Ry(t,e,s){const i=s.yAlign||e.yAlign||function(t,e){const{y:s,height:i}=e;return i/2>s?"top":s>t.height-i/2?"bottom":"center"}(t,s);return {xAlign:s.xAlign||e.xAlign||Oy(t,e,s,i),yAlign:i}}function Py(t,e,s,i){const{caretSize:n,caretPadding:r,cornerRadius:a}=t,{xAlign:o,yAlign:c}=s,h=n+r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Lp(a);let p=function(t,e){let{x:s,width:i}=t;return "right"===e?s-=i:"center"===e&&(s-=i/2),s}(e,o);const m=function(t,e,s){let{y:i,height:n}=t;return "top"===e?i+=s:i-="bottom"===e?n+s:n/2,i}(e,c,h);return "center"===c?"left"===o?p+=h:"right"===o&&(p-=h):"left"===o?p-=Math.max(l,d)+n:"right"===o&&(p+=Math.max(u,f)+n),{x:Lf(p,0,i.width-e.width),y:Lf(m,0,i.height-e.height)}}function Ly(t,e,s){const i=Bp(s.padding);return "center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function By(t){return Dy([],Cy(t))}function Fy(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const jy={beforeTitle:zd,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,i=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return s[e.dataIndex]}return ""},afterTitle:zd,beforeBody:zd,beforeLabel:zd,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Wd(s)||(e+=s),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return {borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return {pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:zd,afterBody:zd,beforeFooter:zd,footer:zd,afterFooter:zd};function Uy(t,e,s,i){const n=t[e].call(s,i);return void 0===n?jy[e].call(s,i):n}class qy extends $b{static positioners=Ey;constructor(t){super(),this.opacity=0,this.Yi=[],this.co=void 0,this.ho=void 0,this.uo=void 0,this.do=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0;}initialize(t){this.options=t,this.uo=void 0,this.$context=void 0;}In(){const t=this.uo;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,n=new Lm(this.chart,i);return i.Ti&&(this.uo=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=Up(this.chart.getContext(),{tooltip:this,tooltipItems:this.do,type:"tooltip"}))}getTitle(t,e){const{callbacks:s}=e,i=Uy(s,"beforeTitle",this,t),n=Uy(s,"title",this,t),r=Uy(s,"afterTitle",this,t);let a=[];return a=Dy(a,Cy(i)),a=Dy(a,Cy(n)),a=Dy(a,Cy(r)),a}getBeforeBody(t,e){return By(Uy(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return Kd(t,t=>{const e={before:[],lines:[],after:[]},n=Fy(s,t);Dy(e.before,Cy(Uy(n,"beforeLabel",this,t))),Dy(e.lines,Uy(n,"label",this,t)),Dy(e.after,Cy(Uy(n,"afterLabel",this,t))),i.push(e);}),i}getAfterBody(t,e){return By(Uy(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=Uy(s,"beforeFooter",this,t),n=Uy(s,"footer",this,t),r=Uy(s,"afterFooter",this,t);let a=[];return a=Dy(a,Cy(i)),a=Dy(a,Cy(n)),a=Dy(a,Cy(r)),a}fo(t){const e=this.Yi,s=this.chart.data,i=[],n=[],r=[];let a,o,c=[];for(a=0,o=e.length;o>a;++a)c.push(Ny(this.chart,e[a]));return t.filter&&(c=c.filter((e,i,n)=>t.filter(e,i,n,s))),t.itemSort&&(c=c.sort((e,i)=>t.itemSort(e,i,s))),Kd(c,e=>{const s=Fy(t.callbacks,e);i.push(Uy(s,"labelColor",this,e)),n.push(Uy(s,"labelPointStyle",this,e)),r.push(Uy(s,"labelTextColor",this,e));}),this.labelColors=i,this.labelPointStyles=n,this.labelTextColors=r,this.dataPoints=c,c}update(t,e){const s=this.options.setContext(this.getContext()),i=this.Yi;let n,r=[];if(i.length){const t=Ey[s.position].call(this,i,this.co);r=this.fo(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const e=this.ho=Iy(this,s),a=Object.assign({},t,e),o=Ry(this.chart,s,a),c=Py(s,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,n={opacity:1,x:c.x,y:c.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y};}else 0!==this.opacity&&(n={opacity:0});this.do=r,this.$context=void 0,n&&this.In().update(this,n),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e});}drawCaret(t,e,s,i){const n=this.getCaretPosition(t,s,i);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3);}getCaretPosition(t,e,s){const{xAlign:i,yAlign:n}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:o,topRight:c,bottomLeft:h,bottomRight:l}=Lp(a),{x:u,y:d}=t,{width:f,height:p}=e;let m,b,g,y,v,k;return "center"===n?(v=d+p/2,"left"===i?(m=u,b=m-r,y=v+r,k=v-r):(m=u+f,b=m+r,y=v-r,k=v+r),g=m):(b="left"===i?u+Math.max(o,h)+r:"right"===i?u+f-Math.max(c,l)-r:this.caretX,"top"===n?(y=d,v=y-r,m=b-r,g=b+r):(y=d+p,v=y+r,m=b+r,g=b-r),k=y),{x1:m,x2:b,x3:g,y1:y,y2:v,y3:k}}drawTitle(t,e,s){const i=this.title,n=i.length;let r,a,o;if(n){const c=km(s.rtl,this.x,this.width);for(t.x=Ly(this,s.titleAlign,s),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",r=Fp(s.titleFont),a=s.titleSpacing,e.fillStyle=s.titleColor,e.font=r.string,o=0;n>o;++o)e.fillText(i[o],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,o+1===n&&(t.y+=s.titleMarginBottom-a);}}po(t,e,s,i,n){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:o,boxWidth:c}=n,h=Fp(n.bodyFont),l=Ly(this,"left",n),u=i.x(l),d=o<h.lineHeight?(h.lineHeight-o)/2:0,f=e.y+d;if(n.usePointStyle){const e={radius:Math.min(c,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},s=i.leftForLtr(u,c)+c/2,h=f+o/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,vp(t,e,s,h),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,vp(t,e,s,h);}else {t.lineWidth=Vd(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=i.leftForLtr(u,c),s=i.leftForLtr(i.xPlus(u,1),c-2),a=Lp(r.borderRadius);Object.values(a).some(t=>0!==t)?(t.beginPath(),t.fillStyle=n.multiKeyBackground,Dp(t,{x:e,y:f,w:c,h:o,radius:a}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Dp(t,{x:s,y:f+1,w:c-2,h:o-2,radius:a}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,f,c,o),t.strokeRect(e,f,c,o),t.fillStyle=r.backgroundColor,t.fillRect(s,f+1,c-2,o-2));}t.fillStyle=this.labelTextColors[s];}drawBody(t,e,s){const{body:i}=this,{bodySpacing:n,bodyAlign:r,displayColors:a,boxHeight:o,boxWidth:c,boxPadding:h}=s,l=Fp(s.bodyFont);let u=l.lineHeight,d=0;const f=km(s.rtl,this.x,this.width),p=function(s){e.fillText(s,f.x(t.x+d),t.y+u/2),t.y+=u+n;},m=f.textAlign(r);let b,g,y,v,k,w,x;for(e.textAlign=r,e.textBaseline="middle",e.font=l.string,t.x=Ly(this,m,s),e.fillStyle=s.bodyColor,Kd(this.beforeBody,p),d=a&&"right"!==m?"center"===r?c/2+h:c+2+h:0,v=0,w=i.length;w>v;++v){for(b=i[v],g=this.labelTextColors[v],e.fillStyle=g,Kd(b.before,p),y=b.lines,a&&y.length&&(this.po(e,t,v,f,s),u=Math.max(l.lineHeight,o)),k=0,x=y.length;x>k;++k)p(y[k]),u=l.lineHeight;Kd(b.after,p);}d=0,u=l.lineHeight,Kd(this.afterBody,p),t.y-=n;}drawFooter(t,e,s){const i=this.footer,n=i.length;let r,a;if(n){const o=km(s.rtl,this.x,this.width);for(t.x=Ly(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=o.textAlign(s.footerAlign),e.textBaseline="middle",r=Fp(s.footerFont),e.fillStyle=s.footerColor,e.font=r.string,a=0;n>a;++a)e.fillText(i[a],o.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s.footerSpacing;}}drawBackground(t,e,s,i){const{xAlign:n,yAlign:r}=this,{x:a,y:o}=t,{width:c,height:h}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Lp(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(a+l,o),"top"===r&&this.drawCaret(t,e,s,i),e.lineTo(a+c-u,o),e.quadraticCurveTo(a+c,o,a+c,o+u),"center"===r&&"right"===n&&this.drawCaret(t,e,s,i),e.lineTo(a+c,o+h-f),e.quadraticCurveTo(a+c,o+h,a+c-f,o+h),"bottom"===r&&this.drawCaret(t,e,s,i),e.lineTo(a+d,o+h),e.quadraticCurveTo(a,o+h,a,o+h-d),"center"===r&&"left"===n&&this.drawCaret(t,e,s,i),e.lineTo(a,o+l),e.quadraticCurveTo(a,o,a+l,o),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke();}mo(t){const e=this.chart,s=this.$animations,i=s&&s.x,n=s&&s.y;if(i||n){const s=Ey[t.position].call(this,this.Yi,this.co);if(!s)return;const r=this.ho=Iy(this,t),a=Object.assign({},s,this.ho),o=Ry(e,t,a),c=Py(t,a,o,e);i.sn===c.x&&n.sn===c.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=s.x,this.caretY=s.y,this.In().update(this,c));}}bo(){return !!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this.mo(e);const i={width:this.width,height:this.height},n={x:this.x,y:this.y};s=.001>Math.abs(s)?0:s;const r=Bp(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(n,t,i,e),wm(t,e.textDirection),n.y+=r.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),xm(t,e.textDirection),t.restore());}getActiveElements(){return this.Yi||[]}setActiveElements(t,e){const s=this.Yi,i=t.map(({datasetIndex:t,index:e})=>{const s=this.chart.getDatasetMeta(t);if(!s)throw Error("Cannot find a dataset at index "+t);return {datasetIndex:t,element:s.data[e],index:e}}),n=!tf(s,i),r=this.yo(i,e);(n||r)&&(this.Yi=i,this.co=e,this.vo=true,this.update(true));}handleEvent(t,e,s=true){if(e&&this.vo)return  false;this.vo=false;const i=this.options,n=this.Yi||[],r=this.Ya(t,n,e,s),a=this.yo(r,t),o=e||!tf(r,n)||a;return o&&(this.Yi=r,(i.enabled||i.external)&&(this.co={x:t.x,y:t.y},this.update(true,e))),o}Ya(t,e,s,i){const n=this.options;if("mouseout"===t.type)return [];if(!i)return e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index));const r=this.chart.getElementsAtEventForMode(t,n.mode,n,s);return n.reverse&&r.reverse(),r}yo(t,e){const{caretX:s,caretY:i,options:n}=this,r=Ey[n.position].call(this,t,e);return  false!==r&&(s!==r.x||i!==r.y)}}var Hy={id:"tooltip",ro:qy,positioners:Ey,afterInit(t,e,s){s&&(t.tooltip=new qy({chart:t,options:s}));},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s);},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s);},afterDraw(t){const e=t.tooltip;if(e&&e.bo()){const s={tooltip:e};if(false===t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:true}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s);}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=true);}},defaults:{enabled:true,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:true,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{xi:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,Mi:false,callbacks:{xi:false,Mi:false},animation:{_i:false},animations:{_i:"animation"}},additionalOptionScopes:["interaction"]},zy=Object.freeze({__proto__:null,Colors:Kg,Decimation:sy,Filler:vy,Legend:My,SubTitle:Sy,Title:Ty,Tooltip:Hy});function $y(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function Wy(t,e,{horizontal:s,minRotation:i}){const n=Ef(i);return Math.min(e/((s?Math.sin(n):Math.cos(n))||.001),.75*e*(""+t).length)}class Yy extends Kb{constructor(t){super(t),this.start=void 0,this.end=void 0,this.ko=void 0,this.wo=void 0,this.xo=0;}parse(t,e){return Wd(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:n}=this;const r=t=>i=e?i:t,a=t=>n=s?n:t;if(t){const t=Mf(i),e=Mf(n);0>t&&0>e?a(0):t>0&&e>0&&r(0);}if(i===n){let e=0===n?1:Math.abs(.05*n);a(n+e),t||r(i-e);}this.min=i,this.max=n;}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:s,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(e=1e3)):(e=this.computeTickLimit(),s=s||11),s&&(e=Math.min(s,e)),e}computeTickLimit(){return 1/0}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i=function(t,e){const s=[],{bounds:i,step:n,min:r,max:a,precision:o,count:c,maxTicks:h,maxDigits:l,includeBounds:u}=t,d=n||1,f=h-1,{min:p,max:m}=e,b=!Wd(r),g=!Wd(a),y=!Wd(c),v=(m-p)/(l+1);let k,w,x,M,_=Tf((m-p)/f/d)*d;if(1e-14>_&&!b&&!g)return [{value:p},{value:m}];M=Math.ceil(m/_)-Math.floor(p/_),M>f&&(_=Tf(M*_/f/d)*d),Wd(o)||(k=Math.pow(10,o),_=Math.ceil(_*k)/k),"ticks"===i?(w=Math.floor(p/_)*_,x=Math.ceil(m/_)*_):(w=p,x=m),b&&g&&n&&function(t,e){const s=Math.round(t);return t>=s-e&&s+e>=t}((a-r)/n,_/1e3)?(M=Math.round(Math.min((a-r)/_,h)),_=(a-r)/M,w=r,x=a):y?(w=b?r:w,x=g?a:x,M=c-1,_=(x-w)/M):(M=(x-w)/_,M=_f(M,Math.round(M),_/1e3)?Math.round(M):Math.ceil(M));const T=Math.max(Cf(_),Cf(w));k=Math.pow(10,Wd(o)?T:o),w=Math.round(w*k)/k,x=Math.round(x*k)/k;let A=0;for(b&&(u&&w!==r?(s.push({value:r}),r>w&&A++,_f(Math.round((w+A*_)*k)/k,r,Wy(r,v,t))&&A++):r>w&&A++);M>A;++A){const t=Math.round((w+A*_)*k)/k;if(g&&t>a)break;s.push({value:t});}return g&&u&&x!==a?s.length&&_f(s[s.length-1].value,a,Wy(a,v,t))?s[s.length-1].value=a:s.push({value:a}):g&&x!==a||s.push({value:x}),s}({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this.ea(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:false!==e.includeBounds},this.Sr||this);return "ticks"===t.bounds&&Sf(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i;}this.ko=e,this.wo=s,this.xo=s-e;}getLabelForValue(t){return ap(t,this.chart.options.locale,this.options.ticks.format)}}class Vy extends Yy{static id="linear";static defaults={ticks:{callback:cp.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(true);this.min=Gd(t)?t:0,this.max=Gd(e)?e:1,this.handleTickRangeOptions();}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Ef(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,n=this.Xr(0);return Math.ceil(e/Math.min(40,n.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this.ko)/this.xo)}getValueForPixel(t){return this.ko+this.getDecimalForPixel(t)*this.xo}}const Gy=t=>Math.floor(xf(t)),Qy=(t,e)=>Math.pow(10,Gy(t)+e);function Xy(t){return 1===t/Math.pow(10,Gy(t))}function Zy(t,e,s){const i=Math.pow(10,s),n=Math.floor(t/i);return Math.ceil(e/i)-n}class Jy extends Kb{static id="logarithmic";static defaults={ticks:{callback:cp.formatters.logarithmic,major:{enabled:true}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this.ko=void 0,this.xo=0;}parse(t,e){const s=Yy.prototype.parse.call(this,t,e);if(0!==s)return Gd(s)&&s>0?s:null;this.Mo=true;}determineDataLimits(){const{min:t,max:e}=this.getMinMax(true);this.min=Gd(t)?Math.max(0,t):null,this.max=Gd(e)?Math.max(0,e):null,this.options.beginAtZero&&(this.Mo=true),this.Mo&&this.min!==this.Lr&&!Gd(this.Rr)&&(this.min=t===Qy(this.min,0)?Qy(this.min,-1):Qy(this.min,0)),this.handleTickRangeOptions();}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,i=this.max;const n=e=>s=t?s:e,r=t=>i=e?i:t;s===i&&(s>0?(n(Qy(s,-1)),r(Qy(i,1))):(n(1),r(10))),s>0||n(Qy(i,-1)),i>0||r(Qy(s,1)),this.min=s,this.max=i;}buildTicks(){const t=this.options,e=function(t,{min:e,max:s}){e=Qd(t.min,e);const i=[],n=Gy(e);let r=function(t,e){let s=Gy(e-t);for(;Zy(t,e,s)>10;)s++;for(;10>Zy(t,e,s);)s--;return Math.min(s,Gy(t))}(e,s),a=0>r?Math.pow(10,Math.abs(r)):1;const o=Math.pow(10,r),c=n>r?Math.pow(10,n):0,h=Math.round((e-c)*a)/a,l=Math.floor((e-c)/o/10)*o*10;let u=Math.floor((h-l)/Math.pow(10,r)),d=Qd(t.min,Math.round((c+l+u*Math.pow(10,r))*a)/a);for(;s>d;)i.push({value:d,major:Xy(d),significand:u}),10>u?u++:u=15>u?15:20,20>u||(r++,u=2,a=0>r?a:1),d=Math.round((c+l+u*Math.pow(10,r))*a)/a;const f=Qd(t.max,d);return i.push({value:f,major:Xy(f),significand:u}),i}({min:this.Rr,max:this.Or},this);return "ticks"===t.bounds&&Sf(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":ap(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this.ko=xf(t),this.xo=xf(this.max)-xf(t);}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(xf(t)-this.ko)/this.xo)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this.ko+e*this.xo)}}function Ky(t){const e=t.ticks;if(e.display&&t.display){const t=Bp(e.backdropPadding);return Xd(e.font&&e.font.size,pp.font.size)+t.height}return 0}function tv(t,e,s){return s=Yd(s)?s:[s],{w:bp(t,e.string,s),h:s.length*e.lineHeight}}function ev(t,e,s,i,n){return t===i||t===n?{start:e-s/2,end:e+s/2}:i>t||t>n?{start:e-s,end:e}:{start:e,end:e+s}}function sv(t,e,s,i,n){const r=Math.abs(Math.sin(s)),a=Math.abs(Math.cos(s));let o=0,c=0;i.start<e.l?(o=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+o)),n.start<e.t?(c=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-c)):n.end>e.b&&(c=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+c));}function iv(t,e,s){const i=t.drawingArea,{extra:n,additionalAngle:r,padding:a,size:o}=s,c=t.getPointPosition(e,i+n+a,r),h=Math.round(Df(Rf(c.angle+vf))),l=function(t,e,s){return 90===s||270===s?t-=e/2:(s>270||90>s)&&(t-=e),t}(c.y,o.h,h),u=function(t){return 0===t||180===t?"center":180>t?"left":"right"}(h),d=(f=c.x,p=o.w,"right"===(m=u)?f-=p:"center"===m&&(f-=p/2),f);var f,p,m;return {visible:true,x:c.x,y:l,textAlign:u,left:d,top:l,right:d+o.w,bottom:l+o.h}}function nv(t,e){if(!e)return  true;const{left:s,top:i,right:n,bottom:r}=t;return !(wp({x:s,y:i},e)||wp({x:s,y:r},e)||wp({x:n,y:i},e)||wp({x:n,y:r},e))}function rv(t,e,s){const{left:i,top:n,right:r,bottom:a}=s,{backdropColor:o}=e;if(!Wd(o)){const s=Lp(e.borderRadius),c=Bp(e.backdropPadding);t.fillStyle=o;const h=i-c.left,l=n-c.top,u=r-i+c.width,d=a-n+c.height;Object.values(s).some(t=>0!==t)?(t.beginPath(),Dp(t,{x:h,y:l,w:u,h:d,radius:s}),t.fill()):t.fillRect(h,l,u,d);}}function av(t,e,s,i){const{ctx:n}=t;if(s)n.arc(t.xCenter,t.yCenter,e,0,mf);else {let s=t.getPointPosition(0,e);n.moveTo(s.x,s.y);for(let r=1;i>r;r++)s=t.getPointPosition(r,e),n.lineTo(s.x,s.y);}}class ov extends Yy{static id="radialLinear";static defaults={display:true,animate:true,position:"chartArea",angleLines:{display:true,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:false},startAngle:0,ticks:{showLabelBackdrop:true,callback:cp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:true,font:{size:10},callback:t=>t,padding:5,centerPointLabels:false}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_i:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._o=[],this.To=[];}setDimensions(){const t=this.ao=Bp(Ky(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2);}determineDataLimits(){const{min:t,max:e}=this.getMinMax(false);this.min=Gd(t)&&!isNaN(t)?t:0,this.max=Gd(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions();}computeTickLimit(){return Math.ceil(this.drawingArea/Ky(this.options))}generateTickLabels(t){Yy.prototype.generateTickLabels.call(this,t),this._o=this.getLabels().map((t,e)=>{const s=Jd(this.options.pointLabels.callback,[t,e],this);return s||0===s?s:""}).filter((t,e)=>this.chart.getDataVisibility(e));}fit(){const t=this.options;t.display&&t.pointLabels.display?function(t){const e={l:t.left+t.ao.left,r:t.right-t.ao.right,t:t.top+t.ao.top,b:t.bottom-t.ao.bottom},s=Object.assign({},e),i=[],n=[],r=t._o.length,a=t.options.pointLabels,o=a.centerPointLabels?pf/r:0;for(let c=0;r>c;c++){const r=a.setContext(t.getPointLabelContext(c));n[c]=r.padding;const h=t.getPointPosition(c,t.drawingArea+n[c],o),l=Fp(r.font),u=tv(t.ctx,l,t._o[c]);i[c]=u;const d=Rf(t.getIndexAngle(c)+o),f=Math.round(Df(d));sv(s,e,d,ev(f,h.x,u.w,0,180),ev(f,h.y,u.h,90,270));}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t.To=function(t,e,s){const i=[],n=t._o.length,r=t.options,{centerPointLabels:a,display:o}=r.pointLabels,c={extra:Ky(r)/2,additionalAngle:a?pf/n:0};let h;for(let l=0;n>l;l++){c.padding=s[l],c.size=e[l];const n=iv(t,l,c);i.push(n),"auto"===o&&(n.visible=nv(n,h),n.visible&&(h=n));}return i}(t,i,n);}(this):this.setCenterPoint(0,0,0,0);}setCenterPoint(t,e,s,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,i));}getIndexAngle(t){return Rf(t*(mf/(this._o.length||1))+Ef(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Wd(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Wd(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._o||[];if(t>=0&&t<e.length){const s=e[t];return function(t,e,s){return Up(t,{label:s,index:e,type:"pointLabel"})}(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const i=this.getIndexAngle(t)-vf+s;return {x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:i,bottom:n}=this.To[t];return {left:e,top:s,right:i,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),av(this,this.getDistanceFromCenterForValue(this.wo),e,this._o.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore();}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:i,border:n}=e,r=this._o.length;let a,o,c;if(e.pointLabels.display&&function(t,e){const{ctx:s,options:{pointLabels:i}}=t;for(let n=e-1;n>=0;n--){const e=t.To[n];if(!e.visible)continue;const r=i.setContext(t.getPointLabelContext(n));rv(s,r,e);const a=Fp(r.font),{x:o,y:c,textAlign:h}=e;Ep(s,t._o[n],o,c+a.lineHeight/2,a,{color:r.color,textAlign:h,textBaseline:"middle"});}}(this,r),i.display&&this.ticks.forEach((t,e)=>{if(0!==e||0===e&&0>this.min){o=this.getDistanceFromCenterForValue(t.value);const s=this.getContext(e),a=i.setContext(s),c=n.setContext(s);!function(t,e,s,i,n){const r=t.ctx,a=e.circular,{color:o,lineWidth:c}=e;(a||i)&&o&&c&&s>=0&&(r.save(),r.strokeStyle=o,r.lineWidth=c,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),av(t,s,a,i),r.closePath(),r.stroke(),r.restore());}(this,a,o,r,c);}}),s.display){for(t.save(),a=r-1;a>=0;a--){const i=s.setContext(this.getPointLabelContext(a)),{color:n,lineWidth:r}=i;r&&n&&(t.lineWidth=r,t.strokeStyle=n,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke());}t.restore();}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let n,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((i,a)=>{if(0===a&&this.min>=0&&!e.reverse)return;const o=s.setContext(this.getContext(a)),c=Fp(o.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){t.font=c.string,r=t.measureText(i.label).width,t.fillStyle=o.backdropColor;const e=Bp(o.backdropPadding);t.fillRect(-r/2-e.left,-n-c.size/2-e.top,r+e.width,c.size+e.height);}Ep(t,i.label,0,-n,c,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth});}),t.restore();}drawTitle(){}}const cv={millisecond:{common:true,size:1,steps:1e3},second:{common:true,size:1e3,steps:60},minute:{common:true,size:6e4,steps:60},hour:{common:true,size:36e5,steps:24},day:{common:true,size:864e5,steps:30},week:{common:false,size:6048e5,steps:4},month:{common:true,size:2628e6,steps:12},quarter:{common:false,size:7884e6,steps:4},year:{common:true,size:3154e7}},hv=Object.keys(cv);function lv(t,e){return t-e}function uv(t,e){if(Wd(e))return null;const s=t.Ao,{parser:i,round:n,isoWeekday:r}=t.So;let a=e;return "function"==typeof i&&(a=i(a)),Gd(a)||(a="string"==typeof i?s.parse(a,i):s.parse(a)),null===a?null:(n&&(a="week"!==n||!Af(r)&&true!==r?s.startOf(a,n):s.startOf(a,"isoWeek",r)),+a)}function dv(t,e,s,i){const n=hv.length;for(let r=hv.indexOf(t);n-1>r;++r){const t=cv[hv[r]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((s-e)/(n*t.size))<=i)return hv[r]}return hv[n-1]}function fv(t,e,s){if(s){if(s.length){const{lo:i,hi:n}=Ff(s,e);t[s[i]<e?s[n]:s[i]]=true;}}else t[e]=true;}function pv(t,e,s){const i=[],n={},r=e.length;let a,o;for(a=0;r>a;++a)o=e[a],n[o]=a,i.push({value:o,major:false});return 0!==r&&s?function(t,e,s,i){const n=t.Ao,r=+n.startOf(e[0].value,i),a=e[e.length-1].value;let o,c;for(o=r;a>=o;o=+n.add(o,1,i))c=s[o],0>c||(e[c].major=true);return e}(t,i,n,s):i}class mv extends Kb{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:false,unit:false,round:false,isoWeekday:false,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:false,major:{enabled:false}}};constructor(t){super(t),this.Vn={data:[],labels:[],all:[]},this.Eo="day",this.Do=void 0,this.Co={},this.No=false,this.So=void 0;}init(t,e={}){const s=t.time||(t.time={}),i=this.Ao=new cb(t.adapters.date);i.init(e),af(s.displayFormats,i.formats()),this.So={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this.No=e.normalized;}parse(t,e){return void 0===t?null:uv(this,t)}beforeLayout(){super.beforeLayout(),this.Vn={data:[],labels:[],all:[]};}determineDataLimits(){const t=this.options,e=this.Ao,s=t.time.unit||"day";let{min:i,max:n,minDefined:r,maxDefined:a}=this.getUserBounds();function o(t){r||isNaN(t.min)||(i=Math.min(i,t.min)),a||isNaN(t.max)||(n=Math.max(n,t.max));}r&&a||(o(this.Io()),"ticks"===t.bounds&&"labels"===t.ticks.source||o(this.getMinMax(false))),i=Gd(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),n=Gd(n)&&!isNaN(n)?n:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,n-1),this.max=Math.max(i+1,n);}Io(){const t=this.getLabelTimestamps();let e=1/0,s=-1/0;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i="labels"===s.source?this.getLabelTimestamps():this.Oo();"ticks"===t.bounds&&i.length&&(this.min=this.Rr||i[0],this.max=this.Or||i[i.length-1]);const n=this.min,r=function(t,e,s){let i=0,n=t.length;for(;n>i&&t[i]<e;)i++;for(;n>i&&t[n-1]>s;)n--;return i>0||n<t.length?t.slice(i,n):t}(i,n,this.max);return this.Eo=e.unit||(s.autoSkip?dv(e.minUnit,this.min,this.max,this.Ro(n)):function(t,e,s,i,n){for(let r=hv.length-1;r>=hv.indexOf(s);r--){const s=hv[r];if(cv[s].common&&t.Ao.diff(n,i,s)>=e-1)return s}return hv[s?hv.indexOf(s):0]}(this,r.length,e.minUnit,this.min,this.max)),this.Do=s.major.enabled&&"year"!==this.Eo?function(t){for(let e=hv.indexOf(t)+1,s=hv.length;s>e;++e)if(cv[hv[e]].common)return hv[e]}(this.Eo):void 0,this.initOffsets(i),t.reverse&&r.reverse(),pv(this,r,this.Do)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value));}initOffsets(t=[]){let e,s,i=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,s=this.getDecimalForValue(t[t.length-1]),n=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const r=3>t.length?.5:.25;i=Lf(i,0,r),n=Lf(n,0,r),this.Co={start:i,end:n,factor:1/(i+1+n)};}Oo(){const t=this.Ao,e=this.min,s=this.max,i=this.options,n=i.time,r=n.unit||dv(n.minUnit,e,s,this.Ro(e)),a=Xd(i.ticks.stepSize,1),o="week"===r&&n.isoWeekday,c=Af(o)||true===o,h={};let l,u,d=e;if(c&&(d=+t.startOf(d,"isoWeek",o)),d=+t.startOf(d,c?"day":r),t.diff(s,e,r)>1e5*a)throw Error(e+" and "+s+" are too far apart with stepSize of "+a+" "+r);const f="data"===i.ticks.source&&this.getDataTimestamps();for(l=d,u=0;s>l;l=+t.add(l,a,r),u++)fv(h,l,f);return l!==s&&"ticks"!==i.bounds&&1!==u||fv(h,l,f),Object.keys(h).sort(lv).map(t=>+t)}getLabelForValue(t){const e=this.Ao,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,i=this.Eo,n=e||s[i];return this.Ao.format(t,n)}Po(t,e,s,i){const n=this.options,r=n.ticks.callback;if(r)return Jd(r,[t,e,s],this);const a=n.time.displayFormats,o=this.Eo,c=this.Do,h=o&&a[o],l=c&&a[c],u=s[e],d=c&&l&&u&&u.major;return this.Ao.format(t,i||(d?l:h))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;s>e;++e)i=t[e],i.label=this.Po(i.value,e,t);}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this.Co,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this.Co,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}Lo(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=Ef(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(i),r=Math.sin(i),a=this.Xr(0).size;return {w:s*n+a*r,h:s*r+a*n}}Ro(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,n=this.Po(t,0,pv(this,[t],this.Do),i),r=this.Lo(n),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,s=this.Vn.data||[];if(s.length)return s;const i=this.getMatchingVisibleMetas();if(this.No&&i.length)return this.Vn.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;e>t;++t)s=s.concat(i[t].controller.getAllParsedValues(this));return this.Vn.data=this.normalize(s)}getLabelTimestamps(){const t=this.Vn.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;s>e;++e)t.push(uv(this,i[e]));return this.Vn.labels=this.No?t:this.normalize(t)}normalize(t){return zf(t.sort(lv))}}function bv(t,e,s){let i,n,r,a,o=0,c=t.length-1;s?(e<t[o].pos||e>t[c].pos||({lo:o,hi:c}=jf(t,"pos",e)),({pos:i,time:r}=t[o]),({pos:n,time:a}=t[c])):(e<t[o].time||e>t[c].time||({lo:o,hi:c}=jf(t,"time",e)),({time:i,pos:r}=t[o]),({time:n,pos:a}=t[c]));const h=n-i;return h?r+(a-r)*(e-i)/h:r}const gv=[rb,Vg,zy,Object.freeze({__proto__:null,CategoryScale:class extends Kb{static id="category";static defaults={ticks:{callback:$y}};constructor(t){super(t),this.ko=void 0,this.xo=0,this.Bo=[];}init(t){const e=this.Bo;if(e.length){const t=this.getLabels();for(const{index:s,label:i}of e)t[s]===i&&t.splice(s,1);this.Bo=[];}super.init(t);}parse(t,e){if(Wd(t))return null;const s=this.getLabels();return ((t,e)=>null===t?null:Lf(Math.round(t),0,e))(e=isFinite(e)&&s[e]===t?e:function(t,e,s,i){const n=t.indexOf(e);return  -1===n?((t,e,s,i)=>("string"==typeof e?(s=t.push(e)-1,i.unshift({index:s,label:e})):isNaN(e)&&(s=null),s))(t,e,s,i):n!==t.lastIndexOf(e)?s:n}(s,t,Xd(e,t),this.Bo),s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(true);"ticks"===this.options.bounds&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i;}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this.xo=Math.max(n.length-(s?0:1),1),this.ko=this.min-(s?.5:0);for(let r=t;e>=r;r++)i.push({value:r});return i}getLabelForValue(t){return $y.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._r=!this._r);}getPixelForValue(t){return "number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this.ko)/this.xo)}getPixelForTick(t){const e=this.ticks;return 0>t||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this.ko+this.getDecimalForPixel(t)*this.xo)}getBasePixel(){return this.bottom}},LinearScale:Vy,LogarithmicScale:Jy,RadialLinearScale:ov,TimeScale:mv,TimeSeriesScale:class extends mv{static id="timeseries";static defaults=mv.defaults;constructor(t){super(t),this.Fo=[],this.jo=void 0,this.Uo=void 0;}initOffsets(){const t=this.qo(),e=this.Fo=this.buildLookupTable(t);this.jo=bv(e,this.min),this.Uo=bv(e,this.max)-this.jo,super.initOffsets(t);}buildLookupTable(t){const{min:e,max:s}=this,i=[],n=[];let r,a,o,c,h;for(r=0,a=t.length;a>r;++r)c=t[r],e>c||c>s||i.push(c);if(2>i.length)return [{time:e,pos:0},{time:s,pos:1}];for(r=0,a=i.length;a>r;++r)h=i[r+1],o=i[r-1],c=i[r],Math.round((h+o)/2)!==c&&n.push({time:c,pos:r/(a-1)});return n}Oo(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return s.includes(t)&&s.length||s.splice(0,0,t),s.includes(e)&&1!==s.length||s.push(e),s.sort((t,e)=>t-e)}qo(){let t=this.Vn.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return t=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,t=this.Vn.all=t,t}getDecimalForValue(t){return (bv(this.Fo,t)-this.jo)/this.Uo}getValueForPixel(t){const e=this.Co,s=this.getDecimalForPixel(t)/e.factor-e.end;return bv(this.Fo,s*this.Uo+this.jo,true)}}})];Dg.register(...gv);const yv={class:"chart-container"},vv={class:"chart-header"},kv={class:"chart-info"},wv={class:"total-orders"},xv={class:"chart-content"},Mv={class:"chart-wrapper"},_v={class:"legend-container"},Tv={class:"legend-text"},Av={class:"legend-label"},Sv=Yc(vue.defineComponent({di:"PaymentMethodChart",props:{paymentData:{},privacyMode:{type:Boolean,default:false}},setup(t){const i=t,n=vue.ref();let h=null;const l=vue.computed(()=>(t=>{if(!i.privacyMode)return t;const e=["魔法水晶支付","时空传送支付","意念转账","彩虹币支付"].map(t=>({method:t,count:Math.floor(4e4*Math.random())+1e4,percentage:0})),s=e.reduce((t,e)=>t+e.count,0);return e.forEach(t=>{t.percentage=Math.round(t.count/s*100);}),e.sort((t,e)=>e.count-t.count)})(i.paymentData)),u=vue.computed(()=>l.value.reduce((t,e)=>t+e.count,0)),p=t=>Ac.getChartColors(l.value.length)[l.value.findIndex(e=>e.method===t)]||"#6b7280",m=()=>({type:"doughnut",data:{labels:l.value.map(t=>t.method),datasets:[{data:l.value.map(t=>t.count),backgroundColor:l.value.map(t=>p(t.method)),borderColor:"#ffffff",borderWidth:2,hoverOffset:4}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#3b82f6",borderWidth:1,cornerRadius:8,callbacks:{label:function(t){const e=t.label||"",s=t.parsed;return `${e}: ${s} 单 (${(s/u.value*100).toFixed(1)}%)`}}}}}});return vue.watch([()=>i.paymentData,()=>i.privacyMode],()=>{h&&(()=>{if(!h)return;const t=m();h.data=t.data,t.options&&(h.options=t.options),h.update();})();},{deep:true}),vue.onMounted(()=>{vue.nextTick(()=>{(()=>{if(!n.value)return;const t=m();h=new Dg(n.value,t);})();});}),vue.onUnmounted(()=>{h&&(h.destroy(),h=null);}),(t,i)=>(vue.openBlock(),vue.createElementBlock("div",yv,[vue.createElementVNode("div",vv,[i[0]||(i[0]=vue.createElementVNode("h4",null,"支付方式分布",-1)),vue.createElementVNode("div",kv,[vue.createElementVNode("span",wv,"共 "+vue.toDisplayString(u.value)+" 单",1)])]),vue.createElementVNode("div",xv,[vue.createElementVNode("div",Mv,[vue.createElementVNode("canvas",{ref_key:"chartCanvas",ref:n},null,512)]),vue.createElementVNode("div",_v,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(l.value,t=>(vue.openBlock(),vue.createElementBlock("div",{key:t.method,class:"legend-item"},[vue.createElementVNode("div",{class:"legend-color",style:vue.normalizeStyle({backgroundColor:p(t.method)})},null,4),vue.createElementVNode("div",Tv,[vue.createElementVNode("span",Av,vue.toDisplayString(t.method),1)])]))),128))])])]))}}),[["__scopeId","data-v-93af1781"]]),Ev={class:"chart-container"},Dv={class:"chart-header"},Cv={class:"chart-info"},Nv={class:"data-points"},Iv={class:"chart-wrapper"},Ov=Yc(vue.defineComponent({di:"RevenueTrendChart",props:{dataPoints:{},targetCurrency:{},privacyMode:{type:Boolean,default:false}},setup(t){const i=t,n=vue.ref();let a=null;const o=vue.computed(()=>(t=>{if(!i.privacyMode)return t;const e=[],s=new Date;for(let i=0;7>i;i++){const t=new Date(s);t.setDate(t.getDate()-(6-i)),e.push({date:t.toISOString().split("T")[0],revenue:Math.floor(9e5*Math.random())+1e5,orders:Math.floor(4e4*Math.random())+1e4});}return e.sort((t,e)=>t.date.localeCompare(e.date))})(i.dataPoints)),c=()=>({type:"line",data:{labels:o.value.map(t=>Ac.formatDateForDisplay(t.date)),datasets:[{label:"收入 (JPY)",data:o.value.map(t=>t.revenue),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:true,tension:.4,yAxisID:"y"},{label:"订单数量",data:o.value.map(t=>t.orders),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:false,tension:.4,yAxisID:"y1"}]},options:{responsive:true,maintainAspectRatio:false,interaction:{mode:"index",intersect:false},plugins:{legend:{position:"top",labels:{usePointStyle:true,padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#3b82f6",borderWidth:1,cornerRadius:8,displayColors:true,callbacks:{label:function(t){const e=t.dataset.label||"",s=t.parsed.y;return e.includes("收入")?`${e}: ¥${s.toLocaleString()}`:`${e}: ${s} 单`}}}},scales:{x:{display:true,title:{display:true,text:"日期",font:{size:12}},grid:{display:false}},y:{type:"linear",display:true,position:"left",title:{display:true,text:"收入 (JPY)",font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(t){return "¥"+(+t).toLocaleString()}}},y1:{type:"linear",display:true,position:"right",title:{display:true,text:"订单数量",font:{size:12}},grid:{drawOnChartArea:false},ticks:{callback:function(t){return t+" 单"}}}}}});return vue.watch([()=>i.dataPoints,()=>i.privacyMode],()=>{a&&(()=>{if(!a)return;const t=c();a.data=t.data,t.options&&(a.options=t.options),a.update();})();},{deep:true}),vue.onMounted(()=>{vue.nextTick(()=>{(()=>{if(!n.value)return;const t=c();a=new Dg(n.value,t);})();});}),vue.onUnmounted(()=>{a&&(a.destroy(),a=null);}),(t,i)=>(vue.openBlock(),vue.createElementBlock("div",Ev,[vue.createElementVNode("div",Dv,[i[0]||(i[0]=vue.createElementVNode("h4",null,"收入走势",-1)),vue.createElementVNode("div",Cv,[vue.createElementVNode("span",Nv,vue.toDisplayString(o.value.length)+" 个数据点",1)])]),vue.createElementVNode("div",Iv,[vue.createElementVNode("canvas",{ref_key:"chartCanvas",ref:n},null,512)])]))}}),[["__scopeId","data-v-a06a6628"]]),Rv={class:"statistics-panel"},Pv={class:"stats-section"},Lv={class:"stats-grid"},Bv={class:"stat-card orders-card"},Fv={class:"stat-content"},jv={class:"stat-value"},Uv={class:"stat-card revenue-card"},qv={class:"stat-content"},Hv={class:"stat-value"},zv={key:0,class:"stat-converted"},$v={class:"stat-card net-revenue-card"},Wv={class:"stat-content"},Yv={class:"stat-value"},Vv={key:0,class:"stat-converted"},Gv={key:0,class:"charts-section"},Qv={class:"charts-grid"},Xv=Yc(vue.defineComponent({di:"index",props:{statistics:{},orders:{},modelValue:{},customRange:{},targetCurrency:{},userSettings:{}},emits:["update:modelValue","update:customRange"],setup(t,{emit:n}){const a=t,o=n,c=t=>qc.formatCurrencyWithCode(t,"JPY"),h=t=>{const e=a.targetCurrency||"CNY";if("JPY"===e)return null;const s=qc.convertFromJPYSync(t,e);return qc.formatCurrencyWithCode(s,e)},l=vue.computed(()=>{if("today"===a.modelValue||"yesterday"===a.modelValue)return [];if("custom"===a.modelValue&&a.customRange){const t=new Date(a.customRange.startDate);if(1>=(new Date(a.customRange.endDate).getTime()-t.getTime())/864e5)return []}return Ac.generateRevenueTrendData(a.orders)}),p=vue.computed(()=>Ac.generatePaymentMethodData(a.orders)),b=vue.computed(()=>Ac.generateProductSalesRanking(a.orders));return (t,n)=>(vue.openBlock(),vue.createElementBlock("div",Rv,[vue.createElementVNode("div",Pv,[n[5]||(n[5]=vue.createElementVNode("h3",null,"统计信息",-1)),vue.createElementVNode("div",Lv,[vue.createElementVNode("div",Bv,[vue.createElementVNode("div",Fv,[vue.createElementVNode("div",jv,[vue.createVNode(Kc,{value:t.statistics.totalOrders,masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])])]),n[2]||(n[2]=vue.createElementVNode("div",{class:"stat-label"},"总订单数",-1))]),vue.createElementVNode("div",Uv,[vue.createElementVNode("div",qv,[vue.createElementVNode("div",Hv,[vue.createVNode(Kc,{value:c(t.statistics.totalRevenue),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])]),!t.userSettings?.privacyMode&&h(t.statistics.totalRevenue)?(vue.openBlock(),vue.createElementBlock("div",zv,vue.toDisplayString(h(t.statistics.totalRevenue)),1)):vue.createCommentVNode("",true)]),n[3]||(n[3]=vue.createElementVNode("div",{class:"stat-label"},"总收入",-1))]),vue.createElementVNode("div",$v,[vue.createElementVNode("div",Wv,[vue.createElementVNode("div",Yv,[vue.createVNode(Kc,{value:c(t.statistics.totalNetRevenue),masked:t.userSettings?.privacyMode||false},null,8,["value","masked"])]),!t.userSettings?.privacyMode&&h(t.statistics.totalNetRevenue)?(vue.openBlock(),vue.createElementBlock("div",Vv,vue.toDisplayString(h(t.statistics.totalNetRevenue)),1)):vue.createCommentVNode("",true)]),n[4]||(n[4]=vue.createElementVNode("div",{class:"stat-label"},"到手收入",-1))])])]),vue.createVNode(Zu,{"model-value":t.modelValue,"custom-range":t.customRange,"user-settings":t.userSettings,"onUpdate:modelValue":n[0]||(n[0]=t=>o("update:modelValue",t)),"onUpdate:customRange":n[1]||(n[1]=t=>o("update:customRange",t))},null,8,["model-value","custom-range","user-settings"]),l.value.length>0||p.value.length>0||b.value.length>0?(vue.openBlock(),vue.createElementBlock("div",Gv,[vue.createElementVNode("div",Qv,[l.value.length>0?(vue.openBlock(),vue.createBlock(Ov,{key:0,"data-points":l.value,"target-currency":t.targetCurrency,"privacy-mode":t.userSettings?.privacyMode||false},null,8,["data-points","target-currency","privacy-mode"])):vue.createCommentVNode("",true),p.value.length>0?(vue.openBlock(),vue.createBlock(Sv,{key:1,"payment-data":p.value,"privacy-mode":t.userSettings?.privacyMode||false},null,8,["payment-data","privacy-mode"])):vue.createCommentVNode("",true),b.value.length>0?(vue.openBlock(),vue.createBlock(fd,{key:2,"product-data":b.value,"target-currency":t.targetCurrency,"max-items":10,"user-settings":t.userSettings},null,8,["product-data","target-currency","user-settings"])):vue.createCommentVNode("",true)])])):vue.createCommentVNode("",true)]))}}),[["__scopeId","data-v-b96e3217"]]),Zv={class:"exchange-rate-status"},Jv={class:"status-info"},Kv={class:"rate-info"},tk={key:0,class:"update-time"},ek=["disabled"],sk={key:0,class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ik={key:1,class:"spinner"},nk=Yc(vue.defineComponent({di:"index",props:{targetCurrency:{}},setup(t){const i=t,n=vue.ref({hasCache:false,age:0,isValid:false,updateTime:null}),a=vue.ref(false),o=vue.ref(true);let h=null;const l=vue.computed(()=>{const t=i.targetCurrency||"CNY";if("JPY"===t)return "¥1.0000";const e=qc.getExchangeRateSync(t);return `${u(t)}1 = ¥${e?(1/e).toFixed(2):"0.00"}`}),u=t=>({JPY:"¥",CNY:"¥",USD:"$",EUR:"€",GBP:"£",KRW:"₩",HKD:"HK$",TWD:"NT$"}[t]||t),p=t=>{const e=Math.floor(t/1e3);return 60>e?e+"秒前":3600>e?Math.floor(e/60)+"分钟前":Math.floor(e/3600)+"小时前"},g=()=>{n.value=qc.getCacheStatus();},y=async()=>{if(!a.value){a.value=true;try{await qc.initializeRates(),g();}catch(t){}finally{a.value=false;}}};return vue.onMounted(()=>{setTimeout(()=>{g(),o.value=false;},1e3),h=window.setInterval(g,3e4);}),vue.onUnmounted(()=>{h&&clearInterval(h);}),(t,i)=>(vue.openBlock(),vue.createElementBlock("div",Zv,[vue.createElementVNode("div",{class:"status-indicator",style:vue.normalizeStyle({backgroundColor:o.value?"#6b7280":n.value.hasCache?n.value.isValid?"#10b981":"#f59e0b":"#ef4444"})},null,4),vue.createElementVNode("div",Jv,[vue.createElementVNode("span",Kv,vue.toDisplayString(l.value),1),n.value.hasCache?(vue.openBlock(),vue.createElementBlock("span",tk,vue.toDisplayString(0===n.value.age?"刚刚更新":p(n.value.age)),1)):vue.createCommentVNode("",true)]),vue.createElementVNode("button",{onClick:y,disabled:a.value,class:"booth-btn booth-btn-ghost booth-btn-icon booth-btn-sm",title:"刷新汇率"},[a.value?(vue.openBlock(),vue.createElementBlock("div",ik)):(vue.openBlock(),vue.createElementBlock("svg",sk,i[0]||(i[0]=[vue.createElementVNode("path",{d:"M1 4v6h6M23 20v-6h-6"},null,-1),vue.createElementVNode("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},null,-1)])))],8,ek)]))}}),[["__scopeId","data-v-edd46e6c"]]),rk={class:"analysis-content"},ak={class:"header"},ok={class:"header-right"},ck=["disabled"],hk={key:0,class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},lk={key:1,class:"refresh-icon loading",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},uk={class:"content"},dk={class:"tab-navigation"},fk={class:"tab-content"},pk=Yc(vue.defineComponent({di:"App",setup(t){const n=Lc.getInstance(),r=vue.ref(false),a=vue.ref(false),o=vue.ref({timezone:"Asia/Shanghai",displayName:"中国标准时间",targetCurrency:"CNY",privacyMode:false,mondayAsFirstDay:true,defaultTimeFilter:"all"}),c=vue.ref("all"),l=vue.ref(),p=vue.ref("orders"),g=vue.computed(()=>n.getOrders()),v=vue.computed(()=>0===g.value.length?[]:Ac.filterOrdersByPeriod(g.value,{period:c.value,customRange:l.value},o.value)),k=vue.computed(()=>0===v.value.length?{totalOrders:0,totalRevenue:0,totalNetRevenue:0}:Ac.calculateStats(v.value)),x=async()=>{if(r.value)return;r.value=true;const t=await n.loadOrdersFromCSV();t.success||kc.error("数据刷新失败:",t.error),r.value=false;},M=()=>{a.value=true;},_=()=>{a.value=false;},T=t=>{o.value=t;},A=t=>{c.value=t;},S=t=>{l.value=t;},E=t=>{p.value=t;},D=()=>{const t=document.getElementById("booth-analysis-panel");t&&(t.style.opacity="0",setTimeout(()=>{t.remove(),document.body.style.overflow="";},300));};return vue.onMounted(()=>{o.value=yu.getSettings();}),(t,n)=>(vue.openBlock(),vue.createElementBlock("div",rk,[vue.createElementVNode("div",ak,[n[5]||(n[5]=vue.createElementVNode("div",{class:"header-left"},[vue.createElementVNode("h1",{class:"title"},"Booth 订单分析")],-1)),vue.createElementVNode("div",ok,[vue.createVNode(vue.unref(nk),{"target-currency":o.value.targetCurrency},null,8,["target-currency"]),vue.createElementVNode("button",{onClick:M,class:"booth-btn booth-btn-secondary booth-btn-icon booth-btn-sm",title:"设置"},n[2]||(n[2]=[vue.createElementVNode("svg",{class:"settings-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[vue.createElementVNode("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),vue.createElementVNode("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z"})],-1)])),vue.createElementVNode("button",{onClick:x,disabled:r.value,class:"booth-btn booth-btn-success booth-btn-icon booth-btn-sm",title:"刷新数据"},[r.value?(vue.openBlock(),vue.createElementBlock("svg",lk,n[4]||(n[4]=[vue.createElementVNode("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},null,-1),vue.createElementVNode("path",{d:"M21 3v5h-5"},null,-1),vue.createElementVNode("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},null,-1),vue.createElementVNode("path",{d:"M3 21v-5h5"},null,-1)]))):(vue.openBlock(),vue.createElementBlock("svg",hk,n[3]||(n[3]=[vue.createElementVNode("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},null,-1),vue.createElementVNode("path",{d:"M21 3v5h-5"},null,-1),vue.createElementVNode("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},null,-1),vue.createElementVNode("path",{d:"M3 21v-5h5"},null,-1)])))],8,ck),vue.createElementVNode("button",{onClick:D,class:"booth-btn booth-btn-ghost booth-btn-icon booth-btn-sm",title:"关闭"}," × ")])]),vue.createElementVNode("div",uk,[vue.createVNode(vue.unref(Xv),{statistics:k.value,orders:v.value,"model-value":c.value,"custom-range":l.value,"target-currency":o.value.targetCurrency,"user-settings":o.value,"onUpdate:modelValue":A,"onUpdate:customRange":S},null,8,["statistics","orders","model-value","custom-range","target-currency","user-settings"]),vue.createElementVNode("div",dk,[vue.createElementVNode("button",{class:vue.normalizeClass(["booth-btn","booth-btn-ghost","booth-btn-md",{"booth-btn-primary":"orders"===p.value}]),onClick:n[0]||(n[0]=t=>E("orders"))}," 订单列表 ",2),vue.createElementVNode("button",{class:vue.normalizeClass(["booth-btn","booth-btn-ghost","booth-btn-md",{"booth-btn-primary":"items"===p.value}]),onClick:n[1]||(n[1]=t=>E("items"))}," 商品列表 ",2)]),vue.createElementVNode("div",fk,["orders"===p.value?(vue.openBlock(),vue.createBlock(vue.unref(pu),{key:0,orders:v.value,"target-currency":o.value.targetCurrency,"user-settings":o.value},null,8,["orders","target-currency","user-settings"])):vue.createCommentVNode("",true),"items"===p.value?(vue.openBlock(),vue.createBlock(vue.unref(El),{key:1,"user-settings":o.value,"selected-period":c.value,"custom-range":l.value,"target-currency":o.value.targetCurrency},null,8,["user-settings","selected-period","custom-range","target-currency"])):vue.createCommentVNode("",true)]),vue.createVNode(vue.unref(Hu),{visible:a.value,onClose:_,onSettingsChanged:T},null,8,["visible"])])]))}}),[["__scopeId","data-v-44f36af5"]]),mk=Lc.getInstance(),bk=Tc.getInstance(),gk=qc;function yk(t){const e=document.getElementById("booth-analysis-button");if(!e)return;const s=e.querySelector(".button-text"),i=e.querySelector(".loading-spinner");t?(e.classList.add("loading"),e.setAttribute("disabled","true"),s.textContent="加载中...",s.style.display="block",i.style.display="block"):(e.classList.remove("loading"),e.removeAttribute("disabled"),s.textContent="订单分析",s.style.display="block",i.style.display="none");}async function vk(){mk.isCurrentlyLoading()?kc.warn("正在加载数据，请稍候..."):mk.hasData()?kk():(yk(true),await async function(){try{const t=await mk.loadOrdersFromCSV();t.success?(yk(!1),kk()):(kc.error("数据加载失败:",t.error),yk(!1));}catch(t){kc.error("加载过程出错:",t),yk(false);}}());}async function kk(){const t=document.getElementById("booth-analysis-panel");t&&t.remove(),document.body.style.overflow="hidden";const e=document.createElement("div");e.id="booth-analysis-panel",e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(255, 255, 255, 0.9);\n    backdrop-filter: blur(5px);\n    z-index: 10000;\n    display: flex;\n    flex-direction: column;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  ";const s=document.createElement("div");s.style.cssText="\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n  ",e.appendChild(s),document.body.appendChild(e),vue.createApp(pk).mount(s),setTimeout(()=>e.style.opacity="1",10);}(async()=>{const t=_c.getInstance();await t.getValidSession(),Promise.all([gk.initializeRates(),bk.initialize()]).catch(t=>{kc.warn("初始化失败，使用默认设置:",t);}),setTimeout(async()=>{!function(){const t=document.querySelector("body > div.page-wrap.box-border.relative.z-\\[2\\].flex-grow.basis-auto.bg-\\[\\#f1f5f8\\].shadow-\\[1px_0_0_0_rgba\\(0\\,0\\,0\\,0\\.05\\)\\].transition-all.duration-\\[180ms\\].ease-in.min-w-\\[970px\\].mobile\\:min-w-\\[auto\\] > main > div.manage-page-body > div > div.lo-grid.manage-nav-block.items-center");if(t&&!document.getElementById("booth-analysis-button")){const e=document.createElement("button");e.id="booth-analysis-button",e.innerHTML='\n      <div class="loading-spinner" style="display: none;">\n        <div class="spinner"></div>\n      </div>\n      <span class="button-text">订单分析</span>\n    ',e.className="booth-btn booth-btn-primary booth-btn-md",e.style.cssText="\n      margin-left: 12px;\n      position: relative;\n      height: 36px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    ",e.addEventListener("click",vk),t.appendChild(e);}}(),mk.hasData()||(yk(true),await async function(){try{const t=await mk.loadOrdersFromCSV();t.success||kc.error("数据加载失败:",t.error),yk(!1);}catch(t){kc.error("加载过程出错:",t),yk(false);}}());},200);})();

})(Vue);